(function(){var e={version:"0.7.4.0",isUndefined:function(a){return a===undefined},isNull:function(a){return a===null},isNullOrUndefined:function(a){return a===null||a===undefined},isValue:function(a){return a!==null&&a!==undefined}},g=false,a=[];function d(b){a?a.push(b):setTimeout(b,0)}function b(){if(a){var c=a;a=null;for(var b=0,d=c.length;b<d;b++)c[b]()}}if(document.addEventListener)document.readyState=="complete"?b():document.addEventListener("DOMContentLoaded",b,false);else window.attachEvent&&window.attachEvent("onload",function(){b()});var c=window.ss;if(!c)window.ss=c={init:d,ready:d};for(var f in e)c[f]=e[f]})();Object.__typeName="Object";Object.__baseType=null;Object.clearKeys=function(a){for(var b in a)delete a[b]};Object.keyExists=function(b,a){return b[a]!==undefined};if(!Object.keys){Object.keys=function(b){var a=[];for(var c in b)a.push(c);return a};Object.getKeyCount=function(b){var a=0;for(var c in b)a++;return a}}else Object.getKeyCount=function(a){return Object.keys(a).length};Boolean.__typeName="Boolean";Boolean.parse=function(a){return a.toLowerCase()=="true"};Number.__typeName="Number";Number.parse=function(a){return!a||!a.length?0:a.indexOf(".")>=0||a.indexOf("e")>=0||a.endsWith("f")||a.endsWith("F")?parseFloat(a):parseInt(a,10)};Number.prototype.format=function(a){return ss.isNullOrUndefined(a)||a.length==0||a=="i"?this.toString():this._netFormat(a,false)};Number.prototype.localeFormat=function(a){return ss.isNullOrUndefined(a)||a.length==0||a=="i"?this.toLocaleString():this._netFormat(a,true)};Number._commaFormat=function(a,i,n,o){var c=null,h=a.indexOf(n);if(h>0){c=a.substr(h);a=a.substr(0,h)}var j=a.startsWith("-");if(j)a=a.substr(1);var f=0,g=i[f];if(a.length<g)return c?a+c:a;var k=a.length,b="",l=false;while(!l){var e=g,d=k-e;if(d<0){g+=d;e+=d;d=0;l=true}if(!e)break;var m=a.substr(d,e);if(b.length)b=m+o+b;else b=m;k-=e;if(f<i.length-1){f++;g=i[f]}}if(j)b="-"+b;return c?b+c:b};Number.prototype._netFormat=function(f,g){var b=g?ss.CultureInfo.CurrentCulture.numberFormat:ss.CultureInfo.InvariantCulture.numberFormat,a="",c=-1;if(f.length>1)c=parseInt(f.substr(1));var e=f.charAt(0);switch(e){case"d":case"D":a=parseInt(Math.abs(this)).toString();if(c!=-1)a=a.padLeft(c,"0");if(this<0)a="-"+a;break;case"x":case"X":a=parseInt(Math.abs(this)).toString(16);if(e=="X")a=a.toUpperCase();if(c!=-1)a=a.padLeft(c,"0");break;case"e":case"E":if(c==-1)a=this.toExponential();else a=this.toExponential(c);if(e=="E")a=a.toUpperCase();break;case"f":case"F":case"n":case"N":if(c==-1)c=b.numberDecimalDigits;a=this.toFixed(c).toString();if(c&&b.numberDecimalSeparator!="."){var d=a.indexOf(".");a=a.substr(0,d)+b.numberDecimalSeparator+a.substr(d+1)}if(e=="n"||e=="N")a=Number._commaFormat(a,b.numberGroupSizes,b.numberDecimalSeparator,b.numberGroupSeparator);break;case"c":case"C":if(c==-1)c=b.currencyDecimalDigits;a=Math.abs(this).toFixed(c).toString();if(c&&b.currencyDecimalSeparator!="."){var d=a.indexOf(".");a=a.substr(0,d)+b.currencyDecimalSeparator+a.substr(d+1)}a=Number._commaFormat(a,b.currencyGroupSizes,b.currencyDecimalSeparator,b.currencyGroupSeparator);if(this<0)a=String.format(b.currencyNegativePattern,a);else a=String.format(b.currencyPositivePattern,a);break;case"p":case"P":if(c==-1)c=b.percentDecimalDigits;a=(Math.abs(this)*100).toFixed(c).toString();if(c&&b.percentDecimalSeparator!="."){var d=a.indexOf(".");a=a.substr(0,d)+b.percentDecimalSeparator+a.substr(d+1)}a=Number._commaFormat(a,b.percentGroupSizes,b.percentDecimalSeparator,b.percentGroupSeparator);if(this<0)a=String.format(b.percentNegativePattern,a);else a=String.format(b.percentPositivePattern,a)}return a};String.__typeName="String";String.Empty="";String.compare=function(a,b,c){if(c){if(a)a=a.toUpperCase();if(b)b=b.toUpperCase()}a=a||"";b=b||"";return a==b?0:a<b?-1:1};String.prototype.compareTo=function(b,a){return String.compare(this,b,a)};String.concat=function(){return arguments.length===2?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,"")};String.prototype.endsWith=function(a){return!a.length?true:a.length>this.length?false:this.substr(this.length-a.length)==a};String.equals=function(b,c,a){return String.compare(b,c,a)==0};String._format=function(b,c,a){if(!String._formatRE)String._formatRE=/(\{[^\}^\{]+\})/g;return b.replace(String._formatRE,function(h,d){var g=parseInt(d.substr(1)),b=c[g+1];if(ss.isNullOrUndefined(b))return"";if(b.format){var e=null,f=d.indexOf(":");if(f>0)e=d.substring(f+1,d.length-1);return a?b.localeFormat(e):b.format(e)}else return a?b.toLocaleString():b.toString()})};String.format=function(a){return String._format(a,arguments,false)};String.fromChar=function(a,d){for(var c=a,b=1;b<d;b++)c+=a;return c};String.prototype.htmlDecode=function(){var a=document.createElement("div");a.innerHTML=this;return a.textContent||a.innerText};String.prototype.htmlEncode=function(){var a=document.createElement("div");a.appendChild(document.createTextNode(this));return a.innerHTML.replace(/\"/g,"&quot;")};String.prototype.indexOfAny=function(f,a,e){var b=this.length;if(!b)return-1;a=a||0;e=e||b;var d=a+e-1;if(d>=b)d=b-1;for(var c=a;c<=d;c++)if(f.indexOf(this.charAt(c))>=0)return c;return-1};String.prototype.insert=function(a,b){if(!b)return this.valueOf();if(!a)return b+this;var c=this.substr(0,a),d=this.substr(a);return c+b+d};String.isNullOrEmpty=function(a){return!a||!a.length};String.prototype.lastIndexOfAny=function(f,a,e){var d=this.length;if(!d)return-1;a=a||d-1;e=e||d;var c=a-e+1;if(c<0)c=0;for(var b=a;b>=c;b--)if(f.indexOf(this.charAt(b))>=0)return b;return-1};String.localeFormat=function(a){return String._format(a,arguments,true)};String.prototype.padLeft=function(b,a){if(this.length<b){a=a||" ";return String.fromChar(a,b-this.length)+this}return this.valueOf()};String.prototype.padRight=function(b,a){if(this.length<b){a=a||" ";return this+String.fromChar(a,b-this.length)}return this.valueOf()};String.prototype.remove=function(a,b){return!b||a+b>this.length?this.substr(0,a):this.substr(0,a)+this.substr(a+b)};String.prototype.replaceAll=function(b,a){a=a||"";return this.split(b).join(a)};String.prototype.startsWith=function(a){return!a.length?true:a.length>this.length?false:this.substr(0,a.length)==a};if(!String.prototype.trim)String.prototype.trim=function(){return this.trimEnd().trimStart()};String.prototype.trimEnd=function(){return this.replace(/\s*$/,"")};String.prototype.trimStart=function(){return this.replace(/^\s*/,"")};Array.__typeName="Array";Array.__interfaces=[ss.IEnumerable];Array.prototype.add=function(a){this[this.length]=a};Array.prototype.addRange=function(a){this.push.apply(this,a)};Array.prototype.aggregate=function(b,c,d){for(var e=this.length,a=0;a<e;a++)if(a in this)b=c.call(d,b,this[a],a,this);return b};Array.prototype.clear=function(){this.length=0};Array.prototype.clone=function(){return this.length===1?[this[0]]:Array.apply(null,this)};Array.prototype.contains=function(b){var a=this.indexOf(b);return a>=0};Array.prototype.dequeue=function(){return this.shift()};Array.prototype.enqueue=function(a){this._queue=true;this.push(a)};Array.prototype.peek=function(){if(this.length){var a=this._queue?0:this.length-1;return this[a]}return null};if(!Array.prototype.every)Array.prototype.every=function(b,c){for(var d=this.length,a=0;a<d;a++)if(a in this&&!b.call(c,this[a],a,this))return false;return true};Array.prototype.extract=function(a,b){return!b?this.slice(a):this.slice(a,a+b)};if(!Array.prototype.filter)Array.prototype.filter=function(d,e){for(var f=this.length,b=[],a=0;a<f;a++)if(a in this){var c=this[a];d.call(e,c,a,this)&&b.push(c)}return b};if(!Array.prototype.forEach)Array.prototype.forEach=function(b,c){for(var d=this.length,a=0;a<d;a++)a in this&&b.call(c,this[a],a,this)};Array.prototype.getEnumerator=function(){return new ss.ArrayEnumerator(this)};Array.prototype.groupBy=function(f,g){for(var h=this.length,d=[],e={},b=0;b<h;b++)if(b in this){var c=f.call(g,this[b],b);if(String.isNullOrEmpty(c))continue;var a=e[c];if(!a){a=[];a.key=c;e[c]=a;d.add(a)}a.add(this[b])}return d};Array.prototype.index=function(d,e){for(var f=this.length,b={},a=0;a<f;a++)if(a in this){var c=d.call(e,this[a],a);if(String.isNullOrEmpty(c))continue;b[c]=this[a]}return b};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(d,b){b=b||0;var c=this.length;if(c)for(var a=b;a<c;a++)if(this[a]===d)return a;return-1};Array.prototype.insert=function(a,b){this.splice(a,0,b)};Array.prototype.insertRange=function(c,b){if(c===0)this.unshift.apply(this,b);else for(var a=0;a<b.length;a++)this.splice(c+a,0,b[a])};if(!Array.prototype.map)Array.prototype.map=function(d,e){for(var b=this.length,c=new Array(b),a=0;a<b;a++)if(a in this)c[a]=d.call(e,this[a],a,this);return c};Array.parse=function(a){return eval("("+a+")")};Array.prototype.remove=function(b){var a=this.indexOf(b);if(a>=0){this.splice(a,1);return true}return false};Array.prototype.removeAt=function(a){this.splice(a,1)};Array.prototype.removeRange=function(b,a){return this.splice(b,a)};if(!Array.prototype.some)Array.prototype.some=function(b,c){for(var d=this.length,a=0;a<d;a++)if(a in this&&b.call(c,this[a],a,this))return true;return false};Array.toArray=function(a){return Array.prototype.slice.call(a)};RegExp.__typeName="RegExp";RegExp.parse=function(a){if(a.startsWith("/")){var b=a.lastIndexOf("/");if(b>1){var c=a.substring(1,b),d=a.substr(b+1);return new RegExp(c,d)}}return null};Date.__typeName="Date";Date.empty=null;Date.get_now=function(){return new Date};Date.get_today=function(){var a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate())};Date.isEmpty=function(a){return a===null||a.valueOf()===0};Date.prototype.format=function(a){return ss.isNullOrUndefined(a)||a.length==0||a=="i"?this.toString():a=="id"?this.toDateString():a=="it"?this.toTimeString():this._netFormat(a,false)};Date.prototype.localeFormat=function(a){return ss.isNullOrUndefined(a)||a.length==0||a=="i"?this.toLocaleString():a=="id"?this.toLocaleDateString():a=="it"?this.toLocaleTimeString():this._netFormat(a,true)};Date.prototype._netFormat=function(d,i){var b=this,c=i?ss.CultureInfo.CurrentCulture.dateFormat:ss.CultureInfo.InvariantCulture.dateFormat;if(d.length==1)switch(d){case"f":d=c.longDatePattern+" "+c.shortTimePattern;break;case"F":d=c.dateTimePattern;break;case"d":d=c.shortDatePattern;break;case"D":d=c.longDatePattern;break;case"t":d=c.shortTimePattern;break;case"T":d=c.longTimePattern;break;case"g":d=c.shortDatePattern+" "+c.shortTimePattern;break;case"G":d=c.shortDatePattern+" "+c.longTimePattern;break;case"R":case"r":c=ss.CultureInfo.InvariantCulture.dateFormat;d=c.gmtDateTimePattern;break;case"u":d=c.universalDateTimePattern;break;case"U":d=c.dateTimePattern;b=new Date(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds());break;case"s":d=c.sortableDateTimePattern}if(d.charAt(0)=="%")d=d.substr(1);if(!Date._formatRE)Date._formatRE=/'.*?[^\\]'|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z/g;var g=Date._formatRE,h=new ss.StringBuilder;g.lastIndex=0;while(true){var j=g.lastIndex,f=g.exec(d);h.append(d.slice(j,f?f.index:d.length));if(!f)break;var e=f[0],a=e;switch(e){case"dddd":a=c.dayNames[b.getDay()];break;case"ddd":a=c.shortDayNames[b.getDay()];break;case"dd":a=b.getDate().toString().padLeft(2,"0");break;case"d":a=b.getDate();break;case"MMMM":a=c.monthNames[b.getMonth()];break;case"MMM":a=c.shortMonthNames[b.getMonth()];break;case"MM":a=(b.getMonth()+1).toString().padLeft(2,"0");break;case"M":a=b.getMonth()+1;break;case"yyyy":a=b.getFullYear();break;case"yy":a=(b.getFullYear()%100).toString().padLeft(2,"0");break;case"y":a=b.getFullYear()%100;break;case"h":case"hh":a=b.getHours()%12;if(!a)a="12";else if(e=="hh")a=a.toString().padLeft(2,"0");break;case"HH":a=b.getHours().toString().padLeft(2,"0");break;case"H":a=b.getHours();break;case"mm":a=b.getMinutes().toString().padLeft(2,"0");break;case"m":a=b.getMinutes();break;case"ss":a=b.getSeconds().toString().padLeft(2,"0");break;case"s":a=b.getSeconds();break;case"t":case"tt":a=b.getHours()<12?c.amDesignator:c.pmDesignator;if(e=="t")a=a.charAt(0);break;case"fff":a=b.getMilliseconds().toString().padLeft(3,"0");break;case"ff":a=b.getMilliseconds().toString().padLeft(3).substr(0,2);break;case"f":a=b.getMilliseconds().toString().padLeft(3).charAt(0);break;case"z":a=b.getTimezoneOffset()/60;a=(a>=0?"-":"+")+Math.floor(Math.abs(a));break;case"zz":case"zzz":a=b.getTimezoneOffset()/60;a=(a>=0?"-":"+")+Math.floor(Math.abs(a)).toString().padLeft(2,"0");if(e=="zzz")a+=c.timeSeparator+Math.abs(b.getTimezoneOffset()%60).toString().padLeft(2,"0");break;default:if(a.charAt(0)=="'")a=a.substr(1,a.length-2).replace(/\\'/g,"'")}h.append(a)}return h.toString()};Date.parseDate=function(a){return new Date(Date.parse(a))};Error.__typeName="Error";Error.prototype.popStackFrame=function(){if(ss.isNullOrUndefined(this.stack)||ss.isNullOrUndefined(this.fileName)||ss.isNullOrUndefined(this.lineNumber))return;var a=this.stack.split("\n"),c=a[0],e=this.fileName+":"+this.lineNumber;while(!ss.isNullOrUndefined(c)&&c.indexOf(e)===-1){a.shift();c=a[0]}var d=a[1];if(isNullOrUndefined(d))return;var b=d.match(/@(.*):(\d+)$/);if(ss.isNullOrUndefined(b))return;a.shift();this.stack=a.join("\n");this.fileName=b[1];this.lineNumber=parseInt(b[2])};Error.createError=function(e,b,c){var a=new Error(e);if(b)for(var d in b)a[d]=b[d];if(c)a.innerException=c;a.popStackFrame();return a};ss.Debug=window.Debug||function(){};ss.Debug.__typeName="Debug";if(!ss.Debug.writeln)ss.Debug.writeln=function(a){if(window.console){if(window.console.debug){window.console.debug(a);return}else if(window.console.log){window.console.log(a);return}}else if(window.opera&&window.opera.postError){window.opera.postError(a);return}};ss.Debug._fail=function(a){ss.Debug.writeln(a);eval("debugger;")};ss.Debug.assert=function(b,a){if(!b){a="Assert failed: "+a;confirm(a+"\r\n\r\nBreak into debugger?")&&ss.Debug._fail(a)}};ss.Debug.fail=function(a){ss.Debug._fail(a)};window.Type=Function;Type.__typeName="Type";window.__Namespace=function(a){this.__typeName=a};__Namespace.prototype={__namespace:true,getName:function(){return this.__typeName}};Type.registerNamespace=function(e){if(!window.__namespaces)window.__namespaces={};if(!window.__rootNamespaces)window.__rootNamespaces=[];if(window.__namespaces[e])return;for(var c=window,d=e.split("."),a=0;a<d.length;a++){var f=d[a],b=c[f];if(!b){c[f]=b=new __Namespace(d.slice(0,a+1).join("."));a==0&&window.__rootNamespaces.add(b)}c=b}window.__namespaces[e]=c};Type.prototype.registerClass=function(d,c,a){this.prototype.constructor=this;this.__typeName=d;this.__class=true;this.__baseType=c||Object;if(c)this.__basePrototypePending=true;if(a){this.__interfaces=[];for(var b=2;b<arguments.length;b++){a=arguments[b];this.__interfaces.add(a)}}};Type.prototype.registerInterface=function(a){this.__typeName=a;this.__interface=true};Type.prototype.registerEnum=function(c,b){for(var a in this.prototype)this[a]=this.prototype[a];this.__typeName=c;this.__enum=true;if(b)this.__flags=true};Type.prototype.setupBase=function(){if(this.__basePrototypePending){var a=this.__baseType;a.__basePrototypePending&&a.setupBase();for(var b in a.prototype){var c=a.prototype[b];if(!this.prototype[b])this.prototype[b]=c}delete this.__basePrototypePending}};if(!Type.prototype.resolveInheritance)Type.prototype.resolveInheritance=Type.prototype.setupBase;Type.prototype.initializeBase=function(a,b){this.__basePrototypePending&&this.setupBase();if(!b)this.__baseType.apply(a);else this.__baseType.apply(a,b)};Type.prototype.callBaseMethod=function(b,d,c){var a=this.__baseType.prototype[d];return!c?a.apply(b):a.apply(b,c)};Type.prototype.get_baseType=function(){return this.__baseType||null};Type.prototype.get_fullName=function(){return this.__typeName};Type.prototype.get_name=function(){var a=this.__typeName,b=a.lastIndexOf(".");return b>0?a.substr(b+1):a};Type.prototype.getInterfaces=function(){return this.__interfaces};Type.prototype.isInstanceOfType=function(a){if(ss.isNullOrUndefined(a))return false;if(this==Object||a instanceof this)return true;var b=Type.getInstanceType(a);return this.isAssignableFrom(b)};Type.prototype.isAssignableFrom=function(c){if(this==Object||this==c)return true;if(this.__class){var a=c.__baseType;while(a){if(this==a)return true;a=a.__baseType}}else if(this.__interface){var b=c.__interfaces;if(b&&b.contains(this))return true;var a=c.__baseType;while(a){b=a.__interfaces;if(b&&b.contains(this))return true;a=a.__baseType}}return false};Type.isClass=function(a){return a.__class==true};Type.isEnum=function(a){return a.__enum==true};Type.isFlags=function(a){return a.__enum==true&&a.__flags==true};Type.isInterface=function(a){return a.__interface==true};Type.isNamespace=function(a){return a.__namespace==true};Type.canCast=function(a,b){return b.isInstanceOfType(a)};Type.safeCast=function(a,b){return b.isInstanceOfType(a)?a:null};Type.getInstanceType=function(b){var a=null;try{a=b.constructor}catch(c){}if(!a||!a.__typeName)a=Object;return a};Type.getType=function(a){if(!a)return null;if(!Type.__typeCache)Type.__typeCache={};var b=Type.__typeCache[a];if(!b){b=eval(a);Type.__typeCache[a]=b}return b};Type.parse=function(a){return Type.getType(a)};ss.Delegate=function(){};ss.Delegate.registerClass("Delegate");ss.Delegate.empty=function(){};ss.Delegate._contains=function(b,d,c){for(var a=0;a<b.length;a+=2)if(b[a]===d&&b[a+1]===c)return true;return false};ss.Delegate._create=function(a){var b=function(){if(a.length==2)return a[1].apply(a[0],arguments);else{for(var c=a.clone(),b=0;b<c.length;b+=2)ss.Delegate._contains(a,c[b],c[b+1])&&c[b+1].apply(c[b],arguments);return null}};b._targets=a;return b};ss.Delegate.create=function(b,a){return!b?a:ss.Delegate._create([b,a])};ss.Delegate.combine=function(a,b){if(!a)return!b._targets?ss.Delegate.create(null,b):b;if(!b)return!a._targets?ss.Delegate.create(null,a):a;var c=a._targets?a._targets:[null,a],d=b._targets?b._targets:[null,b];return ss.Delegate._create(c.concat(d))};ss.Delegate.remove=function(c,a){if(!c||c===a)return null;if(!a)return c;var b=c._targets,f=null,e;if(a._targets){f=a._targets[0];e=a._targets[1]}else e=a;for(var d=0;d<b.length;d+=2)if(b[d]===f&&b[d+1]===e){if(b.length==2)return null;b.splice(d,2);return ss.Delegate._create(b)}return c};ss.Delegate.createExport=function(b,c,a){a=a||"__"+(new Date).valueOf();window[a]=c?b:function(){try{delete window[a]}catch(c){window[a]=undefined}b.apply(null,arguments)};return a};ss.Delegate.deleteExport=function(a){delete window[a]};ss.Delegate.clearExport=function(a){window[a]=ss.Delegate.empty};ss.CultureInfo=function(c,a,b){this.name=c;this.numberFormat=a;this.dateFormat=b};ss.CultureInfo.registerClass("CultureInfo");ss.CultureInfo.InvariantCulture=new ss.CultureInfo("en-US",{naNSymbol:"NaN",negativeSign:"-",positiveSign:"+",negativeInfinityText:"-Infinity",positiveInfinityText:"Infinity",percentSymbol:"%",percentGroupSizes:[3],percentDecimalDigits:2,percentDecimalSeparator:".",percentGroupSeparator:",",percentPositivePattern:"{0} %",percentNegativePattern:"-{0} %",currencySymbol:"$",currencyGroupSizes:[3],currencyDecimalDigits:2,currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyNegativePattern:"(${0})",currencyPositivePattern:"${0}",numberGroupSizes:[3],numberDecimalDigits:2,numberDecimalSeparator:".",numberGroupSeparator:","},{amDesignator:"AM",pmDesignator:"PM",dateSeparator:"/",timeSeparator:":",gmtDateTimePattern:"ddd, dd MMM yyyy HH:mm:ss 'GMT'",universalDateTimePattern:"yyyy-MM-dd HH:mm:ssZ",sortableDateTimePattern:"yyyy-MM-ddTHH:mm:ss",dateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",longDatePattern:"dddd, MMMM dd, yyyy",shortDatePattern:"M/d/yyyy",longTimePattern:"h:mm:ss tt",shortTimePattern:"h:mm tt",firstDayOfWeek:0,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],minimizedDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]});ss.CultureInfo.CurrentCulture=ss.CultureInfo.InvariantCulture;ss.IEnumerator=function(){};ss.IEnumerator.getEnumerator=function(a){return a?a.getEnumerator?a.getEnumerator():new ss.ArrayEnumerator(a):null};ss.IEnumerator.registerInterface("IEnumerator");ss.IEnumerable=function(){};ss.IEnumerable.registerInterface("IEnumerable");ss.ArrayEnumerator=function(a){this._array=a;this._index=-1;this.current=null};ss.ArrayEnumerator.prototype={moveNext:function(){this._index++;this.current=this._array[this._index];return this._index<this._array.length},reset:function(){this._index=-1;this.current=null}};ss.ArrayEnumerator.registerClass("ArrayEnumerator",null,ss.IEnumerator);ss.IDisposable=function(){};ss.IDisposable.registerInterface("IDisposable");ss.StringBuilder=function(a){this._parts=ss.isNullOrUndefined(a)||a===""?[]:[a];this.isEmpty=this._parts.length==0};ss.StringBuilder.prototype={append:function(a){if(!ss.isNullOrUndefined(a)&&a!==""){this._parts.add(a);this.isEmpty=false}return this},appendLine:function(a){this.append(a);this.append("\r\n");this.isEmpty=false;return this},clear:function(){this._parts=[];this.isEmpty=true},toString:function(a){return this._parts.join(a||"")}};ss.StringBuilder.registerClass("StringBuilder");ss.EventArgs=function(){};ss.EventArgs.registerClass("EventArgs");ss.EventArgs.Empty=new ss.EventArgs;if(!window.XMLHttpRequest)window.XMLHttpRequest=function(){for(var b=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],a=0;a<b.length;a++)try{return new ActiveXObject(b[a])}catch(d){}return null};ss.parseXml=function(d){try{if(DOMParser){var e=new DOMParser;return e.parseFromString(d,"text/xml")}else for(var c=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"],b=0;b<c.length;b++){var a=new ActiveXObject(c[b]);a.async=false;a.loadXML(d);a.setProperty("SelectionLanguage","XPath");return a}}catch(f){}return null};ss.CancelEventArgs=function(){ss.CancelEventArgs.initializeBase(this);this.cancel=false};ss.CancelEventArgs.registerClass("CancelEventArgs",ss.EventArgs);ss.Tuple=function(b,a,c){this.first=b;this.second=a;if(arguments.length==3)this.third=c};ss.Tuple.registerClass("Tuple");ss.Observable=function(a){this._v=a;this._observers=null};ss.Observable.prototype={getValue:function(){this._observers=ss.Observable._captureObservers(this._observers);return this._v},setValue:function(b){if(this._v!==b){this._v=b;var a=this._observers;if(a){this._observers=null;ss.Observable._invalidateObservers(a)}}}};ss.Observable._observerStack=[];ss.Observable._observerRegistration={dispose:function(){ss.Observable._observerStack.pop()}};ss.Observable.registerObserver=function(a){ss.Observable._observerStack.push(a);return ss.Observable._observerRegistration};ss.Observable._captureObservers=function(a){var c=ss.Observable._observerStack,d=c.length;if(d){a=a||[];for(var b=0;b<d;b++){var e=c[b];!a.contains(e)&&a.push(e)}return a}return null};ss.Observable._invalidateObservers=function(b){for(var a=0,c=b.length;a<c;a++)b[a].invalidateObserver()};ss.Observable.registerClass("Observable");ss.ObservableCollection=function(a){this._items=a||[];this._observers=null};ss.ObservableCollection.prototype={get_item:function(a){this._observers=ss.Observable._captureObservers(this._observers);return this._items[a]},set_item:function(a,b){this._items[a]=b;this._updated()},get_length:function(){this._observers=ss.Observable._captureObservers(this._observers);return this._items.length},add:function(a){this._items.push(a);this._updated()},clear:function(){this._items.clear();this._updated()},contains:function(a){return this._items.contains(a)},getEnumerator:function(){this._observers=ss.Observable._captureObservers(this._observers);return this._items.getEnumerator()},indexOf:function(a){return this._items.indexOf(a)},insert:function(a,b){this._items.insert(a,b);this._updated()},remove:function(a){if(this._items.remove(a)){this._updated();return true}return false},removeAt:function(a){this._items.removeAt(a);this._updated()},toArray:function(){return this._items},_updated:function(){var a=this._observers;if(a){this._observers=null;ss.Observable._invalidateObservers(a)}}};ss.ObservableCollection.registerClass("ObservableCollection",null,ss.IEnumerable);ss.IApplication=function(){};ss.IApplication.registerInterface("IApplication");ss.IContainer=function(){};ss.IContainer.registerInterface("IContainer");ss.IObjectFactory=function(){};ss.IObjectFactory.registerInterface("IObjectFactory");ss.IEventManager=function(){};ss.IEventManager.registerInterface("IEventManager");ss.IInitializable=function(){};ss.IInitializable.registerInterface("IInitializable");// wwtlib.js
(function(){
window.DAY_OF_WEEK=function(){};DAY_OF_WEEK.prototype = {SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6}
DAY_OF_WEEK.registerEnum('DAY_OF_WEEK',false);window.EO=function(){};EO.prototype = {SUN:0,MERCURY:1,VENUS:2,MARS:3,JUPITER:4,SATURN:5,URANUS:6,NEPTUNE:7,PLUTO:8}
EO.registerEnum('EO',false);window.GFX=function(){}
window.ABR=function(){}
ABR.earthVelocity=function(JD){var $0=(JD-2451545)/36525;var $1=3.1761467+1021.3285546*$0;var $2=1.7534703+628.3075849*$0;var $3=6.2034809+334.0612431*$0;var $4=0.5995465+52.9690965*$0;var $5=0.8740168+21.3299095*$0;var $6=5.4812939+7.4781599*$0;var $7=5.3118863+3.8133036*$0;var $8=3.8103444+8399.6847337*$0;var $9=5.1984667+7771.3771486*$0;var $A=2.3555559+8328.6914289*$0;var $B=1.6279052+8433.4661601*$0;var $C=new C3D();var $D=GFX.g_ACft.length;for(var $E=0;$E<$D;$E++){var $F=GFX.g_ACft[$E].l2*$1+GFX.g_ACft[$E].l3*$2+GFX.g_ACft[$E].l4*$3+GFX.g_ACft[$E].l5*$4+GFX.g_ACft[$E].l6*$5+GFX.g_ACft[$E].l7*$6+GFX.g_ACft[$E].l8*$7+GFX.g_ACft[$E].ldash*$8+GFX.g_ACft[$E].d*$9+GFX.g_ACft[$E].mdash*$A+GFX.g_ACft[$E].f*$B;$C.x+=(GFX.g_ACft[$E].xsin+GFX.g_ACft[$E].xsint*$0)*Math.sin($F);$C.x+=(GFX.g_ACft[$E].xcos+GFX.g_ACft[$E].xcost*$0)*Math.cos($F);$C.y+=(GFX.g_ACft[$E].ysin+GFX.g_ACft[$E].ysint*$0)*Math.sin($F);$C.y+=(GFX.g_ACft[$E].ycos+GFX.g_ACft[$E].ycost*$0)*Math.cos($F);$C.z+=(GFX.g_ACft[$E].zsin+GFX.g_ACft[$E].zsint*$0)*Math.sin($F);$C.z+=(GFX.g_ACft[$E].zcos+GFX.g_ACft[$E].zcost*$0)*Math.cos($F);}return $C;}
ABR.eclipticAberration=function(Lambda,Beta,JD){var $0=new COR();var $1=(JD-2451545)/36525;var $2=$1*$1;var $3=0.016708634-4.2037E-05*$1-1.267E-07*$2;var $4=102.93735+1.71946*$1+0.00046*$2;var $5=20.49552;var $6=CAASun.geometricEclipticLongitude(JD);$4=CT.d2R($4);Lambda=CT.d2R(Lambda);Beta=CT.d2R(Beta);$6=CT.d2R($6);$0.x=(-$5*Math.cos($6-Lambda)+$3*$5*Math.cos($4-Lambda))/Math.cos(Beta)/3600;$0.y=-$5*Math.sin(Beta)*(Math.sin($6-Lambda)-$3*Math.sin($4-Lambda))/3600;return $0;}
ABR.equatorialAberration=function(Alpha,Delta,JD){Alpha=CT.d2R(Alpha*15);Delta=CT.d2R(Delta);var $0=Math.cos(Alpha);var $1=Math.sin(Alpha);var $2=Math.cos(Delta);var $3=Math.sin(Delta);var $4=ABR.earthVelocity(JD);var $5=new COR();$5.x=CT.r2H(($4.y*$0-$4.x*$1)/(17314463350*$2));$5.y=CT.r2D(-((($4.x*$0+$4.y*$1)*$3-$4.z*$2)/17314463350));return $5;}
window.ACFT=function(L2,L3,L4,L5,L6,L7,L8,Ldash,D,Mdash,F,xsin,xsint,xcos,xcost,ysin,ysint,ycos,ycost,zsin,zsint,zcos,zcost){this.l2=L2;this.l3=L3;this.l4=L4;this.l5=L5;this.l6=L6;this.l7=L7;this.l8=L8;this.ldash=Ldash;this.d=D;this.mdash=Mdash;this.f=F;this.xsin=xsin;this.xsint=xsint;this.xcos=xcos;this.xcost=xcost;this.ysin=ysin;this.ysint=ysint;this.ycos=ycos;this.ycost=ycost;this.zsin=zsin;this.zsint=zsint;this.zcos=zcos;this.zcost=zcost;}
ACFT.prototype={l2:0,l3:0,l4:0,l5:0,l6:0,l7:0,l8:0,ldash:0,d:0,mdash:0,f:0,xsin:0,xsint:0,xcos:0,xcost:0,ysin:0,ysint:0,ycos:0,ycost:0,zsin:0,zsint:0,zcos:0,zcost:0}
window.ASEP=function(){}
ASEP.separation=function(Alpha1,Delta1,Alpha2,Delta2){Delta1=CT.d2R(Delta1);Delta2=CT.d2R(Delta2);Alpha1=CT.h2R(Alpha1);Alpha2=CT.h2R(Alpha2);var $0=Math.cos(Delta1)*Math.sin(Delta2)-Math.sin(Delta1)*Math.cos(Delta2)*Math.cos(Alpha2-Alpha1);var $1=Math.cos(Delta2)*Math.sin(Alpha2-Alpha1);var $2=Math.sin(Delta1)*Math.sin(Delta2)+Math.cos(Delta1)*Math.cos(Delta2)*Math.cos(Alpha2-Alpha1);var $3=Math.atan2(Math.sqrt($0*$0+$1*$1),$2);$3=CT.r2D($3);if($3<0){$3+=180;}return $3;}
ASEP.positionAngle=function(alpha1,delta1,alpha2,delta2){var $0;var $1;var $2;var $3;$1=CT.d2R(delta1);$3=CT.d2R(delta2);$0=CT.h2R(alpha1);$2=CT.h2R(alpha2);var $4=$0-$2;var $5=Math.cos($3)*Math.tan($1)-Math.sin($3)*Math.cos($4);var $6=Math.sin($4);var $7=Math.atan2($6,$5);$7=CT.r2D($7);return $7;}
ASEP.distanceFromGreatArc=function(Alpha1,Delta1,Alpha2,Delta2,Alpha3,Delta3){Delta1=CT.d2R(Delta1);Delta2=CT.d2R(Delta2);Delta3=CT.d2R(Delta3);Alpha1=CT.h2R(Alpha1);Alpha2=CT.h2R(Alpha2);Alpha3=CT.h2R(Alpha3);var $0=Math.cos(Delta1)*Math.cos(Alpha1);var $1=Math.cos(Delta2)*Math.cos(Alpha2);var $2=Math.cos(Delta1)*Math.sin(Alpha1);var $3=Math.cos(Delta2)*Math.sin(Alpha2);var $4=Math.sin(Delta1);var $5=Math.sin(Delta2);var $6=$2*$5-$4*$3;var $7=$4*$1-$0*$5;var $8=$0*$3-$2*$1;var $9=Math.tan(Alpha3);var $A=Math.tan(Delta3)/Math.cos(Alpha3);var $B=Math.asin(($6+$7*$9+$8*$A)/(Math.sqrt($6*$6+$7*$7+$8*$8)*Math.sqrt(1+$9*$9+$A*$A)));$B=CT.r2D($B);if($B<0){$B=Math.abs($B);}return $B;}
window.COR=function(){this.x=0;this.y=0;}
COR.create=function(x,y){var $0=new COR();$0.x=x;$0.y=y;return $0;}
COR.prototype={x:0,y:0}
window.C3D=function(){this.x=0;this.y=0;this.z=0;}
C3D.create=function(x,y,z){var $0=new C3D();$0.x=x;$0.y=y;$0.z=z;return $0;}
C3D.prototype={x:0,y:0,z:0}
window.CT=function(){}
CT.eq2Ec=function(Alpha,Delta,Epsilon){Alpha=CT.h2R(Alpha);Delta=CT.d2R(Delta);Epsilon=CT.d2R(Epsilon);var $0=new COR();$0.x=CT.r2D(Math.atan2(Math.sin(Alpha)*Math.cos(Epsilon)+Math.tan(Delta)*Math.sin(Epsilon),Math.cos(Alpha)));if($0.x<0){$0.x+=360;}$0.y=CT.r2D(Math.asin(Math.sin(Delta)*Math.cos(Epsilon)-Math.cos(Delta)*Math.sin(Epsilon)*Math.sin(Alpha)));return $0;}
CT.ec2Eq=function(Lambda,Beta,Epsilon){Lambda=CT.d2R(Lambda);Beta=CT.d2R(Beta);Epsilon=CT.d2R(Epsilon);var $0=new COR();$0.x=CT.r2H(Math.atan2(Math.sin(Lambda)*Math.cos(Epsilon)-Math.tan(Beta)*Math.sin(Epsilon),Math.cos(Lambda)));if($0.x<0){$0.x+=24;}$0.y=CT.r2D(Math.asin(Math.sin(Beta)*Math.cos(Epsilon)+Math.cos(Beta)*Math.sin(Epsilon)*Math.sin(Lambda)));return $0;}
CT.eq2H=function(LocalHourAngle,Delta,Latitude){LocalHourAngle=CT.h2R(LocalHourAngle);Delta=CT.d2R(Delta);Latitude=CT.d2R(Latitude);var $0=new COR();$0.x=CT.r2D(Math.atan2(Math.sin(LocalHourAngle),Math.cos(LocalHourAngle)*Math.sin(Latitude)-Math.tan(Delta)*Math.cos(Latitude)));if($0.x<0){$0.x+=360;}$0.y=CT.r2D(Math.asin(Math.sin(Latitude)*Math.sin(Delta)+Math.cos(Latitude)*Math.cos(Delta)*Math.cos(LocalHourAngle)));return $0;}
CT.h2Eq=function(Azimuth,Altitude,Latitude){Azimuth=CT.d2R(Azimuth);Altitude=CT.d2R(Altitude);Latitude=CT.d2R(Latitude);var $0=new COR();$0.x=CT.r2H(Math.atan2(Math.sin(Azimuth),Math.cos(Azimuth)*Math.sin(Latitude)+Math.tan(Altitude)*Math.cos(Latitude)));if($0.x<0){$0.x+=24;}$0.y=CT.r2D(Math.asin(Math.sin(Latitude)*Math.sin(Altitude)-Math.cos(Latitude)*Math.cos(Altitude)*Math.cos(Azimuth)));return $0;}
CT.eq2G=function(Alpha,Delta){Alpha=192.25-CT.h2D(Alpha);Alpha=CT.d2R(Alpha);Delta=CT.d2R(Delta);var $0=new COR();$0.x=CT.r2D(Math.atan2(Math.sin(Alpha),Math.cos(Alpha)*Math.sin(CT.d2R(27.4))-Math.tan(Delta)*Math.cos(CT.d2R(27.4))));$0.x=303-$0.x;if($0.x>=360){$0.x-=360;}$0.y=CT.r2D(Math.asin(Math.sin(Delta)*Math.sin(CT.d2R(27.4))+Math.cos(Delta)*Math.cos(CT.d2R(27.4))*Math.cos(Alpha)));return $0;}
CT.g2Eq=function(l,b){l-=123;l=CT.d2R(l);b=CT.d2R(b);var $0=new COR();$0.x=CT.r2D(Math.atan2(Math.sin(l),Math.cos(l)*Math.sin(CT.d2R(27.4))-Math.tan(b)*Math.cos(CT.d2R(27.4))));$0.x+=12.25;if($0.x<0){$0.x+=360;}$0.x=CT.d2H($0.x);$0.y=CT.r2D(Math.asin(Math.sin(b)*Math.sin(CT.d2R(27.4))+Math.cos(b)*Math.cos(CT.d2R(27.4))*Math.cos(l)));return $0;}
CT.d2R=function(Degrees){return Degrees*0.0174532925199433;}
CT.r2D=function(Radians){return Radians*57.2957795130823;}
CT.r2H=function(Radians){return Radians*3.81971863420549;}
CT.h2R=function(Hours){return Hours*0.261799387799149;}
CT.h2D=function(Hours){return Hours*15;}
CT.d2H=function(Degrees){return Degrees/15;}
CT.PI=function(){return 3.14159265358979;}
CT.m360=function(Degrees){return Degrees-Math.floor(Degrees/360)*360;}
CT.m24=function(HourAngle){return HourAngle-Math.floor(HourAngle/24)*24;}
CT.dmS2D=function(Degrees,Minutes,Seconds){return CT.dmS2Dp(Degrees,Minutes,Seconds,true);}
CT.dmS2Dp=function(Degrees,Minutes,Seconds,bPositive){if(!bPositive){}if(bPositive){return Degrees+Minutes/60+Seconds/3600;}else{return -Degrees-Minutes/60-Seconds/3600;}}
window.CalD=function(){this.year=0;this.month=0;this.day=0;}
CalD.create=function(year,month,day){var $0=new CalD();$0.year=year;$0.month=month;$0.day=day;return $0;}
CalD.prototype={year:0,month:0,day:0}
window.DT=function(){this.m_dblJulian=0;this.m_bGregorianCalendar=false;}
DT.create=function(Year,Month,Day,bGregorianCalendar){var $0=new DT();$0.set(Year,Month,Day,0,0,0,bGregorianCalendar);return $0;}
DT.createHMS=function(Year,Month,Day,Hour,Minute,Second,bGregorianCalendar){var $0=new DT();$0.set(Year,Month,Day,Hour,Minute,Second,bGregorianCalendar);return $0;}
DT.createJD=function(JD,bGregorianCalendar){var $0=new DT();$0.setJD(JD,bGregorianCalendar);return $0;}
DT.dateToJD=function(Year,Month,Day,bGregorianCalendar){var $0=Year;var $1=Month;if($1<3){$0=$0-1;$1=$1+12;}var $2=0;var $3=0;if(bGregorianCalendar){$2=parseInt(($0/100));$3=2-$2+parseInt(($2/4));}return parseInt((365.25*($0+4716)))+parseInt((30.6001*($1+1)))+Day+$3-1524.5;}
DT.isLeap=function(Year,bGregorianCalendar){if(bGregorianCalendar){if(!(Year%100)){return (!(Year%400))?true:false;}else{return (!(Year%4))?true:false;}}else{return (!(Year%4))?true:false;}}
DT.afterPapalReform=function(Year,Month,Day){return ((Year>1582)||((Year===1582)&&(Month>10))||((Year===1582)&&(Month===10)&&(Day>=15)));}
DT.afterPapalReformJD=function(JD){return (JD>=2299160.5);}
DT.dayOfYearJD=function(JD,Year,bGregorianCalendar){return JD-DT.dateToJD(Year,1,1,bGregorianCalendar)+1;}
DT.daysInMonthForMonth=function(Month,bLeap){var $0=[31,28,31,30,31,30,31,31,30,31,30,31,0];if(bLeap){$0[1]++;}return $0[Month-1];}
DT.INT=function(vvalue){if(vvalue>=0){return parseInt(vvalue);}else{return parseInt((vvalue-1));}}
DT.prototype={julian:function(){return this.m_dblJulian;},day:function(){var $0=this.get();return parseInt($0[2]);},month:function(){var $0=this.get();return parseInt($0[1]);},year:function(){var $0=this.get();return parseInt($0[0]);},hour:function(){var $0=this.get();return parseInt($0[3]);},minute:function(){var $0=this.get();return parseInt($0[4]);},second:function(){var $0=this.get();return parseInt($0[5]);},set:function(Year,Month,Day,Hour,Minute,Second,bGregorianCalendar){var $0=Day+(Hour/24)+(Minute/1440)+(Second/86400);this.setJD(DT.dateToJD(Year,Month,$0,bGregorianCalendar),bGregorianCalendar);},setJD:function(JD,bGregorianCalendar){this.m_dblJulian=JD;this.setInGregorianCalendar(bGregorianCalendar);},setInGregorianCalendar:function(bGregorianCalendar){var $0=(this.m_dblJulian>=2299160.5);this.m_bGregorianCalendar=bGregorianCalendar&&$0;},get:function(){var $0;var $1;var $2;var $3;var $4;var $5;var $6=this.m_dblJulian+0.5;var $7=Math.floor($6);var $8=$6-$7;var $9=parseInt($7);var $A;if(this.m_bGregorianCalendar){var $10=parseInt((($9-1867216.25)/36524.25));$A=$9+1+$10-parseInt(($10/4));}else{$A=$9;}var $B=$A+1524;var $C=parseInt((($B-122.1)/365.25));var $D=parseInt((365.25*$C));var $E=parseInt((($B-$D)/30.6001));var $F=$B-$D-parseInt((30.6001*$E))+$8;$2=parseInt($F);if($E<14){$1=$E-1;}else{$1=$E-13;}if($1>2){$0=$C-4716;}else{$0=$C-4715;}$7=Math.floor($F);$8=$F-$7;$3=parseInt(($8*24));$4=parseInt((($8-$3/24)*1440));$5=($8-($3/24)-($4/1440))*86400;return [$0,$1,$2,$3,$4,$5];},dayOfWeek:function(){return (parseInt((this.m_dblJulian+1.5))%7);},dayOfYear:function(){var $0=parseInt(this.get()[0]);return DT.dayOfYearJD(this.m_dblJulian,$0,DT.afterPapalReform($0,1,1));},daysInMonth:function(){var $0=this.get();var $1=parseInt($0[0]);var $2=parseInt($0[1]);return DT.daysInMonthForMonth($2,DT.isLeap($1,this.m_bGregorianCalendar));},daysInYear:function(){var $0=this.get();var $1=parseInt($0[0]);if(DT.isLeap($1,this.m_bGregorianCalendar)){return 366;}else{return 365;}},leap:function(){return DT.isLeap(this.year(),this.m_bGregorianCalendar);},inGregorianCalendar:function(){return this.m_bGregorianCalendar;},fractionalYear:function(){var $0=this.get();var $1=parseInt($0[0]);var $2=parseInt($0[1]);var $3=parseInt($0[2]);var $4=parseInt($0[3]);var $5=parseInt($0[4]);var $6=$0[5];var $7;if(DT.isLeap($1,this.m_bGregorianCalendar)){$7=366;}else{$7=365;}return $1+((this.m_dblJulian-DT.dateToJD($1,1,1,DT.afterPapalReform($1,1,1)))/$7);},m_dblJulian:0,m_bGregorianCalendar:false}
window.DYT=function(){}
DYT.deltaT=function(JD){var $0=DT.createJD(JD,DT.afterPapalReformJD(JD));var $1=$0.fractionalYear();var $2=($1-2000)/100;var $3;if($1<948){$3=2177+(497*$2)+(44.1*$2*$2);}else if($1<1620){$3=102+(102*$2)+(25.3*$2*$2);}else if($1<1998){var $4=parseInt((($1-1620)/2));$1=$1/2-$4-810;$3=(GFX.deltaTTable[$4]+(GFX.deltaTTable[$4+1]-GFX.deltaTTable[$4])*$1);}else if($1<=2000){var $5=GFX.deltaTTable.length;$3=GFX.deltaTTable[$5-1];}else if($1<2100){$3=102+(102*$2)+(25.3*$2*$2)+0.37*($1-2100);}else{$3=102+(102*$2)+(25.3*$2*$2);}return $3;}
window.CAAEarth=function(){}
CAAEarth.eclipticLongitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=GFX.g_L0EarthCoefficients.length;var $6=0;var $7;for($7=0;$7<$5;$7++){$6+=GFX.g_L0EarthCoefficients[$7].a*Math.cos(GFX.g_L0EarthCoefficients[$7].b+GFX.g_L0EarthCoefficients[$7].c*$0);}var $8=GFX.g_L1EarthCoefficients.length;var $9=0;for($7=0;$7<$8;$7++){$9+=GFX.g_L1EarthCoefficients[$7].a*Math.cos(GFX.g_L1EarthCoefficients[$7].b+GFX.g_L1EarthCoefficients[$7].c*$0);}var $A=GFX.g_L2EarthCoefficients.length;var $B=0;for($7=0;$7<$A;$7++){$B+=GFX.g_L2EarthCoefficients[$7].a*Math.cos(GFX.g_L2EarthCoefficients[$7].b+GFX.g_L2EarthCoefficients[$7].c*$0);}var $C=GFX.g_L3EarthCoefficients.length;var $D=0;for($7=0;$7<$C;$7++){$D+=GFX.g_L3EarthCoefficients[$7].a*Math.cos(GFX.g_L3EarthCoefficients[$7].b+GFX.g_L3EarthCoefficients[$7].c*$0);}var $E=GFX.g_L4EarthCoefficients.length;var $F=0;for($7=0;$7<$E;$7++){$F+=GFX.g_L4EarthCoefficients[$7].a*Math.cos(GFX.g_L4EarthCoefficients[$7].b+GFX.g_L4EarthCoefficients[$7].c*$0);}var $10=GFX.g_L5EarthCoefficients.length;var $11=0;for($7=0;$7<$10;$7++){$11+=GFX.g_L5EarthCoefficients[$7].a*Math.cos(GFX.g_L5EarthCoefficients[$7].b+GFX.g_L5EarthCoefficients[$7].c*$0);}var $12=($6+$9*$0+$B*$1+$D*$2+$F*$3+$11*$4)/100000000;$12=CT.m360(CT.r2D($12));return $12;}
CAAEarth.eclipticLatitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_B0EarthCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_B0EarthCoefficients[$6].a*Math.cos(GFX.g_B0EarthCoefficients[$6].b+GFX.g_B0EarthCoefficients[$6].c*$0);}var $7=GFX.g_B1EarthCoefficients.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_B1EarthCoefficients[$6].a*Math.cos(GFX.g_B1EarthCoefficients[$6].b+GFX.g_B1EarthCoefficients[$6].c*$0);}var $9=GFX.g_B2EarthCoefficients.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_B2EarthCoefficients[$6].a*Math.cos(GFX.g_B2EarthCoefficients[$6].b+GFX.g_B2EarthCoefficients[$6].c*$0);}var $B=GFX.g_B3EarthCoefficients.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_B3EarthCoefficients[$6].a*Math.cos(GFX.g_B3EarthCoefficients[$6].b+GFX.g_B3EarthCoefficients[$6].c*$0);}var $D=GFX.g_B4EarthCoefficients.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_B4EarthCoefficients[$6].a*Math.cos(GFX.g_B4EarthCoefficients[$6].b+GFX.g_B4EarthCoefficients[$6].c*$0);}var $F=($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;$F=CT.r2D($F);return $F;}
CAAEarth.radiusVector=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_R0EarthCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_R0EarthCoefficients[$6].a*Math.cos(GFX.g_R0EarthCoefficients[$6].b+GFX.g_R0EarthCoefficients[$6].c*$0);}var $7=GFX.g_R1EarthCoefficients.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_R1EarthCoefficients[$6].a*Math.cos(GFX.g_R1EarthCoefficients[$6].b+GFX.g_R1EarthCoefficients[$6].c*$0);}var $9=GFX.g_R2EarthCoefficients.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_R2EarthCoefficients[$6].a*Math.cos(GFX.g_R2EarthCoefficients[$6].b+GFX.g_R2EarthCoefficients[$6].c*$0);}var $B=GFX.g_R3EarthCoefficients.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_R3EarthCoefficients[$6].a*Math.cos(GFX.g_R3EarthCoefficients[$6].b+GFX.g_R3EarthCoefficients[$6].c*$0);}var $D=GFX.g_R4EarthCoefficients.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_R4EarthCoefficients[$6].a*Math.cos(GFX.g_R4EarthCoefficients[$6].b+GFX.g_R4EarthCoefficients[$6].c*$0);}return ($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;}
CAAEarth.sunMeanAnomaly=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(357.5291092+35999.0502909*$0-0.0001536*$1+$2/24490000);}
CAAEarth.eccentricity=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;return 1-0.002516*$0-7.4E-06*$1;}
CAAEarth.eclipticLongitudeJ2000=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_L0EarthCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_L0EarthCoefficients[$6].a*Math.cos(GFX.g_L0EarthCoefficients[$6].b+GFX.g_L0EarthCoefficients[$6].c*$0);}var $7=GFX.g_L1EarthCoefficientsJ2000.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_L1EarthCoefficientsJ2000[$6].a*Math.cos(GFX.g_L1EarthCoefficientsJ2000[$6].b+GFX.g_L1EarthCoefficientsJ2000[$6].c*$0);}var $9=GFX.g_L2EarthCoefficientsJ2000.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_L2EarthCoefficientsJ2000[$6].a*Math.cos(GFX.g_L2EarthCoefficientsJ2000[$6].b+GFX.g_L2EarthCoefficientsJ2000[$6].c*$0);}var $B=GFX.g_L3EarthCoefficientsJ2000.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_L3EarthCoefficientsJ2000[$6].a*Math.cos(GFX.g_L3EarthCoefficientsJ2000[$6].b+GFX.g_L3EarthCoefficientsJ2000[$6].c*$0);}var $D=GFX.g_L4EarthCoefficientsJ2000.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_L4EarthCoefficientsJ2000[$6].a*Math.cos(GFX.g_L4EarthCoefficientsJ2000[$6].b+GFX.g_L4EarthCoefficientsJ2000[$6].c*$0);}var $F=($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;$F=CT.m360(CT.r2D($F));return $F;}
CAAEarth.eclipticLatitudeJ2000=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_B0EarthCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_B0EarthCoefficients[$6].a*Math.cos(GFX.g_B0EarthCoefficients[$6].b+GFX.g_B0EarthCoefficients[$6].c*$0);}var $7=GFX.g_B1EarthCoefficientsJ2000.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_B1EarthCoefficientsJ2000[$6].a*Math.cos(GFX.g_B1EarthCoefficientsJ2000[$6].b+GFX.g_B1EarthCoefficientsJ2000[$6].c*$0);}var $9=GFX.g_B2EarthCoefficientsJ2000.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_B2EarthCoefficientsJ2000[$6].a*Math.cos(GFX.g_B2EarthCoefficientsJ2000[$6].b+GFX.g_B2EarthCoefficientsJ2000[$6].c*$0);}var $B=GFX.g_B3EarthCoefficientsJ2000.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_B3EarthCoefficientsJ2000[$6].a*Math.cos(GFX.g_B3EarthCoefficientsJ2000[$6].b+GFX.g_B3EarthCoefficientsJ2000[$6].c*$0);}var $D=GFX.g_B4EarthCoefficientsJ2000.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_B4EarthCoefficientsJ2000[$6].a*Math.cos(GFX.g_B4EarthCoefficientsJ2000[$6].b+GFX.g_B4EarthCoefficientsJ2000[$6].c*$0);}var $F=($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;$F=CT.r2D($F);return $F;}
window.VSC=function(a,b,c){this.a=a;this.b=b;this.c=c;}
VSC.prototype={a:0,b:0,c:0}
window.CAAEclipticalElementDetails=function(){this.i=0;this.w=0;this.omega=0;}
CAAEclipticalElementDetails.prototype={i:0,w:0,omega:0}
window.CAAEclipticalElements=function(){}
CAAEclipticalElements.calculate=function(i0,w0,omega0,JD0,JD){var $0=(JD0-2451545)/36525;var $1=$0*$0;var $2=(JD-JD0)/36525;var $3=$2*$2;var $4=$3*$2;var $5=CT.d2R(i0);var $6=CT.d2R(omega0);var $7=(47.0029-0.06603*$0+0.000598*$1)*$2+(-0.03302+0.000598*$0)*$3+6E-05*$4;$7=CT.d2R(CT.dmS2D(0,0,$7));var $8=174.876384*3600+3289.4789*$0+0.60622*$1-(869.8089+0.50491*$0)*$2+0.03536*$3;$8=CT.d2R(CT.dmS2D(0,0,$8));var $9=(5029.0966+2.22226*$0-4.2E-05*$1)*$2+(1.11113-4.2E-05*$0)*$3-6E-06*$4;$9=CT.d2R(CT.dmS2D(0,0,$9));var $A=Math.sin($5);var $B=Math.cos($5);var $C=Math.sin($6-$8);var $D=Math.cos($6-$8);var $E=Math.sin($7);var $F=Math.cos($7);var $10=$A*$C;var $11=-$E*$B+$F*$A*$D;var $12=Math.asin(Math.sqrt($10*$10+$11*$11));var $13=new CAAEclipticalElementDetails();$13.i=CT.r2D($12);var $14=$B*$F+$A*$E*$D;if($14<0){$13.i=180-$13.i;}var $15=$8+$9;$13.omega=CT.m360(CT.r2D(Math.atan2($10,$11)+$15));$10=-$E*$C;$11=$A*$F-$B*$E*$D;var $16=CT.r2D(Math.atan2($10,$11));$13.w=CT.m360(w0+$16);return $13;}
CAAEclipticalElements.fK4B1950ToFK5J2000=function(i0,w0,omega0){var $0=CT.d2R(5.19856209);var $1=CT.d2R(0.00651966);var $2=CT.d2R(i0);var $3=CT.d2R(omega0);var $4=Math.sin($2);var $5=Math.cos($2);var $6=Math.cos($1);var $7=Math.sin($1);var $8=$0+$3;var $9=Math.cos($8);var $A=Math.sin($8);var $B=$7*$A;var $C=$4*$6+$5*$7*$9;var $D=new CAAEclipticalElementDetails();$D.i=CT.r2D(Math.asin(Math.sqrt($B*$B+$C*$C)));var $E=$5*$6-$4*$7*$9;if($E<0){$D.i=180-$D.i;}$D.w=CT.m360(w0+CT.r2D(Math.atan2($B,$C)));$D.omega=CT.m360(CT.r2D(Math.atan2($4*$A,$5*$7+$4*$6*$9))-4.50001688);return $D;}
window.EPO=function(){}
EPO.mercuryMeanLongitude=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(252.250906+149474.0722491*$0+0.0003035*$1+1.8E-08*$2);}
EPO.mercurySemimajorAxis=function(UnnamedParameter1){return 0.38709831;}
EPO.mercuryEccentricity=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return 0.20563175+2.0407E-05*$0-2.83E-08*$1-1.8E-10*$2;}
EPO.mercuryInclination=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(7.004986+0.0018215*$0-1.81E-05*$1+5.6E-08*$2);}
EPO.mercuryLongitudeAscendingNode=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(48.330893+1.1861883*$0+0.00017542*$1+2.15E-07*$2);}
EPO.mercuryLongitudePerihelion=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(77.456119+1.5564776*$0+0.00029544*$1+9E-09*$2);}
EPO.venusMeanLongitude=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(181.979801+58519.2130302*$0+0.00031014*$1+1.5E-08*$2);}
EPO.venusSemimajorAxis=function(UnnamedParameter1){return 0.72332982;}
EPO.venusEccentricity=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return 0.00677192-4.7765E-05*$0+9.81E-08*$1+4.6E-10*$2;}
EPO.venusInclination=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(3.394662+0.0010037*$0-8.8E-07*$1-7E-09*$2);}
EPO.venusLongitudeAscendingNode=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(76.67992+0.9011206*$0+0.00040618*$1-9.3E-08*$2);}
EPO.venusLongitudePerihelion=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(131.563703+1.4022288*$0-0.00107618*$1-5.678E-06*$2);}
EPO.earthMeanLongitude=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(100.466457+36000.7698278*$0+0.00030322*$1+2E-08*$2);}
EPO.earthSemimajorAxis=function(UnnamedParameter1){return 1.000001018;}
EPO.earthEccentricity=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return 0.01670863-4.2037E-05*$0-1.267E-07*$1+1.4E-10*$2;}
EPO.earthInclination=function(UnnamedParameter1){return 0;}
EPO.earthLongitudePerihelion=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(102.937348+1.17195366*$0+0.00045688*$1-1.8E-08*$2);}
EPO.marsMeanLongitude=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(355.433+19141.6964471*$0+0.00031052*$1+1.6E-08*$2);}
EPO.marsSemimajorAxis=function(UnnamedParameter1){return 1.523679342;}
EPO.marsEccentricity=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return 0.09340065+9.0484E-05*$0-8.06E-08*$1-2.5E-10*$2;}
EPO.marsInclination=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(1.849726-0.0006011*$0+1.276E-05*$1-7E-09*$2);}
EPO.marsLongitudeAscendingNode=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(49.588093+0.7720959*$0+1.557E-05*$1+2.267E-06*$2);}
EPO.marsLongitudePerihelion=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(336.060234+1.8410449*$0+0.00013477*$1+5.36E-07*$2);}
EPO.jupiterMeanLongitude=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(34.351519+3036.3027748*$0+0.0002233*$1+3.7E-08*$2);}
EPO.jupiterSemimajorAxis=function(JD){var $0=(JD-2451545)/36525;return 5.202603209+1.913E-07*$0;}
EPO.jupiterEccentricity=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return 0.04849793+0.000163225*$0-4.714E-07*$1-2.01E-09*$2;}
EPO.jupiterInclination=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(1.303267-0.0054965*$0+4.66E-06*$1-2E-09*$2);}
EPO.jupiterLongitudeAscendingNode=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(100.464407+1.0209774*$0+0.00040315*$1+4.04E-07*$2);}
EPO.jupiterLongitudePerihelion=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(14.331207+1.6126352*$0+0.00103042*$1-4.464E-06*$2);}
EPO.saturnMeanLongitude=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(50.077444+1223.5110686*$0+0.00051908*$1-3E-08*$2);}
EPO.saturnSemimajorAxis=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;return 9.554909192-2.139E-06*$0+4E-09*$1;}
EPO.saturnEccentricity=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return 0.05554814-0.0003446641*$0-6.436E-07*$1+3.4E-09*$2;}
EPO.saturnInclination=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(2.488879-0.0037362*$0-1.519E-05*$1+8.7E-08*$2);}
EPO.saturnLongitudeAscendingNode=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(113.665503+0.877088*$0-0.00012176*$1-2.249E-06*$2);}
EPO.saturnLongitudePerihelion=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(93.057237+1.19637613*$0+0.00083753*$1+4.928E-06*$2);}
EPO.uranusMeanLongitude=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(314.055005+429.8640561*$0+0.0003039*$1+2.6E-08*$2);}
EPO.uranusSemimajorAxis=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;return 19.218446062-3.72E-08*$0+9.8E-10*$1;}
EPO.uranusEccentricity=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return 0.04638122-2.7293E-05*$0+7.89E-08*$1+2.4E-10*$2;}
EPO.uranusInclination=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(0.773197+0.0007744*$0+3.749E-05*$1-9.2E-08*$2);}
EPO.uranusLongitudeAscendingNode=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(74.005957+0.5211278*$0+0.00133947*$1+1.8484E-05*$2);}
EPO.uranusLongitudePerihelion=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(173.005291+1.486379*$0+0.00021406*$1+4.34E-07*$2);}
EPO.neptuneMeanLongitude=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(304.348665+219.8833092*$0+0.00030882*$1+1.8E-08*$2);}
EPO.neptuneSemimajorAxis=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;return 30.110386869-1.663E-07*$0+6.9E-10*$1;}
EPO.neptuneEccentricity=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0*$0;return 0.00945575+6.033E-06*$0-5E-11*$1;}
EPO.neptuneInclination=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(1.769953-0.0093082*$0-7.08E-06*$1+2.7E-08*$2);}
EPO.neptuneLongitudeAscendingNode=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(131.784057+1.1022039*$0+0.00025952*$1-6.37E-07*$2);}
EPO.neptuneLongitudePerihelion=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(48.120276+1.4262957*$0+0.00038434*$1+2E-08*$2);}
EPO.mercuryMeanLongitudeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(252.250906+149472.6746358*$0-5.36E-06*$1+2E-09*$2);}
EPO.mercuryInclinationJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(7.004986-0.0059516*$0+8E-07*$1+4.3E-08*$2);}
EPO.mercuryLongitudeAscendingNodeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(48.330893-0.1254227*$0-8.833E-05*$1-2E-07*$2);}
EPO.mercuryLongitudePerihelionJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(77.456119+0.1588643*$0-1.342E-05*$1-7E-09*$2);}
EPO.venusMeanLongitudeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(181.979801+58517.815676*$0+1.65E-06*$1-2E-09*$2);}
EPO.venusInclinationJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(3.394662-0.0008568*$0-3.244E-05*$1+9E-09*$2);}
EPO.venusLongitudeAscendingNodeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(76.67992-0.2780134*$0-0.00014257*$1-1.64E-07*$2);}
EPO.venusLongitudePerihelionJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(131.563703+0.0048746*$0-0.00138467*$1-5.695E-06*$2);}
EPO.earthMeanLongitudeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(100.466457+35999.3728565*$0-5.68E-06*$1-1E-09*$2);}
EPO.earthInclinationJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return 0.0130548*$0-9.31E-06*$1-3.4E-08*$2;}
EPO.earthLongitudeAscendingNodeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(174.873176-0.241098*$0+4.262E-05*$1+1E-09*$2);}
EPO.earthLongitudePerihelionJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(102.937348+0.3225654*$0+0.00014799*$1-3.9E-08*$2);}
EPO.marsMeanLongitudeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(355.433+19140.2993039*$0+2.62E-06*$1-3E-09*$2);}
EPO.marsInclinationJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(1.849726-0.0081477*$0-2.255E-05*$1-2.9E-08*$2);}
EPO.marsLongitudeAscendingNodeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(49.588093-0.295025*$0-0.00064048*$1-1.964E-06*$2);}
EPO.marsLongitudePerihelionJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(336.060234+0.4439016*$0-0.00017313*$1+5.18E-07*$2);}
EPO.jupiterMeanLongitudeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(34.351519+3034.9056606*$0-8.501E-05*$1+1.6E-08*$2);}
EPO.jupiterInclinationJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(1.303267-0.0019877*$0+3.32E-05*$1+9.7E-08*$2);}
EPO.jupiterLongitudeAscendingNodeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(100.464407+0.1767232*$0+0.000907*$1-7.272E-06*$2);}
EPO.jupiterLongitudePerihelionJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(14.331207+0.2155209*$0+0.00072211*$1-4.485E-06*$2);}
EPO.saturnMeanLongitudeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(50.077444+1222.1138488*$0+0.00021004*$1-4.6E-08*$2);}
EPO.saturnInclinationJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(2.488879+0.0025514*$0-4.906E-05*$1+1.7E-08*$2);}
EPO.saturnLongitudeAscendingNodeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(113.665503-0.2566722*$0-0.00018399*$1+4.8E-07*$2);}
EPO.saturnLongitudePerihelionJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(93.057237+0.5665415*$0+0.0005285*$1+4.912E-06*$2);}
EPO.uranusMeanLongitudeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(314.055005+428.4669983*$0-4.86E-06*$1+6E-09*$2);}
EPO.uranusInclinationJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(0.773197-0.0016869*$0+3.49E-06*$1+1.6E-08*$2);}
EPO.uranusLongitudeAscendingNodeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(74.005957+0.0741431*$0+0.00040539*$1+1.19E-07*$2);}
EPO.uranusLongitudePerihelionJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(173.005291+0.0893212*$0-9.47E-05*$1+4.14E-07*$2);}
EPO.neptuneMeanLongitudeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(304.348665+218.4862002*$0+5.9E-07*$1-2E-09*$2);}
EPO.neptuneInclinationJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;return CT.m360(1.769953+0.0002256*$0+2.3E-07*$1);}
EPO.neptuneLongitudeAscendingNodeJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;return CT.m360(131.784057-0.0061651*$0-2.19E-06*$1-7.8E-08*$2);}
EPO.neptuneLongitudePerihelionJ2000=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;return CT.m360(48.120276+0.0291866*$0+7.61E-05*$1);}
window.EOE=function(){this.a=0;this.e=0;this.i=0;this.w=0;this.omega=0;this.jdEquinox=0;this.t=0;}
EOE.prototype={a:0,e:0,i:0,w:0,omega:0,jdEquinox:0,t:0,n:0,meanAnnomolyOut:0}
window.EPD=function(){this.apparentGeocentricLongitude=0;this.apparentGeocentricLatitude=0;this.apparentGeocentricDistance=0;this.apparentLightTime=0;this.apparentGeocentricRA=0;this.apparentGeocentricDeclination=0;}
EPD.prototype={apparentGeocentricLongitude:0,apparentGeocentricLatitude:0,apparentGeocentricDistance:0,apparentLightTime:0,apparentGeocentricRA:0,apparentGeocentricDeclination:0}
window.EOD=function(){this.heliocentricRectangularEquatorial=new C3D();this.heliocentricRectangularEcliptical=new C3D();this.heliocentricEclipticLongitude=0;this.heliocentricEclipticLatitude=0;this.trueGeocentricRA=0;this.trueGeocentricDeclination=0;this.trueGeocentricDistance=0;this.trueGeocentricLightTime=0;this.astrometricGeocenticRA=0;this.astrometricGeocentricDeclination=0;this.astrometricGeocentricDistance=0;this.astrometricGeocentricLightTime=0;this.elongation=0;this.phaseAngle=0;}
EOD.prototype={heliocentricEclipticLongitude:0,heliocentricEclipticLatitude:0,trueGeocentricRA:0,trueGeocentricDeclination:0,trueGeocentricDistance:0,trueGeocentricLightTime:0,astrometricGeocenticRA:0,astrometricGeocentricDeclination:0,astrometricGeocentricDistance:0,astrometricGeocentricLightTime:0,elongation:0,phaseAngle:0}
window.ELL=function(){}
ELL.distanceToLightTime=function(Distance){return Distance*0.0057755183;}
ELL.calculate=function(JD,oobject){var $0=new EPD();var $1=JD;var $2=0;var $3=0;var $4=0;var $5=0;if(!!oobject){$2=CAAEarth.eclipticLongitude($1);$3=CAAEarth.eclipticLatitude($1);$4=CAAEarth.radiusVector($1);$2=CT.d2R($2);$3=CT.d2R($3);$5=Math.cos($3);}var $6=0;var $7=0;var $8=0;var $9;var $A;var $B;var $C;var $D;var $E;var $F;var $10=true;var $11=true;var $12=0;var $13=0;var $14=0;while($10){switch(oobject){case 0:$6=CAASun.geometricEclipticLongitude($1);$7=CAASun.geometricEclipticLatitude($1);$8=CAAEarth.radiusVector($1);break;case 1:$6=CAAMercury.eclipticLongitude($1);$7=CAAMercury.eclipticLatitude($1);$8=CAAMercury.radiusVector($1);break;case 2:$6=CAAVenus.eclipticLongitude($1);$7=CAAVenus.eclipticLatitude($1);$8=CAAVenus.radiusVector($1);break;case 3:$6=CAAMars.eclipticLongitude($1);$7=CAAMars.eclipticLatitude($1);$8=CAAMars.radiusVector($1);break;case 4:$6=CAAJupiter.eclipticLongitude($1);$7=CAAJupiter.eclipticLatitude($1);$8=CAAJupiter.radiusVector($1);break;case 5:$6=CAASaturn.eclipticLongitude($1);$7=CAASaturn.eclipticLatitude($1);$8=CAASaturn.radiusVector($1);break;case 6:$6=CAAUranus.eclipticLongitude($1);$7=CAAUranus.eclipticLatitude($1);$8=CAAUranus.radiusVector($1);break;case 7:$6=CAANeptune.eclipticLongitude($1);$7=CAANeptune.eclipticLatitude($1);$8=CAANeptune.radiusVector($1);break;case 8:$6=CAAPluto.eclipticLongitude($1);$7=CAAPluto.eclipticLatitude($1);$8=CAAPluto.radiusVector($1);break;default:break;}if(!$11){$10=((Math.abs($6-$12)>1E-05)||(Math.abs($7-$13)>1E-05)||(Math.abs($8-$14)>1E-06));$12=$6;$13=$7;$14=$8;}else{$11=false;}if($10){var $1C=0;if(!!oobject){$9=CT.d2R($6);$A=CT.d2R($7);$B=Math.cos($A);$C=Math.cos($9);$D=$8*$B*$C-$4*$5*Math.cos($2);$E=$8*$B*Math.sin($9)-$4*$5*Math.sin($2);$F=$8*Math.sin($A)-$4*Math.sin($3);$1C=Math.sqrt($D*$D+$E*$E+$F*$F);}else{$1C=$8;}$1=JD-ELL.distanceToLightTime($1C);}}$9=CT.d2R($6);$A=CT.d2R($7);$B=Math.cos($A);$C=Math.cos($9);$D=$8*$B*$C-$4*$5*Math.cos($2);$E=$8*$B*Math.sin($9)-$4*$5*Math.sin($2);$F=$8*Math.sin($A)-$4*Math.sin($3);var $15=$D*$D;var $16=$E*$E;$0.apparentGeocentricLatitude=CT.r2D(Math.atan2($F,Math.sqrt($15+$16)));$0.apparentGeocentricDistance=Math.sqrt($15+$16+$F*$F);$0.apparentGeocentricLongitude=CT.m360(CT.r2D(Math.atan2($E,$D)));$0.apparentLightTime=ELL.distanceToLightTime($0.apparentGeocentricDistance);var $17=ABR.eclipticAberration($0.apparentGeocentricLongitude,$0.apparentGeocentricLatitude,JD);$0.apparentGeocentricLongitude+=$17.x;$0.apparentGeocentricLatitude+=$17.y;var $18=CAAFK5.correctionInLongitude($0.apparentGeocentricLongitude,$0.apparentGeocentricLatitude,JD);$0.apparentGeocentricLatitude+=CAAFK5.correctionInLatitude($0.apparentGeocentricLongitude,JD);$0.apparentGeocentricLongitude+=$18;var $19=CAANutation.nutationInLongitude(JD);var $1A=CAANutation.trueObliquityOfEcliptic(JD);$0.apparentGeocentricLongitude+=CT.dmS2D(0,0,$19);var $1B=CT.ec2Eq($0.apparentGeocentricLongitude,$0.apparentGeocentricLatitude,$1A);$0.apparentGeocentricRA=$1B.x;$0.apparentGeocentricDeclination=$1B.y;return $0;}
ELL.semiMajorAxisFromPerihelionDistance=function(q,e){return q/(1-e);}
ELL.meanMotionFromSemiMajorAxis=function(a){return 0.9856076686/(a*Math.sqrt(a));}
ELL.calculateRectangularJD=function(JD,elements){var $0=JD;var $1=CT.d2R(elements.omega);var $2=CT.d2R(elements.w);var $3=CT.d2R(elements.i);var $4=0;var $5=1;var $6=Math.sin($1);var $7=Math.cos($1);var $8=Math.cos($3);var $9=Math.sin($3);var $A=$7;var $B=$6*$5;var $C=$6*$4;var $D=-$6*$8;var $E=$7*$8*$5-$9*$4;var $F=$7*$8*$4+$9*$5;var $10=Math.sqrt($A*$A+$D*$D);var $11=Math.sqrt($B*$B+$E*$E);var $12=Math.sqrt($C*$C+$F*$F);var $13=Math.atan2($A,$D);var $14=Math.atan2($B,$E);var $15=Math.atan2($C,$F);var $16=elements.n*($0-elements.t);elements.meanAnnomolyOut=$16;var $17=CAAKepler.calculate($16,elements.e);$17=CT.d2R($17);var $18=2*Math.atan(Math.sqrt((1+elements.e)/(1-elements.e))*Math.tan($17/2));var $19=elements.a*(1-elements.e*Math.cos($17));var $1A=$19*$10*Math.sin($13+$2+$18);var $1B=$19*$11*Math.sin($14+$2+$18);var $1C=$19*$12*Math.sin($15+$2+$18);return wwtlib.Vector3d.create($1A,$1B,$1C);}
ELL.calculateRectangular=function(elements,meanAnomoly){var $0=CT.d2R(elements.omega);var $1=CT.d2R(elements.w);var $2=CT.d2R(elements.i);var $3=0;var $4=1;var $5=Math.sin($0);var $6=Math.cos($0);var $7=Math.cos($2);var $8=Math.sin($2);var $9=$6;var $A=$5*$4;var $B=$5*$3;var $C=-$5*$7;var $D=$6*$7*$4-$8*$3;var $E=$6*$7*$3+$8*$4;var $F=Math.sqrt($9*$9+$C*$C);var $10=Math.sqrt($A*$A+$D*$D);var $11=Math.sqrt($B*$B+$E*$E);var $12=Math.atan2($9,$C);var $13=Math.atan2($A,$D);var $14=Math.atan2($B,$E);var $15=elements.n;var $16=meanAnomoly;var $17=CAAKepler.calculate($16,elements.e);$17=CT.d2R($17);var $18=2*Math.atan(Math.sqrt((1+elements.e)/(1-elements.e))*Math.tan($17/2));var $19=elements.a*(1-elements.e*Math.cos($17));var $1A=$19*$F*Math.sin($12+$1+$18);var $1B=$19*$10*Math.sin($13+$1+$18);var $1C=$19*$11*Math.sin($14+$1+$18);return wwtlib.Vector3d.create($1A,$1B,$1C);}
ELL.calculateElements=function(JD,elements){var $0=CAANutation.meanObliquityOfEcliptic(elements.jdEquinox);var $1=JD;var $2=new EOD();$0=CT.d2R($0);var $3=CT.d2R(elements.omega);var $4=CT.d2R(elements.w);var $5=CT.d2R(elements.i);var $6=Math.sin($0);var $7=Math.cos($0);var $8=Math.sin($3);var $9=Math.cos($3);var $A=Math.cos($5);var $B=Math.sin($5);var $C=$9;var $D=$8*$7;var $E=$8*$6;var $F=-$8*$A;var $10=$9*$A*$7-$B*$6;var $11=$9*$A*$6+$B*$7;var $12=Math.sqrt($C*$C+$F*$F);var $13=Math.sqrt($D*$D+$10*$10);var $14=Math.sqrt($E*$E+$11*$11);var $15=Math.atan2($C,$F);var $16=Math.atan2($D,$10);var $17=Math.atan2($E,$11);var $18=ELL.meanMotionFromSemiMajorAxis(elements.a);var $19=CAASun.equatorialRectangularCoordinatesAnyEquinox(JD,elements.jdEquinox);for(var $1A=0;$1A<2;$1A++){var $1B=$18*($1-elements.t);var $1C=CAAKepler.calculate($1B,elements.e);$1C=CT.d2R($1C);var $1D=2*Math.atan(Math.sqrt((1+elements.e)/(1-elements.e))*Math.tan($1C/2));var $1E=elements.a*(1-elements.e*Math.cos($1C));var $1F=$1E*$12*Math.sin($15+$4+$1D);var $20=$1E*$13*Math.sin($16+$4+$1D);var $21=$1E*$14*Math.sin($17+$4+$1D);if(!$1A){$2.heliocentricRectangularEquatorial.x=$1F;$2.heliocentricRectangularEquatorial.y=$20;$2.heliocentricRectangularEquatorial.z=$21;var $28=$3+$1D;var $29=Math.cos($28);var $2A=Math.sin($28);$2.heliocentricRectangularEcliptical.x=$1E*($9*$29-$8*$2A*$A);$2.heliocentricRectangularEcliptical.y=$1E*($8*$29+$9*$2A*$A);$2.heliocentricRectangularEcliptical.z=$1E*$B*$2A;$2.heliocentricEclipticLongitude=Math.atan2($20,$1F);$2.heliocentricEclipticLongitude=CT.m24(CT.r2D($2.heliocentricEclipticLongitude)/15);$2.heliocentricEclipticLatitude=Math.asin($21/$1E);$2.heliocentricEclipticLatitude=CT.r2D($2.heliocentricEclipticLatitude);}var $22=$19.x+$1F;var $23=$19.y+$20;var $24=$19.z+$21;var $25=Math.atan2($23,$22);$25=CT.r2D($25);var $26=Math.atan2($24,Math.sqrt($22*$22+$23*$23));$26=CT.r2D($26);var $27=Math.sqrt($22*$22+$23*$23+$24*$24);if(!$1A){$2.trueGeocentricRA=CT.m24($25/15);$2.trueGeocentricDeclination=$26;$2.trueGeocentricDistance=$27;$2.trueGeocentricLightTime=ELL.distanceToLightTime($27);}else{$2.astrometricGeocenticRA=CT.m24($25/15);$2.astrometricGeocentricDeclination=$26;$2.astrometricGeocentricDistance=$27;$2.astrometricGeocentricLightTime=ELL.distanceToLightTime($27);var $2B=Math.sqrt($19.x*$19.x+$19.y*$19.y+$19.z*$19.z);$2.elongation=Math.acos(($2B*$2B+$27*$27-$1E*$1E)/(2*$2B*$27));$2.elongation=CT.r2D($2.elongation);$2.phaseAngle=Math.acos(($1E*$1E+$27*$27-$2B*$2B)/(2*$1E*$27));$2.phaseAngle=CT.r2D($2.phaseAngle);}if(!$1A){$1=JD-$2.trueGeocentricLightTime;}}return $2;}
ELL.instantaneousVelocity=function(r,a){return 42.1219*Math.sqrt((1/r)-(1/(2*a)));}
ELL.velocityAtPerihelion=function(e,a){return 29.7847/Math.sqrt(a)*Math.sqrt((1+e)/(1-e));}
ELL.velocityAtAphelion=function(e,a){return 29.7847/Math.sqrt(a)*Math.sqrt((1-e)/(1+e));}
ELL.lengthOfEllipse=function(e,a){var $0=a*Math.sqrt(1-e*e);return CT.PI()*(3*(a+$0)-Math.sqrt((a+3*$0)*(3*a+$0)));}
ELL.cometMagnitude=function(g,delta,k,r){return g+5*wwtlib._Util.$C(delta)+k*wwtlib._Util.$C(r);}
ELL.minorPlanetMagnitude=function(H,delta,G,r,PhaseAngle){PhaseAngle=CT.d2R(PhaseAngle);var $0=Math.exp(-3.33*Math.pow(Math.tan(PhaseAngle/2),0.63));var $1=Math.exp(-1.87*Math.pow(Math.tan(PhaseAngle/2),1.22));return H+5*wwtlib._Util.$C(r*delta)-2.5*wwtlib._Util.$C((1-G)*$0+G*$1);}
window.EOT=function(){}
EOT.calculate=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=CT.m360(280.4664567+360007.6982779*$0+0.03032028*$1+$2/49931-$3/15300-$4/2000000);var $6=CAASun.apparentEclipticLongitude(JD);var $7=CAASun.apparentEclipticLatitude(JD);var $8=CAANutation.trueObliquityOfEcliptic(JD);var $9=CT.ec2Eq($6,$7,$8);$8=CT.d2R($8);var $A=$5-0.0057183-$9.x*15+CT.dmS2D(0,0,CAANutation.nutationInLongitude(JD))*Math.cos($8);if($A>180){$A=-(360-$A);}$A*=4;return $A;}
window.CAAFK5=function(){}
CAAFK5.correctionInLongitude=function(Longitude,Latitude,JD){var $0=(JD-2451545)/36525;var $1=Longitude-1.397*$0-0.00031*$0*$0;$1=CT.d2R($1);Longitude=CT.d2R(Longitude);Latitude=CT.d2R(Latitude);var $2=-0.09033+0.03916*(Math.cos($1)+Math.sin($1))*Math.tan(Latitude);return CT.dmS2D(0,0,$2);}
CAAFK5.correctionInLatitude=function(Longitude,JD){var $0=(JD-2451545)/36525;var $1=Longitude-1.397*$0-0.00031*$0*$0;$1=CT.d2R($1);Longitude=CT.d2R(Longitude);var $2=0.03916*(Math.cos($1)-Math.sin($1));return CT.dmS2D(0,0,$2);}
CAAFK5.convertVSOPToFK5J2000=function(vvalue){var $0=new C3D();$0.x=vvalue.x+4.4036E-07*vvalue.y-1.90919E-07*vvalue.z;$0.y=-4.79966E-07*vvalue.x+0.917482137087*vvalue.y-0.397776982902*vvalue.z;$0.z=0.397776982902*vvalue.y+0.917482137087*vvalue.z;return $0;}
CAAFK5.convertVSOPToFK5B1950=function(vvalue){var $0=new C3D();$0.x=0.999925702634*vvalue.x+0.012189716217*vvalue.y+1.1134016E-05*vvalue.z;$0.y=-0.011179418036*vvalue.x+0.917413998946*vvalue.y-0.397777041885*vvalue.z;$0.z=-0.004859003787*vvalue.x+0.397747363646*vvalue.y+0.917482111428*vvalue.z;return $0;}
CAAFK5.convertVSOPToFK5AnyEquinox=function(vvalue,JDEquinox){var $0=(JDEquinox-2451545)/36525;var $1=$0*$0;var $2=$1*$0;var $3=2306.2181*$0+0.30188*$1+0.017988*$2;$3=CT.d2R(CT.dmS2D(0,0,$3));var $4=2306.2181*$0+1.09468*$1+0.018203*$2;$4=CT.d2R(CT.dmS2D(0,0,$4));var $5=2004.3109*$0-0.42665*$1-0.041833*$2;$5=CT.d2R(CT.dmS2D(0,0,$5));var $6=Math.cos($3);var $7=Math.cos($4);var $8=Math.cos($5);var $9=Math.sin($3);var $A=Math.sin($4);var $B=Math.sin($5);var $C=$6*$7*$8-$9*$A;var $D=$9*$7+$6*$A*$8;var $E=$6*$B;var $F=-$6*$A-$9*$7*$8;var $10=$6*$7-$9*$A*$8;var $11=-$9*$B;var $12=-$7*$B;var $13=-$A*$B;var $14=$8;var $15=new C3D();$15.x=$C*vvalue.x+$F*vvalue.y+$12*vvalue.z;$15.y=$D*vvalue.x+$10*vvalue.y+$13*vvalue.z;$15.z=$E*vvalue.x+$11*vvalue.y+$14*vvalue.z;return $15;}
window.GMD=function(){this.eclipticRectangularCoordinates=new C3D();this.trueRectangularCoordinates=new C3D();this.apparentRectangularCoordinates=new C3D();this.apparentShadowRectangularCoordinates=new C3D();this.meanLongitude=0;this.trueLongitude=0;this.tropicalLongitude=0;this.equatorialLatitude=0;this.r=0;this.bInTransit=false;this.bInOccultation=false;this.bInEclipse=false;this.bInShadowTransit=false;}
GMD.prototype={meanLongitude:0,trueLongitude:0,tropicalLongitude:0,equatorialLatitude:0,r:0,bInTransit:false,bInOccultation:false,bInEclipse:false,bInShadowTransit:false}
window.GMDS=function(){this.satellite1=new GMD();this.satellite2=new GMD();this.satellite3=new GMD();this.satellite4=new GMD();}
window.GM=function(){}
GM.calculate=function(JD){var $0=CAASun.geometricEclipticLongitude(JD);var $1=CT.d2R($0);var $2=CAASun.geometricEclipticLatitude(JD);var $3=CT.d2R($2);var $4=CAAEarth.radiusVector(JD);var $5=5;var $6=0;var $7=ELL.distanceToLightTime($5);var $8=JD-$7;var $9=true;var $A=0;var $B=0;var $C=0;var $D=0;var $E=0;var $F=0;var $10=0;var $11=0;while($9){$D=CAAJupiter.eclipticLongitude($8);$E=CT.d2R($D);$F=CAAJupiter.eclipticLatitude($8);$10=CT.d2R($F);$11=CAAJupiter.radiusVector($8);$A=$11*Math.cos($10)*Math.cos($E)+$4*Math.cos($1);$B=$11*Math.cos($10)*Math.sin($E)+$4*Math.sin($1);$C=$11*Math.sin($10)+$4*Math.sin($3);$5=Math.sqrt($A*$A+$B*$B+$C*$C);$7=ELL.distanceToLightTime($5);$9=(Math.abs($7-$6)>2E-06);if($9){$8=JD-$7;$6=$7;}}var $12=GM.calculateHelper(JD,$1,$3,$4);GM.fillInPhenomenaDetails($12.satellite1);GM.fillInPhenomenaDetails($12.satellite2);GM.fillInPhenomenaDetails($12.satellite3);GM.fillInPhenomenaDetails($12.satellite4);$8=JD-$7;$D=CAAJupiter.eclipticLongitude($8);$E=CT.d2R($D);$F=CAAJupiter.eclipticLatitude($8);$10=CT.d2R($F);$11=CAAJupiter.radiusVector($8);$A=$11*Math.cos($10)*Math.cos($E);$B=$11*Math.cos($10)*Math.sin($E);$C=$11*Math.sin($10);$5=Math.sqrt($A*$A+$B*$B+$C*$C);var $13=ELL.distanceToLightTime($5);var $14=GM.calculateHelper(JD+$13-$7,$1,$3,0);GM.fillInPhenomenaDetails($14.satellite1);GM.fillInPhenomenaDetails($14.satellite2);GM.fillInPhenomenaDetails($14.satellite3);GM.fillInPhenomenaDetails($14.satellite4);$12.satellite1.bInEclipse=$14.satellite1.bInOccultation;$12.satellite2.bInEclipse=$14.satellite2.bInOccultation;$12.satellite3.bInEclipse=$14.satellite3.bInOccultation;$12.satellite4.bInEclipse=$14.satellite4.bInOccultation;$12.satellite1.bInShadowTransit=$14.satellite1.bInTransit;$12.satellite2.bInShadowTransit=$14.satellite2.bInTransit;$12.satellite3.bInShadowTransit=$14.satellite3.bInTransit;$12.satellite4.bInShadowTransit=$14.satellite4.bInTransit;$12.satellite1.apparentShadowRectangularCoordinates=$14.satellite1.apparentRectangularCoordinates;$12.satellite2.apparentShadowRectangularCoordinates=$14.satellite2.apparentRectangularCoordinates;$12.satellite3.apparentShadowRectangularCoordinates=$14.satellite3.apparentRectangularCoordinates;$12.satellite4.apparentShadowRectangularCoordinates=$14.satellite4.apparentRectangularCoordinates;return $12;}
GM.calculateHelper=function(JD,sunlongrad,betarad,R){var $0=new GMDS();var $1=5;var $2=0;var $3=ELL.distanceToLightTime($1);var $4=0;var $5=0;var $6=0;var $7=0;var $8=0;var $9=0;var $A=0;var $B=0;var $C=JD-$3;var $D=true;while($D){$7=CAAJupiter.eclipticLongitude($C);$8=CT.d2R($7);$9=CAAJupiter.eclipticLatitude($C);$A=CT.d2R($9);$B=CAAJupiter.radiusVector($C);$4=$B*Math.cos($A)*Math.cos($8)+R*Math.cos(sunlongrad);$5=$B*Math.cos($A)*Math.sin($8)+R*Math.sin(sunlongrad);$6=$B*Math.sin($A)+R*Math.sin(betarad);$1=Math.sqrt($4*$4+$5*$5+$6*$6);$3=ELL.distanceToLightTime($1);$D=(Math.abs($3-$2)>2E-06);if($D){$C=JD-$3;$2=$3;}}var $E=Math.atan2($5,$4);var $F=Math.atan($6/Math.sqrt($4*$4+$5*$5));var $10=JD-2443000.5-$3;var $11=106.07719+203.48895579*$10;var $12=CT.d2R($11);var $13=175.73161+101.374724735*$10;var $14=CT.d2R($13);var $15=120.55883+50.317609207*$10;var $16=CT.d2R($15);var $17=84.44459+21.571071177*$10;var $18=CT.d2R($17);var $19=CT.d2R(CT.m360(97.0881+0.16138586*$10));var $1A=CT.d2R(CT.m360(154.8663+0.04726307*$10));var $1B=CT.d2R(CT.m360(188.184+0.00712734*$10));var $1C=CT.d2R(CT.m360(335.2868+0.00184*$10));var $1D=312.3346-0.13279386*$10;var $1E=CT.d2R($1D);var $1F=100.4411-0.03263064*$10;var $20=CT.d2R($1F);var $21=119.1942-0.00717703*$10;var $22=CT.d2R($21);var $23=322.6186-0.00175934*$10;var $24=CT.d2R($23);var $25=0.33033*Math.sin(CT.d2R(163.679+0.0010512*$10))+0.03439*Math.sin(CT.d2R(34.486-0.0161731*$10));var $26=CT.d2R(199.6766+0.1737919*$10);var $27=CT.d2R(316.5182-2.08E-06*$10);var $28=CT.d2R(30.23756+0.0830925701*$10+$25);var $29=CT.d2R(31.97853+0.0334597339*$10);var $2A=CT.d2R(13.469942);var $2B=0.47259*Math.sin(2*($12-$14))+-0.03478*Math.sin($1B-$1C)+0.01081*Math.sin($14-2*$16+$1B)+0.00738*Math.sin($26)+0.00713*Math.sin($14-2*$16+$1A)+-0.00674*Math.sin($19+$1B-2*$2A-2*$28)+0.00666*Math.sin($14-2*$16+$1C)+0.00445*Math.sin($12-$1B)+-0.00354*Math.sin($12-$14)+-0.00317*Math.sin(2*$27-2*$2A)+0.00265*Math.sin($12-$1C)+-0.00186*Math.sin($28)+0.00162*Math.sin($1A-$1B)+0.00158*Math.sin(4*($12-$14))+-0.00155*Math.sin($12-$16)+-0.00138*Math.sin($27+$22-2*$2A-2*$28)+-0.00115*Math.sin(2*($12-2*$14+$20))+0.00089*Math.sin($1A-$1C)+0.00085*Math.sin($12+$1B-2*$2A-2*$28)+0.00083*Math.sin($20-$22)+0.00053*Math.sin($27-$20);var $2C=1.06476*Math.sin(2*($14-$16))+0.04256*Math.sin($12-2*$14+$1B)+0.03581*Math.sin($14-$1B)+0.02395*Math.sin($12-2*$14+$1C)+0.01984*Math.sin($14-$1C)+-0.01778*Math.sin($26)+0.01654*Math.sin($14-$1A)+0.01334*Math.sin($14-2*$16+$1A)+0.01294*Math.sin($1B-$1C)+-0.01142*Math.sin($14-$16)+-0.01057*Math.sin($28)+-0.00775*Math.sin(2*($27-$2A))+0.00524*Math.sin(2*($12-$14))+-0.0046*Math.sin($12-$16)+0.00316*Math.sin($27-2*$28+$22-2*$2A)+-0.00203*Math.sin($19+$1B-2*$2A-2*$28)+0.00146*Math.sin($27-$22)+-0.00145*Math.sin(2*$28)+0.00125*Math.sin($27-$24)+-0.00115*Math.sin($12-2*$16+$1B)+-0.00094*Math.sin(2*($14-$20))+0.00086*Math.sin(2*($12-2*$14+$20))+-0.00086*Math.sin(5*$29-2*$28+CT.d2R(52.225))+-0.00078*Math.sin($14-$18)+-0.00064*Math.sin(3*$16-7*$18+4*$1C)+0.00064*Math.sin($19-$1C)+-0.00063*Math.sin($12-2*$16+$1C)+0.00058*Math.sin($22-$24)+0.00056*Math.sin(2*($27-$2A-$28))+0.00056*Math.sin(2*($14-$18))+0.00055*Math.sin(2*($12-$16))+0.00052*Math.sin(3*$16-7*$18+$1B+3*$1C)+-0.00043*Math.sin($12-$1B)+0.00041*Math.sin(5*($14-$16))+0.00041*Math.sin($1C-$2A)+0.00032*Math.sin($20-$22)+0.00032*Math.sin(2*($16-$28-$2A));var $2D=0.1649*Math.sin($16-$1B)+0.09081*Math.sin($16-$1C)+-0.06907*Math.sin($14-$16)+0.03784*Math.sin($1B-$1C)+0.01846*Math.sin(2*($16-$18))+-0.0134*Math.sin($28)+-0.01014*Math.sin(2*($27-$2A))+0.00704*Math.sin($14-2*$16+$1B)+-0.0062*Math.sin($14-2*$16+$1A)+-0.00541*Math.sin($16-$18)+0.00381*Math.sin($14-2*$16+$1C)+0.00235*Math.sin($27-$22)+0.00198*Math.sin($27-$24)+0.00176*Math.sin($26)+0.0013*Math.sin(3*($16-$18))+0.00125*Math.sin($12-$16)+-0.00119*Math.sin(5*$29-2*$28+CT.d2R(52.225))+0.00109*Math.sin($12-$14)+-0.001*Math.sin(3*$16-7*$18+4*$1C)+0.00091*Math.sin($22-$24)+0.0008*Math.sin(3*$16-7*$18+$1B+3*$1C)+-0.00075*Math.sin(2*$14-3*$16+$1B)+0.00072*Math.sin($19+$1B-2*$2A-2*$28)+0.00069*Math.sin($1C-$2A)+-0.00058*Math.sin(2*$16-3*$18+$1C)+-0.00057*Math.sin($16-2*$18+$1C)+0.00056*Math.sin($16+$1B-2*$2A-2*$28)+-0.00052*Math.sin($14-2*$16+$19)+-0.0005*Math.sin($1A-$1B)+0.00048*Math.sin($16-2*$18+$1B)+-0.00045*Math.sin(2*$14-3*$16+$1C)+-0.00041*Math.sin($1A-$1C)+-0.00038*Math.sin(2*$28)+-0.00037*Math.sin($1B-$1C+$22-$24)+-0.00032*Math.sin(3*$16-7*$18+2*$1B+2*$1C)+0.0003*Math.sin(4*($16-$18))+0.00029*Math.sin($16+$1C-2*$2A-2*$28)+-0.00028*Math.sin($22+$27-2*$2A-2*$28)+0.00026*Math.sin($16-$2A-$28)+0.00024*Math.sin($14-3*$16+2*$18)+0.00021*Math.sin($16-$2A-$28)+-0.00021*Math.sin($16-$1A)+0.00017*Math.sin(2*($16-$1B));var $2E=0.84287*Math.sin($18-$1C)+0.03431*Math.sin($1C-$1B)+-0.03305*Math.sin(2*($27-$2A))+-0.03211*Math.sin($28)+-0.01862*Math.sin($18-$1B)+0.01186*Math.sin($27-$24)+0.00623*Math.sin($18+$1C-2*$28-2*$2A)+0.00387*Math.sin(2*($18-$1C))+-0.00284*Math.sin(5*$29-2*$28+CT.d2R(52.225))+-0.00234*Math.sin(2*($27-$1C))+-0.00223*Math.sin($16-$18)+-0.00208*Math.sin($18-$2A)+0.00178*Math.sin($27+$24-2*$1C)+0.00134*Math.sin($1C-$2A)+0.00125*Math.sin(2*($18-$28-$2A))+-0.00117*Math.sin(2*$28)+-0.00112*Math.sin(2*($16-$18))+0.00107*Math.sin(3*$16-7*$18+4*$1C)+0.00102*Math.sin($18-$28-$2A)+0.00096*Math.sin(2*$18-$27-$24)+0.00087*Math.sin(2*($27-$24))+-0.00085*Math.sin(3*$16-7*$18+$1B+3*$1C)+0.00085*Math.sin($16-2*$18+$1C)+-0.00081*Math.sin(2*($18-$27))+0.00071*Math.sin($18+$1C-2*$2A-3*$28)+0.00061*Math.sin($12-$18)+-0.00056*Math.sin($27-$22)+-0.00054*Math.sin($16-2*$18+$1B)+0.00051*Math.sin($14-$18)+0.00042*Math.sin(2*($27-$28-$2A))+0.00039*Math.sin(2*($1C-$24))+0.00036*Math.sin($27+$2A-$1C-$24)+0.00035*Math.sin(2*$29-$28+CT.d2R(188.37))+-0.00035*Math.sin($18-$1C+2*$2A-2*$27)+-0.00032*Math.sin($18+$1C-2*$2A-$28)+0.0003*Math.sin(2*$29-2*$28+CT.d2R(149.15))+0.00029*Math.sin(3*$16-7*$18+2*$1B+2*$1C)+0.00028*Math.sin($18-$1C+2*$27-2*$2A)+-0.00028*Math.sin(2*($18-$24))+-0.00027*Math.sin($1B-$1C+$22-$24)+-0.00026*Math.sin(5*$29-3*$28+CT.d2R(188.37))+0.00025*Math.sin($24-$22)+-0.00025*Math.sin($14-3*$16+2*$18)+-0.00023*Math.sin(3*($16-$18))+0.00021*Math.sin(2*$18-2*$2A-3*$28)+-0.00021*Math.sin(2*$16-3*$18+$1C)+0.00019*Math.sin($18-$1C-$28)+-0.00019*Math.sin(2*$18-$1B-$1C)+-0.00018*Math.sin($18-$1C+$28)+-0.00016*Math.sin($18+$1B-2*$2A-2*$28);$0.satellite1.meanLongitude=CT.m360($11);$0.satellite1.trueLongitude=CT.m360($11+$2B);var $2F=CT.d2R($0.satellite1.trueLongitude);$0.satellite2.meanLongitude=CT.m360($13);$0.satellite2.trueLongitude=CT.m360($13+$2C);var $30=CT.d2R($0.satellite2.trueLongitude);$0.satellite3.meanLongitude=CT.m360($15);$0.satellite3.trueLongitude=CT.m360($15+$2D);var $31=CT.d2R($0.satellite3.trueLongitude);$0.satellite4.meanLongitude=CT.m360($17);$0.satellite4.trueLongitude=CT.m360($17+$2E);var $32=CT.d2R($0.satellite4.trueLongitude);var $33=Math.atan(0.0006393*Math.sin($2F-$1E)+0.0001825*Math.sin($2F-$20)+3.29E-05*Math.sin($2F-$22)+-3.11E-05*Math.sin($2F-$27)+9.3E-06*Math.sin($2F-$24)+7.5E-06*Math.sin(3*$2F-4*$14-1.9927*$2B+$20)+4.6E-06*Math.sin($2F+$27-2*$2A-2*$28));$0.satellite1.equatorialLatitude=CT.r2D($33);var $34=Math.atan(0.0081004*Math.sin($30-$20)+0.0004512*Math.sin($30-$22)+-0.0003284*Math.sin($30-$27)+0.000116*Math.sin($30-$24)+2.72E-05*Math.sin($12-2*$16+1.0146*$2C+$20)+-1.44E-05*Math.sin($30-$1E)+1.43E-05*Math.sin($30+$27-2*$2A-2*$28)+3.5E-06*Math.sin($30-$27+$28)+-2.8E-06*Math.sin($12-2*$16+1.0146*$2C+$22));$0.satellite2.equatorialLatitude=CT.r2D($34);var $35=Math.atan(0.0032402*Math.sin($31-$22)+-0.0016911*Math.sin($31-$27)+0.0006847*Math.sin($31-$24)+-0.0002797*Math.sin($31-$20)+3.21E-05*Math.sin($31+$27-2*$2A-2*$28)+5.1E-06*Math.sin($31-$27+$28)+-4.5E-06*Math.sin($31-$27-$28)+-4.5E-06*Math.sin($31+$27-2*$2A)+3.7E-06*Math.sin($31+$27-2*$2A-3*$28)+3E-06*Math.sin(2*$14-3*$31+4.03*$2D+$20)+-2.1E-06*Math.sin(2*$14-3*$31+4.03*$2D+$22));$0.satellite3.equatorialLatitude=CT.r2D($35);var $36=Math.atan(-0.0076579*Math.sin($32-$27)+0.0044134*Math.sin($32-$24)+-0.0005112*Math.sin($32-$22)+7.73E-05*Math.sin($32+$27-2*$2A-2*$28)+1.04E-05*Math.sin($32-$27+$28)+-1.02E-05*Math.sin($32-$27-$28)+8.8E-06*Math.sin($32+$27-2*$2A-3*$28)+-3.8E-06*Math.sin($32+$27-2*$2A-$28));$0.satellite4.equatorialLatitude=CT.r2D($36);$0.satellite1.r=5.90569*(1+(-0.0041339*Math.cos(2*($12-$14))+-3.87E-05*Math.cos($12-$1B)+-2.14E-05*Math.cos($12-$1C)+1.7E-05*Math.cos($12-$14)+-1.31E-05*Math.cos(4*($12-$14))+1.06E-05*Math.cos($12-$16)+-6.6E-06*Math.cos($12+$1B-2*$2A-2*$28)));$0.satellite2.r=9.39657*(1+(0.0093848*Math.cos($12-$14)+-0.0003116*Math.cos($14-$1B)+-0.0001744*Math.cos($14-$1C)+-0.0001442*Math.cos($14-$1A)+5.53E-05*Math.cos($14-$16)+5.23E-05*Math.cos($12-$16)+-2.9E-05*Math.cos(2*($12-$14))+1.64E-05*Math.cos(2*($14-$20))+1.07E-05*Math.cos($12-2*$16+$1B)+-1.02E-05*Math.cos($14-$19)+-9.1E-06*Math.cos(2*($12-$16))));$0.satellite3.r=14.98832*(1+(-0.0014388*Math.cos($16-$1B)+-0.0007919*Math.cos($16-$1C)+0.0006342*Math.cos($14-$16)+-0.0001761*Math.cos(2*($16-$18))+2.94E-05*Math.cos($16-$18)+-1.56E-05*Math.cos(3*($16-$18))+1.56E-05*Math.cos($12-$16)+-1.53E-05*Math.cos($12-$14)+7E-06*Math.cos(2*$14-3*$16+$1B)+-5.1E-06*Math.cos($16+$1B-2*$2A-2*$28)));$0.satellite4.r=26.36273*(1+(-0.0073546*Math.cos($18-$1C)+0.0001621*Math.cos($18-$1B)+9.74E-05*Math.cos($16-$18)+-5.43E-05*Math.cos($18+$1C-2*$2A-2*$28)+-2.71E-05*Math.cos(2*($18-$1C))+1.82E-05*Math.cos($18-$2A)+1.77E-05*Math.cos(2*($16-$18))+-1.67E-05*Math.cos(2*$18-$27-$24)+1.67E-05*Math.cos($27-$24)+-1.55E-05*Math.cos(2*($18-$2A-$28))+1.42E-05*Math.cos(2*($18-$27))+1.05E-05*Math.cos($12-$18)+9.2E-06*Math.cos($14-$18)+-8.9E-06*Math.cos($18-$2A-$28)+-6.2E-06*Math.cos($18+$1C-2*$2A-3*$28)+4.8E-06*Math.cos(2*($18-$24))));var $37=(JD-2433282.423)/36525;var $38=CT.d2R(1.3966626*$37+0.0003088*$37*$37);$2F+=$38;$0.satellite1.tropicalLongitude=CT.m360(CT.r2D($2F));$30+=$38;$0.satellite2.tropicalLongitude=CT.m360(CT.r2D($30));$31+=$38;$0.satellite3.tropicalLongitude=CT.m360(CT.r2D($31));$32+=$38;$0.satellite4.tropicalLongitude=CT.m360(CT.r2D($32));$27+=$38;var $39=(JD-2415020.5)/36525;var $3A=3.120262+0.0006*$39;var $3B=CT.d2R($3A);var $3C=$0.satellite1.r*Math.cos($2F-$27)*Math.cos($33);var $3D=$0.satellite2.r*Math.cos($30-$27)*Math.cos($34);var $3E=$0.satellite3.r*Math.cos($31-$27)*Math.cos($35);var $3F=$0.satellite4.r*Math.cos($32-$27)*Math.cos($36);var $40=0;var $41=$0.satellite1.r*Math.sin($2F-$27)*Math.cos($33);var $42=$0.satellite2.r*Math.sin($30-$27)*Math.cos($34);var $43=$0.satellite3.r*Math.sin($31-$27)*Math.cos($35);var $44=$0.satellite4.r*Math.sin($32-$27)*Math.cos($36);var $45=0;var $46=$0.satellite1.r*Math.sin($33);var $47=$0.satellite2.r*Math.sin($34);var $48=$0.satellite3.r*Math.sin($35);var $49=$0.satellite4.r*Math.sin($36);var $4A=1;var $4B=CT.d2R(EPO.jupiterLongitudeAscendingNode(JD));var $4C=CT.d2R(EPO.jupiterInclination(JD));var $4D=0;var $4E=0;var $4F=0;var $50=new C3D();var $51=GM.rotations($40,$45,$4A,$3B,$27,$4C,$4B,$E,$F,$50);$4D=$51[0];$4E=$51[1];$4F=$51[2];var $52=Math.atan2($4D,$4F);$51=GM.rotations($3C,$41,$46,$3B,$27,$4C,$4B,$E,$F,$0.satellite1.eclipticRectangularCoordinates);$4D=$51[0];$4E=$51[1];$4F=$51[2];$0.satellite1.trueRectangularCoordinates.x=$4D*Math.cos($52)-$4F*Math.sin($52);$0.satellite1.trueRectangularCoordinates.y=$4D*Math.sin($52)+$4F*Math.cos($52);$0.satellite1.trueRectangularCoordinates.z=$4E;$51=GM.rotations($3D,$42,$47,$3B,$27,$4C,$4B,$E,$F,$0.satellite2.eclipticRectangularCoordinates);$4D=$51[0];$4E=$51[1];$4F=$51[2];$0.satellite2.trueRectangularCoordinates.x=$4D*Math.cos($52)-$4F*Math.sin($52);$0.satellite2.trueRectangularCoordinates.y=$4D*Math.sin($52)+$4F*Math.cos($52);$0.satellite2.trueRectangularCoordinates.z=$4E;$51=GM.rotations($3E,$43,$48,$3B,$27,$4C,$4B,$E,$F,$0.satellite3.eclipticRectangularCoordinates);$4D=$51[0];$4E=$51[1];$4F=$51[2];$0.satellite3.trueRectangularCoordinates.x=$4D*Math.cos($52)-$4F*Math.sin($52);$0.satellite3.trueRectangularCoordinates.y=$4D*Math.sin($52)+$4F*Math.cos($52);$0.satellite3.trueRectangularCoordinates.z=$4E;$51=GM.rotations($3F,$44,$49,$3B,$27,$4C,$4B,$E,$F,$0.satellite4.eclipticRectangularCoordinates);$4D=$51[0];$4E=$51[1];$4F=$51[2];$0.satellite4.trueRectangularCoordinates.x=$4D*Math.cos($52)-$4F*Math.sin($52);$0.satellite4.trueRectangularCoordinates.y=$4D*Math.sin($52)+$4F*Math.cos($52);$0.satellite4.trueRectangularCoordinates.z=$4E;$0.satellite1.apparentRectangularCoordinates.x=$0.satellite1.trueRectangularCoordinates.x+Math.abs($0.satellite1.trueRectangularCoordinates.z)/17295*Math.sqrt(1-($0.satellite1.trueRectangularCoordinates.x/$0.satellite1.r)*($0.satellite1.trueRectangularCoordinates.x/$0.satellite1.r));$0.satellite1.apparentRectangularCoordinates.y=$0.satellite1.trueRectangularCoordinates.y;$0.satellite1.apparentRectangularCoordinates.z=$0.satellite1.trueRectangularCoordinates.z;$0.satellite2.apparentRectangularCoordinates.x=$0.satellite2.trueRectangularCoordinates.x+Math.abs($0.satellite2.trueRectangularCoordinates.z)/21819*Math.sqrt(1-($0.satellite2.trueRectangularCoordinates.x/$0.satellite2.r)*($0.satellite2.trueRectangularCoordinates.x/$0.satellite2.r));$0.satellite2.apparentRectangularCoordinates.y=$0.satellite2.trueRectangularCoordinates.y;$0.satellite2.apparentRectangularCoordinates.z=$0.satellite2.trueRectangularCoordinates.z;$0.satellite3.apparentRectangularCoordinates.x=$0.satellite3.trueRectangularCoordinates.x+Math.abs($0.satellite3.trueRectangularCoordinates.z)/27558*Math.sqrt(1-($0.satellite3.trueRectangularCoordinates.x/$0.satellite3.r)*($0.satellite3.trueRectangularCoordinates.x/$0.satellite3.r));$0.satellite3.apparentRectangularCoordinates.y=$0.satellite3.trueRectangularCoordinates.y;$0.satellite3.apparentRectangularCoordinates.z=$0.satellite3.trueRectangularCoordinates.z;$0.satellite4.apparentRectangularCoordinates.x=$0.satellite4.trueRectangularCoordinates.x+Math.abs($0.satellite4.trueRectangularCoordinates.z)/36548*Math.sqrt(1-($0.satellite4.trueRectangularCoordinates.x/$0.satellite4.r)*($0.satellite4.trueRectangularCoordinates.x/$0.satellite4.r));$0.satellite4.apparentRectangularCoordinates.y=$0.satellite4.trueRectangularCoordinates.y;$0.satellite4.apparentRectangularCoordinates.z=$0.satellite4.trueRectangularCoordinates.z;var $53=$1/($1+$0.satellite1.trueRectangularCoordinates.z/2095);$0.satellite1.apparentRectangularCoordinates.x*=$53;$0.satellite1.apparentRectangularCoordinates.y*=$53;$53=$1/($1+$0.satellite2.trueRectangularCoordinates.z/2095);$0.satellite2.apparentRectangularCoordinates.x*=$53;$0.satellite2.apparentRectangularCoordinates.y*=$53;$53=$1/($1+$0.satellite3.trueRectangularCoordinates.z/2095);$0.satellite3.apparentRectangularCoordinates.x*=$53;$0.satellite3.apparentRectangularCoordinates.y*=$53;$53=$1/($1+$0.satellite4.trueRectangularCoordinates.z/2095);$0.satellite4.apparentRectangularCoordinates.x*=$53;$0.satellite4.apparentRectangularCoordinates.y*=$53;return $0;}
GM.rotations=function(X,Y,Z,I,psi,i,omega,lambda0,beta0,eclipticCoord){var $0;var $1;var $2;var $3=psi-omega;var $4=X;var $5=Y*Math.cos(I)-Z*Math.sin(I);var $6=Y*Math.sin(I)+Z*Math.cos(I);var $7=$4*Math.cos($3)-$5*Math.sin($3);var $8=$4*Math.sin($3)+$5*Math.cos($3);var $9=$6;var $A=$7;var $B=$8*Math.cos(i)-$9*Math.sin(i);var $C=$8*Math.sin(i)+$9*Math.cos(i);var $D=$A*Math.cos(omega)-$B*Math.sin(omega);var $E=$A*Math.sin(omega)+$B*Math.cos(omega);var $F=$C;var $10=1/2095;eclipticCoord.x=$D*$10;eclipticCoord.y=$E*$10;eclipticCoord.z=$F*$10;var $11=$D*Math.sin(lambda0)-$E*Math.cos(lambda0);var $12=$D*Math.cos(lambda0)+$E*Math.sin(lambda0);var $13=$F;$0=$11;$1=$13*Math.sin(beta0)+$12*Math.cos(beta0);$2=$13*Math.cos(beta0)-$12*Math.sin(beta0);return [$0,$1,$2];}
GM.fillInPhenomenaDetails=function(detail){var $0=1.071374*detail.apparentRectangularCoordinates.y;var $1=$0*$0+detail.apparentRectangularCoordinates.x*detail.apparentRectangularCoordinates.x;if($1<1){if(detail.apparentRectangularCoordinates.z<0){detail.bInTransit=true;detail.bInOccultation=false;}else{detail.bInTransit=false;detail.bInOccultation=true;}}else{detail.bInTransit=false;detail.bInOccultation=false;}}
window.CAAGlobe=function(){}
CAAGlobe.rhoSinThetaPrime=function(GeographicalLatitude,Height){GeographicalLatitude=CT.d2R(GeographicalLatitude);var $0=Math.atan(0.99664719*Math.tan(GeographicalLatitude));return 0.99664719*Math.sin($0)+(Height/6378149*Math.sin(GeographicalLatitude));}
CAAGlobe.rhoCosThetaPrime=function(GeographicalLatitude,Height){GeographicalLatitude=CT.d2R(GeographicalLatitude);var $0=Math.atan(0.99664719*Math.tan(GeographicalLatitude));return Math.cos($0)+(Height/6378149*Math.cos(GeographicalLatitude));}
CAAGlobe.radiusOfParallelOfLatitude=function(GeographicalLatitude){GeographicalLatitude=CT.d2R(GeographicalLatitude);var $0=Math.sin(GeographicalLatitude);return (6378.14*Math.cos(GeographicalLatitude))/Math.sqrt(1-0.0066943847614084*$0*$0);}
CAAGlobe.radiusOfCurvature=function(GeographicalLatitude){GeographicalLatitude=CT.d2R(GeographicalLatitude);var $0=Math.sin(GeographicalLatitude);return (6378.14*(1-0.0066943847614084))/Math.pow((1-0.0066943847614084*$0*$0),1.5);}
CAAGlobe.distanceBetweenPoints=function(GeographicalLatitude1,GeographicalLongitude1,GeographicalLatitude2,GeographicalLongitude2){GeographicalLatitude1=CT.d2R(GeographicalLatitude1);GeographicalLatitude2=CT.d2R(GeographicalLatitude2);GeographicalLongitude1=CT.d2R(GeographicalLongitude1);GeographicalLongitude2=CT.d2R(GeographicalLongitude2);var $0=(GeographicalLatitude1+GeographicalLatitude2)/2;var $1=(GeographicalLatitude1-GeographicalLatitude2)/2;var $2=(GeographicalLongitude1-GeographicalLongitude2)/2;var $3=Math.sin($1);var $4=Math.cos($1);var $5=Math.cos($0);var $6=Math.sin($0);var $7=Math.sin($2);var $8=Math.cos($2);var $9=($3*$3*$8*$8)+($5*$5*$7*$7);var $A=($4*$4*$8*$8)+($6*$6*$7*$7);var $B=Math.atan(Math.sqrt($9/$A));var $C=Math.sqrt($9*$A)/$B;var $D=2*$B*6378.14;var $E=(3*$C-1)/(2*$A);var $F=(3*$C+1)/(2*$9);var $10=0.00335281317789691;return $D*(1+($10*$E*$6*$6*$4*$4)-($10*$F*$5*$5*$3*$3));}
window.IFR=function(){}
IFR.phaseAngle=function(r,R,Delta){return CT.m360(CT.r2D(Math.acos((r*r+Delta*Delta-R*R)/(2*r*Delta))));}
IFR.phaseAngle2=function(R,R0,B,L,L0,Delta){B=CT.d2R(B);L=CT.d2R(L);L0=CT.d2R(L0);return CT.m360(CT.r2D(Math.acos((R-R0*Math.cos(B)*Math.cos(L-L0))/Delta)));}
IFR.phaseAngleRectangular=function(x,y,z,B,L,Delta){B=CT.d2R(B);L=CT.d2R(L);var $0=Math.cos(B);return CT.m360(CT.r2D(Math.acos((x*$0*Math.cos(L)+y*$0*Math.sin(L)+z*Math.sin(B))/Delta)));}
IFR.illuminatedFraction=function(PhaseAngle){PhaseAngle=CT.d2R(PhaseAngle);return (1+Math.cos(PhaseAngle))/2;}
IFR.illuminatedFraction2=function(r,R,Delta){return (((r+Delta)*(r+Delta)-R*R)/(4*r*Delta));}
IFR.mercuryMagnitudeMuller=function(r,Delta,i){var $0=i-50;return 1.16+5*wwtlib._Util.$C(r*Delta)+0.02838*$0+0.0001023*$0*$0;}
IFR.venusMagnitudeMuller=function(r,Delta,i){return -4+5*wwtlib._Util.$C(r*Delta)+0.01322*i+4.247E-07*i*i*i;}
IFR.marsMagnitudeMuller=function(r,Delta,i){return -1.3+5*wwtlib._Util.$C(r*Delta)+0.01486*i;}
IFR.jupiterMagnitudeMuller=function(r,Delta){return -8.93+5*wwtlib._Util.$C(r*Delta);}
IFR.saturnMagnitudeMuller=function(r,Delta,DeltaU,B){B=CT.d2R(B);var $0=Math.sin(B);return -8.68+5*wwtlib._Util.$C(r*Delta)+0.044*Math.abs(DeltaU)-2.6*Math.sin(Math.abs(B))+1.25*$0*$0;}
IFR.uranusMagnitudeMuller=function(r,Delta){return -6.85+5*wwtlib._Util.$C(r*Delta);}
IFR.neptuneMagnitudeMuller=function(r,Delta){return -7.05+5*wwtlib._Util.$C(r*Delta);}
IFR.mercuryMagnitudeAA=function(r,Delta,i){var $0=i*i;var $1=$0*i;return -0.42+5*wwtlib._Util.$C(r*Delta)+0.038*i-0.000273*$0+2E-06*$1;}
IFR.venusMagnitudeAA=function(r,Delta,i){var $0=i*i;var $1=$0*i;return -4.4+5*wwtlib._Util.$C(r*Delta)+0.0009*i+0.000239*$0-6.5E-07*$1;}
IFR.marsMagnitudeAA=function(r,Delta,i){return -1.52+5*wwtlib._Util.$C(r*Delta)+0.016*i;}
IFR.jupiterMagnitudeAA=function(r,Delta,i){return -9.4+5*wwtlib._Util.$C(r*Delta)+0.005*i;}
IFR.saturnMagnitudeAA=function(r,Delta,DeltaU,B){B=CT.d2R(B);var $0=Math.sin(B);return -8.88+5*wwtlib._Util.$C(r*Delta)+0.044*Math.abs(DeltaU)-2.6*Math.sin(Math.abs(B))+1.25*$0*$0;}
IFR.uranusMagnitudeAA=function(r,Delta){return -7.19+5*wwtlib._Util.$C(r*Delta);}
IFR.neptuneMagnitudeAA=function(r,Delta){return -6.87+5*wwtlib._Util.$C(r*Delta);}
IFR.plutoMagnitudeAA=function(r,Delta){return -1+5*wwtlib._Util.$C(r*Delta);}
window.INTP=function(){}
INTP.interpolate=function(n,Y1,Y2,Y3){var $0=Y2-Y1;var $1=Y3-Y2;var $2=Y1+Y3-2*Y2;return Y2+n/2*($0+$1+n*$2);}
INTP.interpolate2=function(n,Y1,Y2,Y3,Y4,Y5){var $0=Y2-Y1;var $1=Y3-Y2;var $2=Y4-Y3;var $3=Y5-Y4;var $4=$1-$0;var $5=$2-$1;var $6=$3-$2;var $7=$5-$4;var $8=$6-$5;var $9=$8-$7;var $A=n*n;var $B=$A*n;var $C=$B*n;return Y3+n*(($1+$2)/2-($7+$8)/12)+$A*($5/2-$9/24)+$B*(($7+$8)/12)+$C*($9/24);}
INTP.interpolateToHalves=function(Y1,Y2,Y3,Y4){return (9*(Y2+Y3)-Y1-Y4)/16;}
INTP.lagrangeInterpolate=function(X,n,pX,pY){var $0=0;for(var $1=1;$1<=n;$1++){var $2=1;for(var $3=1;$3<=n;$3++){if($3!==$1){$2=$2*(X-pX[$3-1])/(pX[$1-1]-pX[$3-1]);}}$0+=$2*pY[$1-1];}return $0;}
INTP.zero=function(Y1,Y2,Y3){var $0=Y2-Y1;var $1=Y3-Y2;var $2=Y1+Y3-2*Y2;var $3=true;var $4=0;var $5=$4;while($3){$5=-2*Y2/($0+$1+$2*$4);$3=(Math.abs($5-$4)>1E-12);if($3){$4=$5;}}return $5;}
INTP.zeroB=function(Y1,Y2,Y3,Y4,Y5){var $0=Y2-Y1;var $1=Y3-Y2;var $2=Y4-Y3;var $3=Y5-Y4;var $4=$1-$0;var $5=$2-$1;var $6=$3-$2;var $7=$5-$4;var $8=$6-$5;var $9=$8-$7;var $A=true;var $B=0;var $C=$B;while($A){var $D=$B*$B;var $E=$D*$B;var $F=$E*$B;$C=(-24*Y3+$D*($9-12*$5)-2*$E*($7+$8)-$F*$9)/(2*(6*$1+6*$2-$7-$8));$A=(Math.abs($C-$B)>1E-12);if($A){$B=$C;}}return $C;}
INTP.zero2=function(Y1,Y2,Y3){var $0=Y2-Y1;var $1=Y3-Y2;var $2=Y1+Y3-2*Y2;var $3=true;var $4=0;var $5=$4;while($3){var $6=-(2*Y2+$4*($0+$1+$2*$4))/($0+$1+2*$2*$4);$5=$4+$6;$3=(Math.abs($6)>1E-12);if($3){$4=$5;}}return $5;}
INTP.zero2B=function(Y1,Y2,Y3,Y4,Y5){var $0=Y2-Y1;var $1=Y3-Y2;var $2=Y4-Y3;var $3=Y5-Y4;var $4=$1-$0;var $5=$2-$1;var $6=$3-$2;var $7=$5-$4;var $8=$6-$5;var $9=$8-$7;var $A=$9/24;var $B=($7+$8)/12;var $C=$5/2-$A;var $D=($1+$2)/2-$B;var $E=true;var $F=0;var $10=$F;while($E){var $11=$F*$F;var $12=$11*$F;var $13=$12*$F;var $14=-($A*$13+$B*$12+$C*$11+$D*$F+Y3)/(4*$A*$12+3*$B*$11+2*$C*$F+$D);$10=$F+$14;$E=(Math.abs($14)>1E-12);if($E){$F=$10;}}return $10;}
window.CAAJupiter=function(){}
CAAJupiter.eclipticLongitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=GFX.g_L0JupiterCoefficients.length;var $6=0;var $7;for($7=0;$7<$5;$7++){$6+=GFX.g_L0JupiterCoefficients[$7].a*Math.cos(GFX.g_L0JupiterCoefficients[$7].b+GFX.g_L0JupiterCoefficients[$7].c*$0);}var $8=GFX.g_L1JupiterCoefficients.length;var $9=0;for($7=0;$7<$8;$7++){$9+=GFX.g_L1JupiterCoefficients[$7].a*Math.cos(GFX.g_L1JupiterCoefficients[$7].b+GFX.g_L1JupiterCoefficients[$7].c*$0);}var $A=GFX.g_L2JupiterCoefficients.length;var $B=0;for($7=0;$7<$A;$7++){$B+=GFX.g_L2JupiterCoefficients[$7].a*Math.cos(GFX.g_L2JupiterCoefficients[$7].b+GFX.g_L2JupiterCoefficients[$7].c*$0);}var $C=GFX.g_L3JupiterCoefficients.length;var $D=0;for($7=0;$7<$C;$7++){$D+=GFX.g_L3JupiterCoefficients[$7].a*Math.cos(GFX.g_L3JupiterCoefficients[$7].b+GFX.g_L3JupiterCoefficients[$7].c*$0);}var $E=GFX.g_L4JupiterCoefficients.length;var $F=0;for($7=0;$7<$E;$7++){$F+=GFX.g_L4JupiterCoefficients[$7].a*Math.cos(GFX.g_L4JupiterCoefficients[$7].b+GFX.g_L4JupiterCoefficients[$7].c*$0);}var $10=GFX.g_L5JupiterCoefficients.length;var $11=0;for($7=0;$7<$10;$7++){$11+=GFX.g_L5JupiterCoefficients[$7].a*Math.cos(GFX.g_L5JupiterCoefficients[$7].b+GFX.g_L5JupiterCoefficients[$7].c*$0);}var $12=($6+$9*$0+$B*$1+$D*$2+$F*$3+$11*$4)/100000000;$12=CT.m360(CT.r2D($12));return $12;}
CAAJupiter.eclipticLatitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=GFX.g_B0JupiterCoefficients.length;var $6=0;var $7;for($7=0;$7<$5;$7++){$6+=GFX.g_B0JupiterCoefficients[$7].a*Math.cos(GFX.g_B0JupiterCoefficients[$7].b+GFX.g_B0JupiterCoefficients[$7].c*$0);}var $8=GFX.g_B1JupiterCoefficients.length;var $9=0;for($7=0;$7<$8;$7++){$9+=GFX.g_B1JupiterCoefficients[$7].a*Math.cos(GFX.g_B1JupiterCoefficients[$7].b+GFX.g_B1JupiterCoefficients[$7].c*$0);}var $A=GFX.g_B2JupiterCoefficients.length;var $B=0;for($7=0;$7<$A;$7++){$B+=GFX.g_B2JupiterCoefficients[$7].a*Math.cos(GFX.g_B2JupiterCoefficients[$7].b+GFX.g_B2JupiterCoefficients[$7].c*$0);}var $C=GFX.g_B3JupiterCoefficients.length;var $D=0;for($7=0;$7<$C;$7++){$D+=GFX.g_B3JupiterCoefficients[$7].a*Math.cos(GFX.g_B3JupiterCoefficients[$7].b+GFX.g_B3JupiterCoefficients[$7].c*$0);}var $E=GFX.g_B4JupiterCoefficients.length;var $F=0;for($7=0;$7<$E;$7++){$F+=GFX.g_B4JupiterCoefficients[$7].a*Math.cos(GFX.g_B4JupiterCoefficients[$7].b+GFX.g_B4JupiterCoefficients[$7].c*$0);}var $10=GFX.g_B5JupiterCoefficients.length;var $11=0;for($7=0;$7<$10;$7++){$11+=GFX.g_B5JupiterCoefficients[$7].a*Math.cos(GFX.g_B5JupiterCoefficients[$7].b+GFX.g_B5JupiterCoefficients[$7].c*$0);}var $12=($6+$9*$0+$B*$1+$D*$2+$F*$3+$11*$4)/100000000;$12=CT.r2D($12);return $12;}
CAAJupiter.radiusVector=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=GFX.g_R0JupiterCoefficients.length;var $6=0;var $7;for($7=0;$7<$5;$7++){$6+=GFX.g_R0JupiterCoefficients[$7].a*Math.cos(GFX.g_R0JupiterCoefficients[$7].b+GFX.g_R0JupiterCoefficients[$7].c*$0);}var $8=GFX.g_R1JupiterCoefficients.length;var $9=0;for($7=0;$7<$8;$7++){$9+=GFX.g_R1JupiterCoefficients[$7].a*Math.cos(GFX.g_R1JupiterCoefficients[$7].b+GFX.g_R1JupiterCoefficients[$7].c*$0);}var $A=GFX.g_R2JupiterCoefficients.length;var $B=0;for($7=0;$7<$A;$7++){$B+=GFX.g_R2JupiterCoefficients[$7].a*Math.cos(GFX.g_R2JupiterCoefficients[$7].b+GFX.g_R2JupiterCoefficients[$7].c*$0);}var $C=GFX.g_R3JupiterCoefficients.length;var $D=0;for($7=0;$7<$C;$7++){$D+=GFX.g_R3JupiterCoefficients[$7].a*Math.cos(GFX.g_R3JupiterCoefficients[$7].b+GFX.g_R3JupiterCoefficients[$7].c*$0);}var $E=GFX.g_R4JupiterCoefficients.length;var $F=0;for($7=0;$7<$E;$7++){$F+=GFX.g_R4JupiterCoefficients[$7].a*Math.cos(GFX.g_R4JupiterCoefficients[$7].b+GFX.g_R4JupiterCoefficients[$7].c*$0);}var $10=GFX.g_R5JupiterCoefficients.length;var $11=0;for($7=0;$7<$10;$7++){$11+=GFX.g_R5JupiterCoefficients[$7].a*Math.cos(GFX.g_R5JupiterCoefficients[$7].b+GFX.g_R5JupiterCoefficients[$7].c*$0);}return ($6+$9*$0+$B*$1+$D*$2+$F*$3+$11*$4)/100000000;}
window.CAAKepler=function(){}
CAAKepler.calculate=function(M,e){return CAAKepler.calculateIter(M,e,53);}
CAAKepler.calculateIter=function(M,e,nIterations){M=CT.d2R(M);var $0=CT.PI();var $1=1;if(M<0){$1=-1;}M=Math.abs(M)/(2*$0);M=(M-parseInt(M))*2*$0*$1;if(M<0){M+=2*$0;}$1=1;if(M>$0){$1=-1;}if(M>$0){M=2*$0-M;}var $2=$0/2;var $3=$0/4;for(var $4=0;$4<nIterations;$4++){var $5=$2-e*Math.sin($2);if(M>$5){$2+=$3;}else{$2-=$3;}$3/=2;}return CT.r2D($2)*$1;}
window.CAAMars=function(){}
CAAMars.eclipticLongitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=GFX.g_L0MarsCoefficients.length;var $6=0;var $7;for($7=0;$7<$5;$7++){$6+=GFX.g_L0MarsCoefficients[$7].a*Math.cos(GFX.g_L0MarsCoefficients[$7].b+GFX.g_L0MarsCoefficients[$7].c*$0);}var $8=GFX.g_L1MarsCoefficients.length;var $9=0;for($7=0;$7<$8;$7++){$9+=GFX.g_L1MarsCoefficients[$7].a*Math.cos(GFX.g_L1MarsCoefficients[$7].b+GFX.g_L1MarsCoefficients[$7].c*$0);}var $A=GFX.g_L2MarsCoefficients.length;var $B=0;for($7=0;$7<$A;$7++){$B+=GFX.g_L2MarsCoefficients[$7].a*Math.cos(GFX.g_L2MarsCoefficients[$7].b+GFX.g_L2MarsCoefficients[$7].c*$0);}var $C=GFX.g_L3MarsCoefficients.length;var $D=0;for($7=0;$7<$C;$7++){$D+=GFX.g_L3MarsCoefficients[$7].a*Math.cos(GFX.g_L3MarsCoefficients[$7].b+GFX.g_L3MarsCoefficients[$7].c*$0);}var $E=GFX.g_L4MarsCoefficients.length;var $F=0;for($7=0;$7<$E;$7++){$F+=GFX.g_L4MarsCoefficients[$7].a*Math.cos(GFX.g_L4MarsCoefficients[$7].b+GFX.g_L4MarsCoefficients[$7].c*$0);}var $10=GFX.g_L5MarsCoefficients.length;var $11=0;for($7=0;$7<$10;$7++){$11+=GFX.g_L5MarsCoefficients[$7].a*Math.cos(GFX.g_L5MarsCoefficients[$7].b+GFX.g_L5MarsCoefficients[$7].c*$0);}var $12=($6+$9*$0+$B*$1+$D*$2+$F*$3+$11*$4)/100000000;$12=CT.m360(CT.r2D($12));return $12;}
CAAMars.eclipticLatitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_B0MarsCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_B0MarsCoefficients[$6].a*Math.cos(GFX.g_B0MarsCoefficients[$6].b+GFX.g_B0MarsCoefficients[$6].c*$0);}var $7=GFX.g_B1MarsCoefficients.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_B1MarsCoefficients[$6].a*Math.cos(GFX.g_B1MarsCoefficients[$6].b+GFX.g_B1MarsCoefficients[$6].c*$0);}var $9=GFX.g_B2MarsCoefficients.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_B2MarsCoefficients[$6].a*Math.cos(GFX.g_B2MarsCoefficients[$6].b+GFX.g_B2MarsCoefficients[$6].c*$0);}var $B=GFX.g_B3MarsCoefficients.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_B3MarsCoefficients[$6].a*Math.cos(GFX.g_B3MarsCoefficients[$6].b+GFX.g_B3MarsCoefficients[$6].c*$0);}var $D=GFX.g_B4MarsCoefficients.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_B4MarsCoefficients[$6].a*Math.cos(GFX.g_B4MarsCoefficients[$6].b+GFX.g_B4MarsCoefficients[$6].c*$0);}var $F=($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;$F=CT.r2D($F);return $F;}
CAAMars.radiusVector=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_R0MarsCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_R0MarsCoefficients[$6].a*Math.cos(GFX.g_R0MarsCoefficients[$6].b+GFX.g_R0MarsCoefficients[$6].c*$0);}var $7=GFX.g_R1MarsCoefficients.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_R1MarsCoefficients[$6].a*Math.cos(GFX.g_R1MarsCoefficients[$6].b+GFX.g_R1MarsCoefficients[$6].c*$0);}var $9=GFX.g_R2MarsCoefficients.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_R2MarsCoefficients[$6].a*Math.cos(GFX.g_R2MarsCoefficients[$6].b+GFX.g_R2MarsCoefficients[$6].c*$0);}var $B=GFX.g_R3MarsCoefficients.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_R3MarsCoefficients[$6].a*Math.cos(GFX.g_R3MarsCoefficients[$6].b+GFX.g_R3MarsCoefficients[$6].c*$0);}var $D=GFX.g_R4MarsCoefficients.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_R4MarsCoefficients[$6].a*Math.cos(GFX.g_R4MarsCoefficients[$6].b+GFX.g_R4MarsCoefficients[$6].c*$0);}return ($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;}
window.CAAMercury=function(){}
CAAMercury.eclipticLongitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=GFX.g_L0MercuryCoefficients.length;var $6=0;var $7;for($7=0;$7<$5;$7++){$6+=GFX.g_L0MercuryCoefficients[$7].a*Math.cos(GFX.g_L0MercuryCoefficients[$7].b+GFX.g_L0MercuryCoefficients[$7].c*$0);}var $8=GFX.g_L1MercuryCoefficients.length;var $9=0;for($7=0;$7<$8;$7++){$9+=GFX.g_L1MercuryCoefficients[$7].a*Math.cos(GFX.g_L1MercuryCoefficients[$7].b+GFX.g_L1MercuryCoefficients[$7].c*$0);}var $A=GFX.g_L2MercuryCoefficients.length;var $B=0;for($7=0;$7<$A;$7++){$B+=GFX.g_L2MercuryCoefficients[$7].a*Math.cos(GFX.g_L2MercuryCoefficients[$7].b+GFX.g_L2MercuryCoefficients[$7].c*$0);}var $C=GFX.g_L3MercuryCoefficients.length;var $D=0;for($7=0;$7<$C;$7++){$D+=GFX.g_L3MercuryCoefficients[$7].a*Math.cos(GFX.g_L3MercuryCoefficients[$7].b+GFX.g_L3MercuryCoefficients[$7].c*$0);}var $E=GFX.g_L4MercuryCoefficients.length;var $F=0;for($7=0;$7<$E;$7++){$F+=GFX.g_L4MercuryCoefficients[$7].a*Math.cos(GFX.g_L4MercuryCoefficients[$7].b+GFX.g_L4MercuryCoefficients[$7].c*$0);}var $10=GFX.g_L5MercuryCoefficients.length;var $11=0;for($7=0;$7<$10;$7++){$11+=GFX.g_L5MercuryCoefficients[$7].a*Math.cos(GFX.g_L5MercuryCoefficients[$7].b+GFX.g_L5MercuryCoefficients[$7].c*$0);}var $12=($6+$9*$0+$B*$1+$D*$2+$F*$3+$11*$4)/100000000;$12=CT.m360(CT.r2D($12));return $12;}
CAAMercury.eclipticLatitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_B0MercuryCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_B0MercuryCoefficients[$6].a*Math.cos(GFX.g_B0MercuryCoefficients[$6].b+GFX.g_B0MercuryCoefficients[$6].c*$0);}var $7=GFX.g_B1MercuryCoefficients.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_B1MercuryCoefficients[$6].a*Math.cos(GFX.g_B1MercuryCoefficients[$6].b+GFX.g_B1MercuryCoefficients[$6].c*$0);}var $9=GFX.g_B2MercuryCoefficients.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_B2MercuryCoefficients[$6].a*Math.cos(GFX.g_B2MercuryCoefficients[$6].b+GFX.g_B2MercuryCoefficients[$6].c*$0);}var $B=GFX.g_B3MercuryCoefficients.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_B3MercuryCoefficients[$6].a*Math.cos(GFX.g_B3MercuryCoefficients[$6].b+GFX.g_B3MercuryCoefficients[$6].c*$0);}var $D=GFX.g_B4MercuryCoefficients.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_B4MercuryCoefficients[$6].a*Math.cos(GFX.g_B4MercuryCoefficients[$6].b+GFX.g_B4MercuryCoefficients[$6].c*$0);}var $F=($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;$F=CT.r2D($F);return $F;}
CAAMercury.radiusVector=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=GFX.g_R0MercuryCoefficients.length;var $4=0;var $5;for($5=0;$5<$3;$5++){$4+=GFX.g_R0MercuryCoefficients[$5].a*Math.cos(GFX.g_R0MercuryCoefficients[$5].b+GFX.g_R0MercuryCoefficients[$5].c*$0);}var $6=GFX.g_R1MercuryCoefficients.length;var $7=0;for($5=0;$5<$6;$5++){$7+=GFX.g_R1MercuryCoefficients[$5].a*Math.cos(GFX.g_R1MercuryCoefficients[$5].b+GFX.g_R1MercuryCoefficients[$5].c*$0);}var $8=GFX.g_R2MercuryCoefficients.length;var $9=0;for($5=0;$5<$8;$5++){$9+=GFX.g_R2MercuryCoefficients[$5].a*Math.cos(GFX.g_R2MercuryCoefficients[$5].b+GFX.g_R2MercuryCoefficients[$5].c*$0);}var $A=GFX.g_R3MercuryCoefficients.length;var $B=0;for($5=0;$5<$A;$5++){$B+=GFX.g_R3MercuryCoefficients[$5].a*Math.cos(GFX.g_R3MercuryCoefficients[$5].b+GFX.g_R3MercuryCoefficients[$5].c*$0);}return ($4+$7*$0+$9*$1+$B*$2)/100000000;}
window.CAAMoon=function(){}
CAAMoon.meanLongitude=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;return CT.m360(218.3164477+481267.88123421*$0-0.0015786*$1+$2/538841-$3/65194000);}
CAAMoon.meanElongation=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;return CT.m360(297.8501921+445267.1114034*$0-0.0018819*$1+$2/545868-$3/113065000);}
CAAMoon.meanAnomaly=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;return CT.m360(134.9633964+477198.8675055*$0+0.0087414*$1+$2/69699-$3/14712000);}
CAAMoon.argumentOfLatitude=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;return CT.m360(93.272095+483202.0175233*$0-0.0036539*$1-$2/3526000+$3/863310000);}
CAAMoon.meanLongitudeAscendingNode=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;return CT.m360(125.0445479-1934.1362891*$0+0.0020754*$1+$2/467441-$3/60616000);}
CAAMoon.meanLongitudePerigee=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;return CT.m360(83.3532465+4069.0137287*$0-0.01032*$1-$2/80053+$3/18999000);}
CAAMoon.trueLongitudeAscendingNode=function(JD){var $0=CAAMoon.meanLongitudeAscendingNode(JD);var $1=CAAMoon.meanElongation(JD);$1=CT.d2R($1);var $2=CAAEarth.sunMeanAnomaly(JD);$2=CT.d2R($2);var $3=CAAMoon.meanAnomaly(JD);$3=CT.d2R($3);var $4=CAAMoon.argumentOfLatitude(JD);$4=CT.d2R($4);$0-=1.4979*Math.sin(2*($1-$4));$0-=0.15*Math.sin($2);$0-=0.1226*Math.sin(2*$1);$0+=0.1176*Math.sin(2*$4);$0-=0.0801*Math.sin(2*($3-$4));return CT.m360($0);}
CAAMoon.eclipticLongitude=function(JD){var $0=CAAMoon.meanLongitude(JD);var $1=$0;$0=CT.d2R($0);var $2=CAAMoon.meanElongation(JD);$2=CT.d2R($2);var $3=CAAEarth.sunMeanAnomaly(JD);$3=CT.d2R($3);var $4=CAAMoon.meanAnomaly(JD);$4=CT.d2R($4);var $5=CAAMoon.argumentOfLatitude(JD);$5=CT.d2R($5);var $6=CAAEarth.eccentricity(JD);var $7=(JD-2451545)/36525;var $8=CT.m360(119.75+131.849*$7);$8=CT.d2R($8);var $9=CT.m360(53.09+479264.29*$7);$9=CT.d2R($9);var $A=CT.m360(313.45+481266.484*$7);$A=CT.d2R($A);var $B=GFX.g_MoonCoefficients1.length;var $C=0;for(var $E=0;$E<$B;$E++){var $F=GFX.g_MoonCoefficients2[$E].a*Math.sin(GFX.g_MoonCoefficients1[$E].d*$2+GFX.g_MoonCoefficients1[$E].m*$3+GFX.g_MoonCoefficients1[$E].mdash*$4+GFX.g_MoonCoefficients1[$E].f*$5);if(!!GFX.g_MoonCoefficients1[$E].m){$F*=$6;}$C+=$F;}$C+=3958*Math.sin($8);$C+=1962*Math.sin($0-$5);$C+=318*Math.sin($9);var $D=CAANutation.nutationInLongitude(JD);return CT.m360($1+$C/1000000+$D/3600);}
CAAMoon.eclipticLatitude=function(JD){var $0=CAAMoon.meanLongitude(JD);$0=CT.d2R($0);var $1=CAAMoon.meanElongation(JD);$1=CT.d2R($1);var $2=CAAEarth.sunMeanAnomaly(JD);$2=CT.d2R($2);var $3=CAAMoon.meanAnomaly(JD);$3=CT.d2R($3);var $4=CAAMoon.argumentOfLatitude(JD);$4=CT.d2R($4);var $5=CAAEarth.eccentricity(JD);var $6=(JD-2451545)/36525;var $7=CT.m360(119.75+131.849*$6);$7=CT.d2R($7);var $8=CT.m360(53.09+479264.29*$6);$8=CT.d2R($8);var $9=CT.m360(313.45+481266.484*$6);$9=CT.d2R($9);var $A=GFX.g_MoonCoefficients3.length;var $B=0;for(var $C=0;$C<$A;$C++){var $D=GFX.g_MoonCoefficients4[$C]*Math.sin(GFX.g_MoonCoefficients3[$C].d*$1+GFX.g_MoonCoefficients3[$C].m*$2+GFX.g_MoonCoefficients3[$C].mdash*$3+GFX.g_MoonCoefficients3[$C].f*$4);if(!!GFX.g_MoonCoefficients3[$C].m){$D*=$5;}$B+=$D;}$B-=2235*Math.sin($0);$B+=382*Math.sin($9);$B+=175*Math.sin($7-$4);$B+=175*Math.sin($7+$4);$B+=127*Math.sin($0-$3);$B-=115*Math.sin($0+$3);return $B/1000000;}
CAAMoon.radiusVector=function(JD){var $0=CAAMoon.meanLongitude(JD);$0=CT.d2R($0);var $1=CAAMoon.meanElongation(JD);$1=CT.d2R($1);var $2=CAAEarth.sunMeanAnomaly(JD);$2=CT.d2R($2);var $3=CAAMoon.meanAnomaly(JD);$3=CT.d2R($3);var $4=CAAMoon.argumentOfLatitude(JD);$4=CT.d2R($4);var $5=CAAEarth.eccentricity(JD);var $6=(JD-2451545)/36525;var $7=CT.m360(119.75+131.849*$6);$7=CT.d2R($7);var $8=CT.m360(53.09+479264.29*$6);$8=CT.d2R($8);var $9=CT.m360(313.45+481266.484*$6);$9=CT.d2R($9);var $A=GFX.g_MoonCoefficients1.length;var $B=0;for(var $C=0;$C<$A;$C++){var $D=GFX.g_MoonCoefficients2[$C].b*Math.cos(GFX.g_MoonCoefficients1[$C].d*$1+GFX.g_MoonCoefficients1[$C].m*$2+GFX.g_MoonCoefficients1[$C].mdash*$3+GFX.g_MoonCoefficients1[$C].f*$4);if(!!GFX.g_MoonCoefficients1[$C].m){$D*=$5;}$B+=$D;}return 385000.56+$B/1000;}
CAAMoon.radiusVectorToHorizontalParallax=function(RadiusVector){return CT.r2D(Math.asin(6378.14/RadiusVector));}
CAAMoon.horizontalParallaxToRadiusVector=function(Parallax){return 6378.14/Math.sin(CT.d2R(Parallax));}
window.MoonCoefficient1=function(d,m,mdash,f){this.d=d;this.m=m;this.mdash=mdash;this.f=f;}
MoonCoefficient1.prototype={d:0,m:0,mdash:0,f:0}
window.MoonCoefficient2=function(a,b){this.a=a;this.b=b;}
MoonCoefficient2.prototype={a:0,b:0}
window.MIFR=function(){}
MIFR.geocentricElongation=function(ObjectAlpha,ObjectDelta,SunAlpha,SunDelta){ObjectAlpha=CT.d2R(ObjectAlpha*15);SunAlpha=CT.d2R(SunAlpha*15);ObjectDelta=CT.d2R(ObjectDelta);SunDelta=CT.d2R(SunDelta);return CT.r2D(Math.acos(Math.sin(SunDelta)*Math.sin(ObjectDelta)+Math.cos(SunDelta)*Math.cos(ObjectDelta)*Math.cos(SunAlpha-ObjectAlpha)));}
MIFR.phaseAngle=function(GeocentricElongation,EarthObjectDistance,EarthSunDistance){GeocentricElongation=CT.d2R(GeocentricElongation);return CT.m360(CT.r2D(Math.atan2(EarthSunDistance*Math.sin(GeocentricElongation),EarthObjectDistance-EarthSunDistance*Math.cos(GeocentricElongation))));}
MIFR.illuminatedFraction=function(PhaseAngle){PhaseAngle=CT.d2R(PhaseAngle);return (1+Math.cos(PhaseAngle))/2;}
MIFR.positionAngle=function(Alpha0,Delta0,Alpha,Delta){Alpha0=CT.h2R(Alpha0);Alpha=CT.h2R(Alpha);Delta0=CT.d2R(Delta0);Delta=CT.d2R(Delta);return CT.m360(CT.r2D(Math.atan2(Math.cos(Delta0)*Math.sin(Alpha0-Alpha),Math.sin(Delta0)*Math.cos(Delta)-Math.cos(Delta0)*Math.sin(Delta)*Math.cos(Alpha0-Alpha))));}
window.CAAMoonNodes=function(){}
CAAMoonNodes.k=function(Year){return 13.4223*(Year-2000.05);}
CAAMoonNodes.passageThroNode=function(k){var $0=k/1342.23;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=CT.m360(183.638+331.73735682*k+0.0014852*$1+2.09E-06*$2-1E-08*$3);var $5=CT.m360(17.4006+26.8203725*k+0.0001186*$1+6E-08*$2);var $6=CT.m360(38.3776+355.52747313*k+0.0123499*$1+1.4627E-05*$2-6.9E-08*$3);var $7=CT.m360(123.9767-1.44098956*k+0.0020608*$1+2.14E-06*$2-1.6E-08*$3);var $8=CT.m360(299.75+132.85*$0-0.009173*$1);var $9=CT.m360($7+272.75-2.3*$0);var $A=1-0.002516*$0-7.4E-06*$1;$4=CT.d2R($4);var $B=2*$4;var $C=$B*$B;$5=CT.d2R($5);$6=CT.d2R($6);var $D=2*$6;$7=CT.d2R($7);$8=CT.d2R($8);$9=CT.d2R($9);var $E=2451565.1619+27.212220817*k+0.0002762*$1+2.1E-08*$2-8.8E-11*$3-0.4721*Math.sin($6)-0.1649*Math.sin($B)-0.0868*Math.sin($B-$6)+0.0084*Math.sin($B+$6)-$A*0.0083*Math.sin($B-$5)-$A*0.0039*Math.sin($B-$5-$6)+0.0034*Math.sin($D)-0.0031*Math.sin($B-$D)+$A*0.003*Math.sin($B+$5)+$A*0.0028*Math.sin($5-$6)+$A*0.0026*Math.sin($5)+0.0025*Math.sin($C)+0.0024*Math.sin($4)+$A*0.0022*Math.sin($5+$6)+0.0017*Math.sin($7)+0.0014*Math.sin($C-$6)+$A*0.0005*Math.sin($B+$5-$6)+$A*0.0004*Math.sin($B-$5+$6)-$A*0.0003*Math.sin($B-$5*$5)+$A*0.0003*Math.sin($C-$5)+0.0003*Math.sin($8)+0.0003*Math.sin($9);return $E;}
window.CAAMoonPerigeeApogee=function(){}
CAAMoonPerigeeApogee.k=function(Year){return 13.2555*(Year-1999.97);}
CAAMoonPerigeeApogee.meanPerigee=function(k){var $0=k/1325.55;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;return 2451534.6698+27.55454989*k-0.0006691*$1-1.098E-06*$2+5.2E-09*$3;}
CAAMoonPerigeeApogee.meanApogee=function(k){return CAAMoonPerigeeApogee.meanPerigee(k);}
CAAMoonPerigeeApogee.truePerigee=function(k){var $0=CAAMoonPerigeeApogee.meanPerigee(k);var $1=k/1325.55;var $2=$1*$1;var $3=$2*$1;var $4=$3*$1;var $5=CT.m360(171.9179+335.9106046*k-0.0100383*$2-1.156E-05*$3+5.5E-08*$4);$5=CT.d2R($5);var $6=CT.m360(347.3477+27.1577721*k-0.000813*$2-1E-06*$3);$6=CT.d2R($6);var $7=CT.m360(316.6109+364.5287911*k-0.0125053*$2-1.48E-05*$3);$7=CT.d2R($7);var $8=GFX.g_MoonPerigeeApogeeCoefficients1.length;var $9=0;for(var $A=0;$A<$8;$A++){$9+=GFX.g_MoonPerigeeApogeeCoefficients1[$A].c*Math.sin($5*GFX.g_MoonPerigeeApogeeCoefficients1[$A].d+$6*GFX.g_MoonPerigeeApogeeCoefficients1[$A].m+$7*GFX.g_MoonPerigeeApogeeCoefficients1[$A].f+$1*GFX.g_MoonPerigeeApogeeCoefficients1[$A].t);}return $0+$9;}
CAAMoonPerigeeApogee.trueApogee=function(k){var $0=CAAMoonPerigeeApogee.meanApogee(k);var $1=k/1325.55;var $2=$1*$1;var $3=$2*$1;var $4=$3*$1;var $5=CT.m360(171.9179+335.9106046*k-0.0100383*$2-1.156E-05*$3+5.5E-08*$4);$5=CT.d2R($5);var $6=CT.m360(347.3477+27.1577721*k-0.000813*$2-1E-06*$3);$6=CT.d2R($6);var $7=CT.m360(316.6109+364.5287911*k-0.0125053*$2-1.48E-05*$3);$7=CT.d2R($7);var $8=GFX.g_MoonPerigeeApogeeCoefficients2.length;var $9=0;for(var $A=0;$A<$8;$A++){$9+=(GFX.g_MoonPerigeeApogeeCoefficients2[$A].c+$1*GFX.g_MoonPerigeeApogeeCoefficients2[$A].t)*Math.sin($5*GFX.g_MoonPerigeeApogeeCoefficients2[$A].d+$6*GFX.g_MoonPerigeeApogeeCoefficients2[$A].m+$7*GFX.g_MoonPerigeeApogeeCoefficients2[$A].f);}return $0+$9;}
CAAMoonPerigeeApogee.perigeeParallax=function(k){var $0=k/1325.55;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=CT.m360(171.9179+335.9106046*k-0.0100383*$1-1.156E-05*$2+5.5E-08*$3);$4=CT.d2R($4);var $5=CT.m360(347.3477+27.1577721*k-0.000813*$1-1E-06*$2);$5=CT.d2R($5);var $6=CT.m360(316.6109+364.5287911*k-0.0125053*$1-1.48E-05*$2);$6=CT.d2R($6);var $7=GFX.g_MoonPerigeeApogeeCoefficients3.length;var $8=3629.215;for(var $9=0;$9<$7;$9++){$8+=(GFX.g_MoonPerigeeApogeeCoefficients3[$9].c+$0*GFX.g_MoonPerigeeApogeeCoefficients3[$9].t)*Math.cos($4*GFX.g_MoonPerigeeApogeeCoefficients3[$9].d+$5*GFX.g_MoonPerigeeApogeeCoefficients3[$9].m+$6*GFX.g_MoonPerigeeApogeeCoefficients3[$9].f);}return $8/3600;}
CAAMoonPerigeeApogee.apogeeParallax=function(k){var $0=k/1325.55;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=CT.m360(171.9179+335.9106046*k-0.0100383*$1-1.156E-05*$2+5.5E-08*$3);$4=CT.d2R($4);var $5=CT.m360(347.3477+27.1577721*k-0.000813*$1-1E-06*$2);$5=CT.d2R($5);var $6=CT.m360(316.6109+364.5287911*k-0.0125053*$1-1.48E-05*$2);$6=CT.d2R($6);var $7=GFX.g_MoonPerigeeApogeeCoefficients4.length;var $8=3245.251;for(var $9=0;$9<$7;$9++){$8+=(GFX.g_MoonPerigeeApogeeCoefficients4[$9].c+$0*GFX.g_MoonPerigeeApogeeCoefficients4[$9].t)*Math.cos($4*GFX.g_MoonPerigeeApogeeCoefficients4[$9].d+$5*GFX.g_MoonPerigeeApogeeCoefficients4[$9].m+$6*GFX.g_MoonPerigeeApogeeCoefficients4[$9].f);}return $8/3600;}
window.MPAC=function(D,M,F,C,T){this.d=D;this.m=M;this.f=F;this.c=C;this.t=T;}
MPAC.prototype={d:0,m:0,f:0,c:0,t:0}
window.CAAMoonPhases=function(){}
CAAMoonPhases.k=function(Year){return 12.3685*(Year-2000);}
CAAMoonPhases.meanPhase=function(k){var $0=k/1236.85;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;return 2451550.09766+29.530588861*k+0.00015437*$1-1.5E-07*$2+7.3E-10*$3;}
CAAMoonPhases.truePhase=function(k){var $0=CAAMoonPhases.meanPhase(k);var $1=k/1236.85;var $2=$1*$1;var $3=$2*$1;var $4=$3*$1;var $5=1-0.002516*$1-7.4E-06*$2;var $6=$5*$5;var $7=CT.m360(2.5534+29.1053567*k-1.4E-06*$2-1.1E-07*$3);$7=CT.d2R($7);var $8=CT.m360(201.5643+385.81693528*k+0.0107582*$2+1.238E-05*$3-5.8E-08*$4);$8=CT.d2R($8);var $9=CT.m360(160.7108+390.67050284*k-0.0016118*$2-2.27E-06*$3+1E-08*$4);$9=CT.d2R($9);var $A=CT.m360(124.7746-1.56375588*k+0.0020672*$2+2.15E-06*$3);$A=CT.d2R($A);var $B=CT.m360(299.77+0.107408*k-0.009173*$2);$B=CT.d2R($B);var $C=CT.m360(251.88+0.016321*k);$C=CT.d2R($C);var $D=CT.m360(251.83+26.651886*k);$D=CT.d2R($D);var $E=CT.m360(349.42+36.412478*k);$E=CT.d2R($E);var $F=CT.m360(84.66+18.206239*k);$F=CT.d2R($F);var $10=CT.m360(141.74+53.303771*k);$10=CT.d2R($10);var $11=CT.m360(207.14+2.453732*k);$11=CT.d2R($11);var $12=CT.m360(154.84+7.30686*k);$12=CT.d2R($12);var $13=CT.m360(34.52+27.261239*k);$13=CT.d2R($13);var $14=CT.m360(207.19+0.121824*k);$14=CT.d2R($14);var $15=CT.m360(291.34+1.844379*k);$15=CT.d2R($15);var $16=CT.m360(161.72+24.198154*k);$16=CT.d2R($16);var $17=CT.m360(239.56+25.513099*k);$17=CT.d2R($17);var $18=CT.m360(331.55+3.592518*k);$18=CT.d2R($18);var $19=Math.floor(k);var $1A=k-$19;if($1A<0){$1A=1+$1A;}if(!$1A){var $1C=-0.4072*Math.sin($8)+0.17241*$5*Math.sin($7)+0.01608*Math.sin(2*$8)+0.01039*Math.sin(2*$9)+0.00739*$5*Math.sin($8-$7)+-0.00514*$5*Math.sin($8+$7)+0.00208*$6*Math.sin(2*$7)+-0.00111*Math.sin($8-2*$9)+-0.00057*Math.sin($8+2*$9)+0.00056*$5*Math.sin(2*$8+$7)+-0.00042*Math.sin(3*$8)+0.00042*$5*Math.sin($7+2*$9)+0.00038*$5*Math.sin($7-2*$9)+-0.00024*$5*Math.sin(2*$8-$7)+-0.00017*Math.sin($A)+-7E-05*Math.sin($8+2*$7)+4E-05*Math.sin(2*$8-2*$9)+4E-05*Math.sin(3*$7)+3E-05*Math.sin($8+$7-2*$9)+3E-05*Math.sin(2*$8+2*$9)+-3E-05*Math.sin($8+$7+2*$9)+3E-05*Math.sin($8-$7+2*$9)+-2E-05*Math.sin($8-$7-2*$9)+-2E-05*Math.sin(3*$8+$7)+2E-05*Math.sin(4*$8);$0+=$1C;}else if(($1A===0.25)||($1A===0.75)){var $1D=-0.62801*Math.sin($8)+0.17172*$5*Math.sin($7)+-0.01183*$5*Math.sin($8+$7)+0.00862*Math.sin(2*$8)+0.00804*Math.sin(2*$9)+0.00454*$5*Math.sin($8-$7)+0.00204*$6*Math.sin(2*$7)+-0.0018*Math.sin($8-2*$9)+-0.0007*Math.sin($8+2*$9)+-0.0004*Math.sin(3*$8)+-0.00034*$5*Math.sin(2*$8-$7)+0.00032*$5*Math.sin($7+2*$9)+0.00032*$5*Math.sin($7-2*$9)+-0.00028*$6*Math.sin($8+2*$7)+0.00027*$5*Math.sin(2*$8+$7)+-0.00017*Math.sin($A)+-5E-05*Math.sin($8-$7-2*$9)+4E-05*Math.sin(2*$8+2*$9)+-4E-05*Math.sin($8+$7+2*$9)+4E-05*Math.sin($8-2*$7)+3E-05*Math.sin($8+$7-2*$9)+3E-05*Math.sin(3*$7)+2E-05*Math.sin(2*$8-2*$9)+2E-05*Math.sin($8-$7+2*$9)+-2E-05*Math.sin(3*$8+$7);$0+=$1D;var $1E=0.00306-0.00038*$5*Math.cos($7)+0.00026*Math.cos($8)-2E-05*Math.cos($8-$7)+2E-05*Math.cos($8+$7)+2E-05*Math.cos(2*$9);if($1A===0.25){$0+=$1E;}else{$0-=$1E;}}else if($1A===0.5){var $1F=-0.40614*Math.sin($8)+0.17302*$5*Math.sin($7)+0.01614*Math.sin(2*$8)+0.01043*Math.sin(2*$9)+0.00734*$5*Math.sin($8-$7)+-0.00514*$5*Math.sin($8+$7)+0.00209*$6*Math.sin(2*$7)+-0.00111*Math.sin($8-2*$9)+-0.00057*Math.sin($8+2*$9)+0.00056*$5*Math.sin(2*$8+$7)+-0.00042*Math.sin(3*$8)+0.00042*$5*Math.sin($7+2*$9)+0.00038*$5*Math.sin($7-2*$9)+-0.00024*$5*Math.sin(2*$8-$7)+-0.00017*Math.sin($A)+-7E-05*Math.sin($8+2*$7)+4E-05*Math.sin(2*$8-2*$9)+4E-05*Math.sin(3*$7)+3E-05*Math.sin($8+$7-2*$9)+3E-05*Math.sin(2*$8+2*$9)+-3E-05*Math.sin($8+$7+2*$9)+3E-05*Math.sin($8-$7+2*$9)+-2E-05*Math.sin($8-$7-2*$9)+-2E-05*Math.sin(3*$8+$7)+2E-05*Math.sin(4*$8);$0+=$1F;}else{}var $1B=0.000325*Math.sin($B)+0.000165*Math.sin($C)+0.000164*Math.sin($D)+0.000126*Math.sin($E)+0.00011*Math.sin($F)+6.2E-05*Math.sin($10)+6E-05*Math.sin($11)+5.6E-05*Math.sin($12)+4.7E-05*Math.sin($13)+4.2E-05*Math.sin($14)+4E-05*Math.sin($15)+3.7E-05*Math.sin($16)+3.5E-05*Math.sin($17)+2.3E-05*Math.sin($18);$0+=$1B;return $0;}
window.CAANeptune=function(){}
CAANeptune.eclipticLongitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_L0NC.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_L0NC[$6].a*Math.cos(GFX.g_L0NC[$6].b+GFX.g_L0NC[$6].c*$0);}var $7=GFX.g_L1NC.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_L1NC[$6].a*Math.cos(GFX.g_L1NC[$6].b+GFX.g_L1NC[$6].c*$0);}var $9=GFX.g_L2NC.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_L2NC[$6].a*Math.cos(GFX.g_L2NC[$6].b+GFX.g_L2NC[$6].c*$0);}var $B=GFX.g_L3NC.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_L3NC[$6].a*Math.cos(GFX.g_L3NC[$6].b+GFX.g_L3NC[$6].c*$0);}var $D=GFX.g_L4NC.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_L4NC[$6].a*Math.cos(GFX.g_L4NC[$6].b+GFX.g_L4NC[$6].c*$0);}var $F=($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;$F=CT.m360(CT.r2D($F));return $F;}
CAANeptune.eclipticLatitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_B0NC.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_B0NC[$6].a*Math.cos(GFX.g_B0NC[$6].b+GFX.g_B0NC[$6].c*$0);}var $7=GFX.g_B1NC.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_B1NC[$6].a*Math.cos(GFX.g_B1NC[$6].b+GFX.g_B1NC[$6].c*$0);}var $9=GFX.g_B2NC.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_B2NC[$6].a*Math.cos(GFX.g_B2NC[$6].b+GFX.g_B2NC[$6].c*$0);}var $B=GFX.g_B3NC.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_B3NC[$6].a*Math.cos(GFX.g_B3NC[$6].b+GFX.g_B3NC[$6].c*$0);}var $D=GFX.g_B4NC.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_B4NC[$6].a*Math.cos(GFX.g_B4NC[$6].b+GFX.g_B4NC[$6].c*$0);}var $F=($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;$F=CT.r2D($F);return $F;}
CAANeptune.radiusVector=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=GFX.g_R0NC.length;var $4=0;var $5;for($5=0;$5<$3;$5++){$4+=GFX.g_R0NC[$5].a*Math.cos(GFX.g_R0NC[$5].b+GFX.g_R0NC[$5].c*$0);}var $6=GFX.g_R1NC.length;var $7=0;for($5=0;$5<$6;$5++){$7+=GFX.g_R1NC[$5].a*Math.cos(GFX.g_R1NC[$5].b+GFX.g_R1NC[$5].c*$0);}var $8=GFX.g_R2NC.length;var $9=0;for($5=0;$5<$8;$5++){$9+=GFX.g_R2NC[$5].a*Math.cos(GFX.g_R2NC[$5].b+GFX.g_R2NC[$5].c*$0);}var $A=GFX.g_R3NC.length;var $B=0;for($5=0;$5<$A;$5++){$B+=GFX.g_R3NC[$5].a*Math.cos(GFX.g_R3NC[$5].b+GFX.g_R3NC[$5].c*$0);}return ($4+$7*$0+$9*$1+$B*$2)/100000000;}
window.CAANutation=function(){}
CAANutation.nutationInLongitude=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;var $3=297.85036+445267.11148*$0-0.0019142*$1+$2/189474;$3=CT.m360($3);var $4=357.52772+35999.05034*$0-0.0001603*$1-$2/300000;$4=CT.m360($4);var $5=134.96298+477198.867398*$0+0.0086972*$1+$2/56250;$5=CT.m360($5);var $6=93.27191+483202.017538*$0-0.0036825*$1+$2/327270;$6=CT.m360($6);var $7=125.04452-1934.136261*$0+0.0020708*$1+$2/450000;$7=CT.m360($7);var $8=GFX.g_NuC.length;var $9=0;for(var $A=0;$A<$8;$A++){var $B=GFX.g_NuC[$A].d*$3+GFX.g_NuC[$A].m*$4+GFX.g_NuC[$A].mprime*$5+GFX.g_NuC[$A].f*$6+GFX.g_NuC[$A].omega*$7;var $C=CT.d2R($B);$9+=(GFX.g_NuC[$A].sincoeff1+GFX.g_NuC[$A].sincoeff2*$0)*Math.sin($C)*0.0001;}return $9;}
CAANutation.nutationInObliquity=function(JD){var $0=(JD-2451545)/36525;var $1=$0*$0;var $2=$1*$0;var $3=297.85036+445267.11148*$0-0.0019142*$1+$2/189474;$3=CT.m360($3);var $4=357.52772+35999.05034*$0-0.0001603*$1-$2/300000;$4=CT.m360($4);var $5=134.96298+477198.867398*$0+0.0086972*$1+$2/56250;$5=CT.m360($5);var $6=93.27191+483202.017538*$0-0.0036825*$1+$2/327270;$6=CT.m360($6);var $7=125.04452-1934.136261*$0+0.0020708*$1+$2/450000;$7=CT.m360($7);var $8=GFX.g_NuC.length;var $9=0;for(var $A=0;$A<$8;$A++){var $B=GFX.g_NuC[$A].d*$3+GFX.g_NuC[$A].m*$4+GFX.g_NuC[$A].mprime*$5+GFX.g_NuC[$A].f*$6+GFX.g_NuC[$A].omega*$7;var $C=CT.d2R($B);$9+=(GFX.g_NuC[$A].coscoeff1+GFX.g_NuC[$A].coscoeff2*$0)*Math.cos($C)*0.0001;}return $9;}
CAANutation.nutationInRightAscension=function(Alpha,Delta,Obliquity,NutationInLongitude,NutationInObliquity){Alpha=CT.h2R(Alpha);Delta=CT.d2R(Delta);Obliquity=CT.d2R(Obliquity);return (Math.cos(Obliquity)+Math.sin(Obliquity)*Math.sin(Alpha)*Math.tan(Delta))*NutationInLongitude-Math.cos(Alpha)*Math.tan(Delta)*NutationInObliquity;}
CAANutation.nutationInDeclination=function(Alpha,Delta,Obliquity,NutationInLongitude,NutationInObliquity){Alpha=CT.h2R(Alpha);Delta=CT.d2R(Delta);Obliquity=CT.d2R(Obliquity);return Math.sin(Obliquity)*Math.cos(Alpha)*NutationInLongitude+Math.sin(Alpha)*NutationInObliquity;}
CAANutation.meanObliquityOfEcliptic=function(JD){var $0=(JD-2451545)/3652500;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=$4*$0;var $6=$5*$0;var $7=$6*$0;var $8=$7*$0;var $9=$8*$0;return CT.dmS2D(23,26,21.448)-CT.dmS2D(0,0,4680.93)*$0-CT.dmS2D(0,0,1.55)*$1+CT.dmS2D(0,0,1999.25)*$2-CT.dmS2D(0,0,51.38)*$3-CT.dmS2D(0,0,249.67)*$4-CT.dmS2D(0,0,39.05)*$5+CT.dmS2D(0,0,7.12)*$6+CT.dmS2D(0,0,27.87)*$7+CT.dmS2D(0,0,5.79)*$8+CT.dmS2D(0,0,2.45)*$9;}
CAANutation.trueObliquityOfEcliptic=function(JD){return CAANutation.meanObliquityOfEcliptic(JD)+CT.dmS2D(0,0,CAANutation.nutationInObliquity(JD));}
window.NUC=function(D,M,Mprime,F,omega,sincoeff1,sincoeff2,coscoeff1,coscoeff2){this.d=D;this.m=M;this.mprime=Mprime;this.f=F;this.omega=omega;this.sincoeff1=sincoeff1;this.sincoeff2=sincoeff2;this.coscoeff1=coscoeff1;this.coscoeff2=coscoeff2;}
NUC.prototype={d:0,m:0,mprime:0,f:0,omega:0,sincoeff1:0,sincoeff2:0,coscoeff1:0,coscoeff2:0}
window.CAATopocentricEclipticDetails=function(){this.lambda=0;this.beta=0;this.semidiameter=0;}
CAATopocentricEclipticDetails.prototype={lambda:0,beta:0,semidiameter:0}
window.CAAParallax=function(){}
CAAParallax.equatorial2TopocentricDelta=function(Alpha,Delta,Distance,Longitude,Latitude,Height,JD){var $0=CAAGlobe.rhoSinThetaPrime(Latitude,Height);var $1=CAAGlobe.rhoCosThetaPrime(Latitude,Height);var $2=CAASidereal.apparentGreenwichSiderealTime(JD);Delta=CT.d2R(Delta);var $3=Math.cos(Delta);var $4=Math.asin(GFX.g_AAParallax_C1/Distance);var $5=CT.h2R($2-Longitude/15-Alpha);var $6=Math.cos($5);var $7=Math.sin($5);var $8=new COR();$8.x=CT.r2H(-$4*$1*$7/$3);$8.y=CT.r2D(-$4*($0*$3-$1*$6*Math.sin(Delta)));return $8;}
CAAParallax.equatorial2Topocentric=function(Alpha,Delta,Distance,Longitude,Latitude,Height,JD){var $0=CAAGlobe.rhoSinThetaPrime(Latitude,Height);var $1=CAAGlobe.rhoCosThetaPrime(Latitude,Height);var $2=CAASidereal.apparentGreenwichSiderealTime(JD);Delta=CT.d2R(Delta);var $3=Math.cos(Delta);var $4=Math.asin(GFX.g_AAParallax_C1/Distance);var $5=Math.sin($4);var $6=CT.h2R($2-Longitude/15-Alpha);var $7=Math.cos($6);var $8=Math.sin($6);var $9=Math.atan2(-$1*$5*$8,$3-$1*$5*$7);var $A=new COR();$A.x=CT.m24(Alpha+CT.r2H($9));$A.y=CT.r2D(Math.atan2((Math.sin(Delta)-$0*$5)*Math.cos($9),$3-$1*$5*$7));return $A;}
CAAParallax.ecliptic2Topocentric=function(Lambda,Beta,Semidiameter,Distance,Epsilon,Longitude,Latitude,Height,JD){var $0=CAAGlobe.rhoSinThetaPrime(Latitude,Height);var $1=CAAGlobe.rhoCosThetaPrime(Latitude,Height);Lambda=CT.d2R(Lambda);Beta=CT.d2R(Beta);Epsilon=CT.d2R(Epsilon);Longitude=CT.d2R(Longitude);Latitude=CT.d2R(Latitude);Semidiameter=CT.d2R(Semidiameter);var $2=Math.sin(Epsilon);var $3=Math.cos(Epsilon);var $4=Math.cos(Beta);var $5=Math.sin(Beta);var $6=CAASidereal.apparentGreenwichSiderealTime(JD);$6=CT.h2R($6);var $7=Math.sin($6);var $8=Math.asin(GFX.g_AAParallax_C1/Distance);var $9=Math.sin($8);var $A=Math.cos(Lambda)*$4-$1*$9*Math.cos($6);var $B=new CAATopocentricEclipticDetails();$B.lambda=Math.atan2(Math.sin(Lambda)*$4-$9*($0*$2+$1*$3*$7),$A);var $C=Math.cos($B.lambda);$B.beta=Math.atan($C*($5-$9*($0*$3-$1*$2*$7))/$A);$B.semidiameter=Math.asin($C*Math.cos($B.beta)*Math.sin(Semidiameter)/$A);$B.semidiameter=CT.r2D($B.semidiameter);$B.lambda=CT.m360(CT.r2D($B.lambda));$B.beta=CT.r2D($B.beta);return $B;}
CAAParallax.parallaxToDistance=function(Parallax){return GFX.g_AAParallax_C1/Math.sin(CT.d2R(Parallax));}
CAAParallax.distanceToParallax=function(Distance){var $0=Math.asin(GFX.g_AAParallax_C1/Distance);return CT.r2D($0);}
window.CAAPhysicalJupiterDetails=function(){this.DE=0;this.DS=0;this.geometricw1=0;this.geometricw2=0;this.apparentw1=0;this.apparentw2=0;this.p=0;}
CAAPhysicalJupiterDetails.prototype={DE:0,DS:0,geometricw1:0,geometricw2:0,apparentw1:0,apparentw2:0,p:0}
window.CAAPhysicalJupiter=function(){}
CAAPhysicalJupiter.calculate=function(JD){var $0=new CAAPhysicalJupiterDetails();var $1=JD-2433282.5;var $2=$1/36525;var $3=268+0.1061*$2;var $4=CT.d2R($3);var $5=64.5-0.0164*$2;var $6=CT.d2R($5);var $7=CT.m360(17.71+877.90003539*$1);var $8=CT.m360(16.838+870.27003539*$1);var $9=CAAEarth.eclipticLongitude(JD);var $A=CT.d2R($9);var $B=CAAEarth.eclipticLatitude(JD);var $C=CT.d2R($B);var $D=CAAEarth.radiusVector(JD);var $E=CAAJupiter.eclipticLongitude(JD);var $F=CT.d2R($E);var $10=CAAJupiter.eclipticLatitude(JD);var $11=CT.d2R($10);var $12=CAAJupiter.radiusVector(JD);var $13=$12*Math.cos($11)*Math.cos($F)-$D*Math.cos($A);var $14=$12*Math.cos($11)*Math.sin($F)-$D*Math.sin($A);var $15=$12*Math.sin($11)-$D*Math.sin($C);var $16=Math.sqrt($13*$13+$14*$14+$15*$15);$E-=0.01299*$16/($12*$12);$F=CT.d2R($E);$13=$12*Math.cos($11)*Math.cos($F)-$D*Math.cos($A);$14=$12*Math.cos($11)*Math.sin($F)-$D*Math.sin($A);$15=$12*Math.sin($11)-$D*Math.sin($C);$16=Math.sqrt($13*$13+$14*$14+$15*$15);var $17=CAANutation.meanObliquityOfEcliptic(JD);var $18=CT.d2R($17);var $19=Math.atan2(Math.cos($18)*Math.sin($F)-Math.sin($18)*Math.tan($11),Math.cos($F));var $1A=Math.asin(Math.cos($18)*Math.sin($11)+Math.sin($18)*Math.cos($11)*Math.sin($F));$0.DS=CT.r2D(Math.asin(-Math.sin($6)*Math.sin($1A)-Math.cos($6)*Math.cos($1A)*Math.cos($4-$19)));var $1B=$14*Math.cos($18)-$15*Math.sin($18);var $1C=$14*Math.sin($18)+$15*Math.cos($18);var $1D=Math.atan2($1B,$13);var $1E=CT.r2D($1D);var $1F=Math.atan2($1C,Math.sqrt($13*$13+$1B*$1B));var $20=CT.r2D($1F);var $21=Math.atan2(Math.sin($6)*Math.cos($1F)*Math.cos($4-$1D)-Math.sin($1F)*Math.cos($6),Math.cos($1F)*Math.sin($4-$1D));$0.DE=CT.r2D(Math.asin(-Math.sin($6)*Math.sin($1F)-Math.cos($6)*Math.cos($1F)*Math.cos($4-$1D)));$0.geometricw1=CT.m360($7-CT.r2D($21)-5.07033*$16);$0.geometricw2=CT.m360($8-CT.r2D($21)-5.02626*$16);var $22=57.2958*(2*$12*$16+$D*$D-$12*$12-$16*$16)/(4*$12*$16);if(Math.sin($F-$A)>0){$0.apparentw1=CT.m360($0.geometricw1+$22);$0.apparentw2=CT.m360($0.geometricw2+$22);}else{$0.apparentw1=CT.m360($0.geometricw1-$22);$0.apparentw2=CT.m360($0.geometricw2-$22);}var $23=CAANutation.nutationInLongitude(JD);var $24=CAANutation.nutationInObliquity(JD);$17+=$24/3600;$18=CT.d2R($17);$1E+=0.005693*(Math.cos($1D)*Math.cos($A)*Math.cos($18)+Math.sin($1D)*Math.sin($A))/Math.cos($1F);$1E=CT.m360($1E);$1D=CT.d2R($1E);$20+=0.005693*(Math.cos($A)*Math.cos($18)*(Math.tan($18)*Math.cos($1F)-Math.sin($1D)*Math.sin($1F))+Math.cos($1D)*Math.sin($1F)*Math.sin($A));$1F=CT.d2R($20);var $25=CAANutation.nutationInRightAscension($1E/15,$20,$17,$23,$24);var $26=$1E+$25/3600;var $27=CT.d2R($26);var $28=CAANutation.nutationInDeclination($1E/15,$20,$17,$23,$24);var $29=$20+$28/3600;var $2A=CT.d2R($29);$25=CAANutation.nutationInRightAscension($3/15,$5,$17,$23,$24);var $2B=$3+$25/3600;var $2C=CT.d2R($2B);$28=CAANutation.nutationInDeclination($3/15,$5,$17,$23,$24);var $2D=$5+$28/3600;var $2E=CT.d2R($2D);$0.p=CT.m360(CT.r2D(Math.atan2(Math.cos($2E)*Math.sin($2C-$27),Math.sin($2E)*Math.cos($2A)-Math.cos($2E)*Math.sin($2A)*Math.cos($2C-$27))));return $0;}
window.CAAPhysicalMarsDetails=function(){this.DE=0;this.DS=0;this.w=0;this.p=0;this.x=0;this.k=0;this.q=0;this.d=0;}
CAAPhysicalMarsDetails.prototype={DE:0,DS:0,w:0,p:0,x:0,k:0,q:0,d:0}
window.CAAPhysicalMars=function(){}
CAAPhysicalMars.calculate=function(JD){var $0=new CAAPhysicalMarsDetails();var $1=(JD-2451545)/36525;var $2=352.9065+1.1733*$1;var $3=CT.d2R($2);var $4=63.2818-0.00394*$1;var $5=CT.d2R($4);var $6=CAAEarth.eclipticLongitude(JD);var $7=CT.d2R($6);var $8=CAAEarth.eclipticLatitude(JD);var $9=CT.d2R($8);var $A=CAAEarth.radiusVector(JD);var $B=0;var $C=0;var $D=0;var $E=0;var $F=0;var $10=true;var $11=0;var $12=0;var $13=0;var $14=0;var $15=0;var $16=0;while($10){var $39=JD-$C;$12=CAAMars.eclipticLongitude($39);$13=CT.d2R($12);$14=CAAMars.eclipticLatitude($39);$15=CT.d2R($14);$16=CAAMars.radiusVector($39);$D=$16*Math.cos($15)*Math.cos($13)-$A*Math.cos($7);$E=$16*Math.cos($15)*Math.sin($13)-$A*Math.sin($7);$F=$16*Math.sin($15)-$A*Math.sin($9);$11=Math.sqrt($D*$D+$E*$E+$F*$F);$C=ELL.distanceToLightTime($11);$10=(Math.abs($C-$B)>2E-06);if($10){$B=$C;}}var $17=Math.atan2($E,$D);var $18=CT.r2D($17);var $19=Math.atan2($F,Math.sqrt($D*$D+$E*$E));var $1A=CT.r2D($19);$0.DE=CT.r2D(Math.asin(-Math.sin($5)*Math.sin($19)-Math.cos($5)*Math.cos($19)*Math.cos($3-$17)));var $1B=49.5581+0.7721*$1;var $1C=CT.d2R($1B);var $1D=$12-0.00697/$16;var $1E=CT.d2R($1D);var $1F=$14-0.000225*(Math.cos($13-$1C)/$16);var $20=CT.d2R($1F);$0.DS=CT.r2D(Math.asin(-Math.sin($5)*Math.sin($20)-Math.cos($5)*Math.cos($20)*Math.cos($3-$1E)));var $21=CT.m360(11.504+350.89200025*(JD-$C-2433282.5));var $22=CAANutation.meanObliquityOfEcliptic(JD);var $23=CT.d2R($22);var $24=CT.ec2Eq($2,$4,$22);var $25=CT.h2R($24.x);var $26=CT.d2R($24.y);var $27=$E*Math.cos($23)-$F*Math.sin($23);var $28=$E*Math.sin($23)+$F*Math.cos($23);var $29=Math.atan2($27,$D);var $2A=CT.r2H($29);var $2B=Math.atan2($28,Math.sqrt($D*$D+$27*$27));var $2C=CT.r2D($2B);var $2D=Math.atan2(Math.sin($26)*Math.cos($2B)*Math.cos($25-$29)-Math.sin($2B)*Math.cos($26),Math.cos($2B)*Math.sin($25-$29));$0.w=CT.m360($21-CT.r2D($2D));var $2E=CAANutation.nutationInLongitude(JD);var $2F=CAANutation.nutationInObliquity(JD);$18+=0.005693*Math.cos($7-$17)/Math.cos($19);$1A+=0.005693*Math.sin($7-$17)*Math.sin($19);$2+=$2E/3600;$3=CT.d2R($2);$18+=$2E/3600;$17=CT.d2R($18);$22+=$2F/3600;$23=CT.d2R($23);var $30=CT.ec2Eq($2,$4,$22);var $31=CT.h2R($30.x);var $32=CT.d2R($30.y);var $33=CT.ec2Eq($18,$1A,$22);var $34=CT.h2R($33.x);var $35=CT.d2R($33.y);$0.p=CT.m360(CT.r2D(Math.atan2(Math.cos($32)*Math.sin($31-$34),Math.sin($32)*Math.cos($35)-Math.cos($32)*Math.sin($35)*Math.cos($31-$34))));var $36=CAASun.geometricEclipticLongitude(JD);var $37=CAASun.geometricEclipticLatitude(JD);var $38=CT.ec2Eq($36,$37,$22);$0.x=MIFR.positionAngle($38.x,$38.y,$2A,$2C);$0.d=9.36/$11;$0.k=IFR.illuminatedFraction2($16,$A,$11);$0.q=(1-$0.k)*$0.d;return $0;}
window.CAAPhysicalSunDetails=function(){this.p=0;this.b0=0;this.l0=0;}
CAAPhysicalSunDetails.prototype={p:0,b0:0,l0:0}
window.CAAPhysicalSun=function(){}
CAAPhysicalSun.calculate=function(JD){var $0=CT.m360((JD-2398220)*360/25.38);var $1=7.25;var $2=73.6667+1.3958333*(JD-2396758)/36525;var $3=CAAEarth.eclipticLongitude(JD);var $4=CAAEarth.radiusVector(JD);var $5=$3+180-CT.dmS2D(0,0,20.4898/$4);var $6=$5+CT.dmS2D(0,0,CAANutation.nutationInLongitude(JD));var $7=CAANutation.trueObliquityOfEcliptic(JD);$7=CT.d2R($7);$5=CT.d2R($5);$6=CT.d2R($6);$2=CT.d2R($2);$1=CT.d2R($1);$0=CT.d2R($0);var $8=Math.atan(-Math.cos($5)*Math.tan($7));var $9=Math.atan(-Math.cos($5-$2)*Math.tan($1));var $A=new CAAPhysicalSunDetails();$A.p=CT.r2D($8+$9);$A.b0=CT.r2D(Math.asin(Math.sin($5-$2)*Math.sin($1)));var $B=Math.atan(Math.tan($5-$2)*Math.cos($1));$A.l0=CT.m360(CT.r2D($B-$0));return $A;}
CAAPhysicalSun.timeOfStartOfRotation=function(C){var $0=2398140.227+27.2752316*C;var $1=CT.m360(281.96+26.882476*C);$1=CT.d2R($1);$0+=(0.1454*Math.sin($1)-0.0085*Math.sin(2*$1)-0.0141*Math.cos(2*$1));return $0;}
window.CAAPluto=function(){}
CAAPluto.eclipticLongitude=function(JD){var $0=(JD-2451545)/36525;var $1=34.35+3034.9057*$0;var $2=50.08+1222.1138*$0;var $3=238.96+144.96*$0;var $4=0;var $5=GFX.g_PlutoArgumentCoefficients.length;for(var $6=0;$6<$5;$6++){var $7=GFX.g_PlutoArgumentCoefficients[$6].j*$1+GFX.g_PlutoArgumentCoefficients[$6].s*$2+GFX.g_PlutoArgumentCoefficients[$6].p*$3;$7=CT.d2R($7);$4+=((GFX.g_PlutoLongitudeCoefficients[$6].a*Math.sin($7))+(GFX.g_PlutoLongitudeCoefficients[$6].b*Math.cos($7)));}$4=$4/1000000;$4+=(238.958116+144.96*$0);$4=CT.m360($4);return $4;}
CAAPluto.eclipticLatitude=function(JD){var $0=(JD-2451545)/36525;var $1=34.35+3034.9057*$0;var $2=50.08+1222.1138*$0;var $3=238.96+144.96*$0;var $4=0;var $5=GFX.g_PlutoArgumentCoefficients.length;for(var $6=0;$6<$5;$6++){var $7=GFX.g_PlutoArgumentCoefficients[$6].j*$1+GFX.g_PlutoArgumentCoefficients[$6].s*$2+GFX.g_PlutoArgumentCoefficients[$6].p*$3;$7=CT.d2R($7);$4+=((GFX.g_PlutoLatitudeCoefficients[$6].a*Math.sin($7))+(GFX.g_PlutoLatitudeCoefficients[$6].b*Math.cos($7)));}$4=$4/1000000;$4+=-3.908239;return $4;}
CAAPluto.radiusVector=function(JD){var $0=(JD-2451545)/36525;var $1=34.35+3034.9057*$0;var $2=50.08+1222.1138*$0;var $3=238.96+144.96*$0;var $4=0;var $5=GFX.g_PlutoArgumentCoefficients.length;for(var $6=0;$6<$5;$6++){var $7=GFX.g_PlutoArgumentCoefficients[$6].j*$1+GFX.g_PlutoArgumentCoefficients[$6].s*$2+GFX.g_PlutoArgumentCoefficients[$6].p*$3;$7=CT.d2R($7);$4+=((GFX.g_PlutoRadiusCoefficients[$6].a*Math.sin($7))+(GFX.g_PlutoRadiusCoefficients[$6].b*Math.cos($7)));}$4=$4/10000000;$4+=40.7241346;return $4;}
window.PlutoCoefficient1=function(j,s,p){this.j=j;this.s=s;this.p=p;}
PlutoCoefficient1.prototype={j:0,s:0,p:0}
window.PlutoCoefficient2=function(a,b){this.a=a;this.b=b;}
PlutoCoefficient2.prototype={a:0,b:0}
window.CAAPrecession=function(){}
CAAPrecession.precessEquatorial=function(Alpha,Delta,JD0,JD){var $0=(JD0-2451545)/36525;var $1=$0*$0;var $2=(JD-JD0)/36525;var $3=$2*$2;var $4=$3*$2;Alpha=CT.h2R(Alpha);Delta=CT.d2R(Delta);var $5=(2306.2181+1.39656*$0-0.000139*$1)*$2+(0.30188-3.44E-05*$0)*$3+0.017988*$4;$5=CT.d2R(CT.dmS2D(0,0,$5));var $6=(2306.2181+1.39656*$0-0.000138*$1)*$2+(1.09468+6.6E-05*$0)*$3+0.018203*$4;$6=CT.d2R(CT.dmS2D(0,0,$6));var $7=(2004.3109-0.8533*$0-0.000217*$1)*$2-(0.42665+0.000217*$0)*$3-0.041833*$4;$7=CT.d2R(CT.dmS2D(0,0,$7));var $8=Math.cos(Delta)*Math.sin(Alpha+$5);var $9=Math.cos($7)*Math.cos(Delta)*Math.cos(Alpha+$5)-Math.sin($7)*Math.sin(Delta);var $A=Math.sin($7)*Math.cos(Delta)*Math.cos(Alpha+$5)+Math.cos($7)*Math.sin(Delta);var $B=new COR();$B.x=CT.r2H(Math.atan2($8,$9)+$6);if($B.x<0){$B.x+=24;}$B.y=CT.r2D(Math.asin($A));return $B;}
CAAPrecession.precessEquatorialFK4=function(Alpha,Delta,JD0,JD){var $0=(JD0-2415020.3135)/36524.2199;var $1=(JD-JD0)/36524.2199;var $2=$1*$1;var $3=$2*$1;Alpha=CT.h2R(Alpha);Delta=CT.d2R(Delta);var $4=(2304.25+1.396*$0)*$1+0.302*$2+0.018*$3;$4=CT.d2R(CT.dmS2D(0,0,$4));var $5=0.791*$2+0.001*$3;$5=CT.d2R(CT.dmS2D(0,0,$5));$5+=$4;var $6=(2004.682-0.853*$0)*$1-0.426*$2-0.042*$3;$6=CT.d2R(CT.dmS2D(0,0,$6));var $7=Math.cos(Delta)*Math.sin(Alpha+$4);var $8=Math.cos($6)*Math.cos(Delta)*Math.cos(Alpha+$4)-Math.sin($6)*Math.sin(Delta);var $9=Math.sin($6)*Math.cos(Delta)*Math.cos(Alpha+$4)+Math.cos($6)*Math.sin(Delta);var $A=new COR();$A.x=CT.r2H(Math.atan2($7,$8)+$5);if($A.x<0){$A.x+=24;}$A.y=CT.r2D(Math.asin($9));return $A;}
CAAPrecession.precessEcliptic=function(Lambda,Beta,JD0,JD){var $0=(JD0-2451545)/36525;var $1=$0*$0;var $2=(JD-JD0)/36525;var $3=$2*$2;var $4=$3*$2;Lambda=CT.d2R(Lambda);Beta=CT.d2R(Beta);var $5=(47.0029-0.06603*$0+0.000598*$1)*$2+(-0.03302+0.000598*$0)*$3+6E-05*$4;$5=CT.d2R(CT.dmS2D(0,0,$5));var $6=174.876384*3600+3289.4789*$0+0.60622*$1-(869.8089+0.50491*$0)*$2+0.03536*$3;$6=CT.d2R(CT.dmS2D(0,0,$6));var $7=(5029.0966+2.22226*$0-4.2E-05*$1)*$2+(1.11113-4.2E-05*$0)*$3-6E-06*$4;$7=CT.d2R(CT.dmS2D(0,0,$7));var $8=Math.cos($5)*Math.cos(Beta)*Math.sin($6-Lambda)-Math.sin($5)*Math.sin(Beta);var $9=Math.cos(Beta)*Math.cos($6-Lambda);var $A=Math.cos($5)*Math.sin(Beta)+Math.sin($5)*Math.cos(Beta)*Math.sin($6-Lambda);var $B=new COR();$B.x=CT.r2D($7+$6-Math.atan2($8,$9));if($B.x<0){$B.x+=360;}$B.y=CT.r2D(Math.asin($A));return $B;}
CAAPrecession.equatorialPMToEcliptic=function(Alpha,Delta,Beta,PMAlpha,PMDelta,Epsilon){Epsilon=CT.d2R(Epsilon);Alpha=CT.h2R(Alpha);Delta=CT.d2R(Delta);Beta=CT.d2R(Beta);var $0=Math.cos(Beta);var $1=Math.sin(Epsilon);var $2=new COR();$2.x=(PMDelta*$1*Math.cos(Alpha)+PMAlpha*Math.cos(Delta)*(Math.cos(Epsilon)*Math.cos(Delta)+$1*Math.sin(Delta)*Math.sin(Alpha)))/($0*$0);$2.y=(PMDelta*(Math.cos(Epsilon)*Math.cos(Delta)+$1*Math.sin(Delta)*Math.sin(Alpha))-PMAlpha*$1*Math.cos(Alpha)*Math.cos(Delta))/$0;return $2;}
CAAPrecession.adjustPositionUsingUniformProperMotion=function(t,Alpha,Delta,PMAlpha,PMDelta){var $0=new COR();$0.x=Alpha+(PMAlpha*t/3600);$0.y=Delta+(PMDelta*t/3600);return $0;}
CAAPrecession.adjustPositionUsingMotionInSpace=function(r,DeltaR,t,Alpha,Delta,PMAlpha,PMDelta){DeltaR/=977792;PMAlpha/=13751;PMDelta/=206265;Alpha=CT.h2R(Alpha);Delta=CT.d2R(Delta);var $0=r*Math.cos(Delta)*Math.cos(Alpha);var $1=r*Math.cos(Delta)*Math.sin(Alpha);var $2=r*Math.sin(Delta);var $3=$0/r*DeltaR-$2*PMDelta*Math.cos(Alpha)-$1*PMAlpha;var $4=$1/r*DeltaR-$2*PMDelta*Math.sin(Alpha)+$0*PMAlpha;var $5=$2/r*DeltaR+r*PMDelta*Math.cos(Delta);$0+=t*$3;$1+=t*$4;$2+=t*$5;var $6=new COR();$6.x=CT.r2H(Math.atan2($1,$0));if($6.x<0){$6.x+=24;}$6.y=CT.r2D(Math.atan2($2,Math.sqrt($0*$0+$1*$1)));return $6;}
window.CAARiseTransitSetDetails=function(){this.bValid=false;this.rise=0;this.transit=0;this.set=0;}
CAARiseTransitSetDetails.prototype={bValid:false,rise:0,transit:0,set:0}
window.CAARiseTransitSet=function(){}
CAARiseTransitSet.rise=function(JD,Alpha1,Delta1,Alpha2,Delta2,Alpha3,Delta3,Longitude,Latitude,h0){var $0=new CAARiseTransitSetDetails();$0.bValid=false;var $1=CAASidereal.apparentGreenwichSiderealTime(JD);$1*=15;var $2=DYT.deltaT(JD);var $3=CT.d2R(Delta2);var $4=CT.d2R(Latitude);var $5=CT.d2R(h0);var $6=(Math.sin($5)-Math.sin($4)*Math.sin($3))/(Math.cos($4)*Math.cos($3));if(($6>1)||($6<-1)){return $0;}var $7=Math.acos($6);$7=CT.r2D($7);var $8=(Alpha2*15+Longitude-$1)/360;var $9=$8-$7/360;var $A=$8+$7/360;if($8>1){$8-=1;}else if($8<0){$8+=1;}if($9>1){$9-=1;}else if($9<0){$9+=1;}if($A>1){$A-=1;}else if($A<0){$A+=1;}for(var $B=0;$B<2;$B++){var $C=$1+360.985647*$9;$C=CT.m360($C);var $D=$9+$2/86400;var $E=INTP.interpolate($D,Alpha1,Alpha2,Alpha3);var $F=INTP.interpolate($D,Delta1,Delta2,Delta3);var $10=$C-Longitude-$E*15;var $11=CT.eq2H($10/15,$F,Latitude);var $12=($11.y-h0)/(360*Math.cos(CT.d2R($F))*Math.cos($4)*Math.sin(CT.d2R($10)));$9+=$12;$C=$1+360.985647*$8;$C=CT.m360($C);$D=$8+$2/86400;$E=INTP.interpolate($D,Alpha1,Alpha2,Alpha3);$10=$C-Longitude-$E*15;if($10<-180){$10+=360;}$12=-$10/360;$8+=$12;$C=$1+360.985647*$A;$C=CT.m360($C);$D=$A+$2/86400;$E=INTP.interpolate($D,Alpha1,Alpha2,Alpha3);$F=INTP.interpolate($D,Delta1,Delta2,Delta3);$10=$C-Longitude-$E*15;$11=CT.eq2H($10/15,$F,Latitude);$12=($11.y-h0)/(360*Math.cos(CT.d2R($F))*Math.cos($4)*Math.sin(CT.d2R($10)));$A+=$12;}$0.bValid=true;$0.rise=$9*24;$0.set=$A*24;$0.transit=$8*24;return $0;}
window.CAASaturn=function(){}
CAASaturn.eclipticLongitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=GFX.g_L0SaturnCoefficients.length;var $6=0;var $7;for($7=0;$7<$5;$7++){$6+=GFX.g_L0SaturnCoefficients[$7].a*Math.cos(GFX.g_L0SaturnCoefficients[$7].b+GFX.g_L0SaturnCoefficients[$7].c*$0);}var $8=GFX.g_L1SaturnCoefficients.length;var $9=0;for($7=0;$7<$8;$7++){$9+=GFX.g_L1SaturnCoefficients[$7].a*Math.cos(GFX.g_L1SaturnCoefficients[$7].b+GFX.g_L1SaturnCoefficients[$7].c*$0);}var $A=GFX.g_L2SaturnCoefficients.length;var $B=0;for($7=0;$7<$A;$7++){$B+=GFX.g_L2SaturnCoefficients[$7].a*Math.cos(GFX.g_L2SaturnCoefficients[$7].b+GFX.g_L2SaturnCoefficients[$7].c*$0);}var $C=GFX.g_L3SaturnCoefficients.length;var $D=0;for($7=0;$7<$C;$7++){$D+=GFX.g_L3SaturnCoefficients[$7].a*Math.cos(GFX.g_L3SaturnCoefficients[$7].b+GFX.g_L3SaturnCoefficients[$7].c*$0);}var $E=GFX.g_L4SaturnCoefficients.length;var $F=0;for($7=0;$7<$E;$7++){$F+=GFX.g_L4SaturnCoefficients[$7].a*Math.cos(GFX.g_L4SaturnCoefficients[$7].b+GFX.g_L4SaturnCoefficients[$7].c*$0);}var $10=GFX.g_L5SaturnCoefficients.length;var $11=0;for($7=0;$7<$10;$7++){$11+=GFX.g_L5SaturnCoefficients[$7].a*Math.cos(GFX.g_L5SaturnCoefficients[$7].b+GFX.g_L5SaturnCoefficients[$7].c*$0);}var $12=($6+$9*$0+$B*$1+$D*$2+$F*$3+$11*$4)/100000000;$12=CT.m360(CT.r2D($12));return $12;}
CAASaturn.eclipticLatitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=GFX.g_B0SaturnCoefficients.length;var $6=0;var $7;for($7=0;$7<$5;$7++){$6+=GFX.g_B0SaturnCoefficients[$7].a*Math.cos(GFX.g_B0SaturnCoefficients[$7].b+GFX.g_B0SaturnCoefficients[$7].c*$0);}var $8=GFX.g_B1SaturnCoefficients.length;var $9=0;for($7=0;$7<$8;$7++){$9+=GFX.g_B1SaturnCoefficients[$7].a*Math.cos(GFX.g_B1SaturnCoefficients[$7].b+GFX.g_B1SaturnCoefficients[$7].c*$0);}var $A=GFX.g_B2SaturnCoefficients.length;var $B=0;for($7=0;$7<$A;$7++){$B+=GFX.g_B2SaturnCoefficients[$7].a*Math.cos(GFX.g_B2SaturnCoefficients[$7].b+GFX.g_B2SaturnCoefficients[$7].c*$0);}var $C=GFX.g_B3SaturnCoefficients.length;var $D=0;for($7=0;$7<$C;$7++){$D+=GFX.g_B3SaturnCoefficients[$7].a*Math.cos(GFX.g_B3SaturnCoefficients[$7].b+GFX.g_B3SaturnCoefficients[$7].c*$0);}var $E=GFX.g_B4SaturnCoefficients.length;var $F=0;for($7=0;$7<$E;$7++){$F+=GFX.g_B4SaturnCoefficients[$7].a*Math.cos(GFX.g_B4SaturnCoefficients[$7].b+GFX.g_B4SaturnCoefficients[$7].c*$0);}var $10=GFX.g_B5SaturnCoefficients.length;var $11=0;for($7=0;$7<$10;$7++){$11+=GFX.g_B5SaturnCoefficients[$7].a*Math.cos(GFX.g_B5SaturnCoefficients[$7].b+GFX.g_B5SaturnCoefficients[$7].c*$0);}var $12=($6+$9*$0+$B*$1+$D*$2+$F*$3+$11*$4)/100000000;$12=CT.r2D($12);return $12;}
CAASaturn.radiusVector=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=GFX.g_R0SaturnCoefficients.length;var $6=0;var $7;for($7=0;$7<$5;$7++){$6+=GFX.g_R0SaturnCoefficients[$7].a*Math.cos(GFX.g_R0SaturnCoefficients[$7].b+GFX.g_R0SaturnCoefficients[$7].c*$0);}var $8=GFX.g_R1SaturnCoefficients.length;var $9=0;for($7=0;$7<$8;$7++){$9+=GFX.g_R1SaturnCoefficients[$7].a*Math.cos(GFX.g_R1SaturnCoefficients[$7].b+GFX.g_R1SaturnCoefficients[$7].c*$0);}var $A=GFX.g_R2SaturnCoefficients.length;var $B=0;for($7=0;$7<$A;$7++){$B+=GFX.g_R2SaturnCoefficients[$7].a*Math.cos(GFX.g_R2SaturnCoefficients[$7].b+GFX.g_R2SaturnCoefficients[$7].c*$0);}var $C=GFX.g_R3SaturnCoefficients.length;var $D=0;for($7=0;$7<$C;$7++){$D+=GFX.g_R3SaturnCoefficients[$7].a*Math.cos(GFX.g_R3SaturnCoefficients[$7].b+GFX.g_R3SaturnCoefficients[$7].c*$0);}var $E=GFX.g_R4SaturnCoefficients.length;var $F=0;for($7=0;$7<$E;$7++){$F+=GFX.g_R4SaturnCoefficients[$7].a*Math.cos(GFX.g_R4SaturnCoefficients[$7].b+GFX.g_R4SaturnCoefficients[$7].c*$0);}var $10=GFX.g_R5SaturnCoefficients.length;var $11=0;for($7=0;$7<$10;$7++){$11+=GFX.g_R5SaturnCoefficients[$7].a*Math.cos(GFX.g_R5SaturnCoefficients[$7].b+GFX.g_R5SaturnCoefficients[$7].c*$0);}return ($6+$9*$0+$B*$1+$D*$2+$F*$3+$11*$4)/100000000;}
window.CAASaturnRingDetails=function(){this.b=0;this.bdash=0;this.p=0;this.a=0;this.b=0;this.deltaU=0;}
CAASaturnRingDetails.prototype={b:0,bdash:0,p:0,a:0,b:0,deltaU:0}
window.CAASaturnRings=function(){}
CAASaturnRings.calculate=function(JD){var $0=new CAASaturnRingDetails();var $1=(JD-2451545)/36525;var $2=$1*$1;var $3=28.075216-0.012998*$1+4E-06*$2;var $4=CT.d2R($3);var $5=169.50847+1.394681*$1+0.000412*$2;var $6=CT.d2R($5);var $7=CAAEarth.eclipticLongitude(JD);var $8=CAAEarth.eclipticLatitude(JD);$7+=CAAFK5.correctionInLongitude($7,$8,JD);var $9=CT.d2R($7);$8+=CAAFK5.correctionInLatitude($7,JD);var $A=CT.d2R($8);var $B=CAAEarth.radiusVector(JD);var $C=9;var $D=0;var $E=ELL.distanceToLightTime($C);var $F=JD-$E;var $10=true;var $11=0;var $12=0;var $13=0;var $14=0;var $15=0;var $16=0;while($10){$14=CAASaturn.eclipticLongitude($F);$15=CAASaturn.eclipticLatitude($F);$14+=CAAFK5.correctionInLongitude($14,$15,$F);$15+=CAAFK5.correctionInLatitude($14,$F);var $2B=CT.d2R($14);var $2C=CT.d2R($15);$16=CAASaturn.radiusVector($F);$11=$16*Math.cos($2C)*Math.cos($2B)-$B*Math.cos($9);$12=$16*Math.cos($2C)*Math.sin($2B)-$B*Math.sin($9);$13=$16*Math.sin($2C)-$B*Math.sin($A);$C=Math.sqrt($11*$11+$12*$12+$13*$13);$E=ELL.distanceToLightTime($C);$10=(Math.abs($E-$D)>2E-06);if($10){$F=JD-$E;$D=$E;}}var $17=Math.atan2($12,$11);var $18=Math.atan2($13,Math.sqrt($11*$11+$12*$12));$0.b=Math.asin(Math.sin($4)*Math.cos($18)*Math.sin($17-$6)-Math.cos($4)*Math.sin($18));$0.a=375.35/$C;$0.b=$0.a*Math.sin(Math.abs($0.b));$0.b=CT.r2D($0.b);var $19=113.6655+0.8771*$1;var $1A=CT.d2R($19);var $1B=$14-0.01759/$16;var $1C=CT.d2R($1B);var $1D=$15-0.000764*Math.cos($1C-$1A)/$16;var $1E=CT.d2R($1D);$0.bdash=CT.r2D(Math.asin(Math.sin($4)*Math.cos($1E)*Math.sin($1C-$6)-Math.cos($4)*Math.sin($1E)));var $1F=Math.atan2(Math.sin($4)*Math.sin($1E)+Math.cos($4)*Math.cos($1E)*Math.sin($1C-$6),Math.cos($1E)*Math.cos($1C-$6));var $20=Math.atan2(Math.sin($4)*Math.sin($18)+Math.cos($4)*Math.cos($18)*Math.sin($17-$6),Math.cos($18)*Math.cos($17-$6));$0.deltaU=CT.r2D(Math.abs($1F-$20));var $21=CAANutation.trueObliquityOfEcliptic(JD);var $22=CAANutation.nutationInLongitude(JD);var $23=$5-90;var $24=90-$3;$17+=CT.d2R(0.005693*Math.cos($9-$17)/Math.cos($18));$18+=CT.d2R(0.005693*Math.sin($9-$17)*Math.sin($18));$17=CT.r2D($17);$17+=$22/3600;$17=CT.m360($17);$23+=$22/3600;$23=CT.m360($23);$18=CT.r2D($18);var $25=CT.ec2Eq($17,$18,$21);var $26=CT.h2R($25.x);var $27=CT.d2R($25.y);var $28=CT.ec2Eq($23,$24,$21);var $29=CT.h2R($28.x);var $2A=CT.d2R($28.y);$0.p=CT.r2D(Math.atan2(Math.cos($2A)*Math.sin($29-$26),Math.sin($2A)*Math.cos($27)-Math.cos($2A)*Math.sin($27)*Math.cos($29-$26)));return $0;}
window.CAASidereal=function(){}
CAASidereal.meanGreenwichSiderealTime=function(JD){var $0=new DT();$0.setJD(JD,DT.afterPapalReformJD(JD));var $1=$0.get();var $2=parseInt($1[0]);var $3=parseInt($1[1]);var $4=parseInt($1[2]);var $5=parseInt($1[3]);var $6=parseInt($1[4]);var $7=$1[5];$0.set($2,$3,$4,0,0,0,$0.inGregorianCalendar());var $8=$0.julian();var $9=($8-2451545)/36525;var $A=$9*$9;var $B=$A*$9;var $C=100.46061837+(36000.770053608*$9)+(0.000387933*$A)-($B/38710000);$C+=((($5*15)+($6*0.25)+($7*0.00416666666666667))*1.00273790935);$C=CT.d2H($C);return CT.m24($C);}
CAASidereal.apparentGreenwichSiderealTime=function(JD){var $0=CAANutation.meanObliquityOfEcliptic(JD);var $1=$0+CAANutation.nutationInObliquity(JD)/3600;var $2=CAANutation.nutationInLongitude(JD);var $3=CAASidereal.meanGreenwichSiderealTime(JD)+($2*Math.cos(CT.d2R($1))/54000);return CT.m24($3);}
window.CAAStellarMagnitudes=function(){}
CAAStellarMagnitudes.combinedMagnitude=function(m1,m2){var $0=0.4*(m2-m1);return m2-2.5*wwtlib._Util.$C(Math.pow(10,$0)+1);}
CAAStellarMagnitudes.combinedMagnitude2=function(Magnitudes,pMagnitudes){var $0=0;for(var $1=0;$1<Magnitudes;$1++){$0+=Math.pow(10,-0.4*pMagnitudes[$1]);}return -2.5*wwtlib._Util.$C($0);}
CAAStellarMagnitudes.brightnessRatio=function(m1,m2){var $0=0.4*(m2-m1);return Math.pow(10,$0);}
CAAStellarMagnitudes.magnitudeDifference=function(brightnessRatio){return 2.5*wwtlib._Util.$C(brightnessRatio);}
window.CAASun=function(){}
CAASun.geometricEclipticLongitude=function(JD){return CT.m360(CAAEarth.eclipticLongitude(JD)+180);}
CAASun.geometricEclipticLatitude=function(JD){return -CAAEarth.eclipticLatitude(JD);}
CAASun.geometricEclipticLongitudeJ2000=function(JD){return CT.m360(CAAEarth.eclipticLongitudeJ2000(JD)+180);}
CAASun.geometricEclipticLatitudeJ2000=function(JD){return -CAAEarth.eclipticLatitudeJ2000(JD);}
CAASun.geometricFK5EclipticLongitude=function(JD){var $0=CAASun.geometricEclipticLongitude(JD);var $1=CAASun.geometricEclipticLatitude(JD);$0+=CAAFK5.correctionInLongitude($0,$1,JD);return $0;}
CAASun.geometricFK5EclipticLatitude=function(JD){var $0=CAASun.geometricEclipticLongitude(JD);var $1=CAASun.geometricEclipticLatitude(JD);var $2=CAAFK5.correctionInLatitude($0,JD);$1+=$2;return $1;}
CAASun.apparentEclipticLongitude=function(JD){var $0=CAASun.geometricFK5EclipticLongitude(JD);$0+=CT.dmS2D(0,0,CAANutation.nutationInLongitude(JD));var $1=CAAEarth.radiusVector(JD);$0-=CT.dmS2D(0,0,20.4898/$1);return $0;}
CAASun.apparentEclipticLatitude=function(JD){return CAASun.geometricFK5EclipticLatitude(JD);}
CAASun.eclipticRectangularCoordinatesMeanEquinox=function(JD){var $0=CT.d2R(CAASun.geometricFK5EclipticLongitude(JD));var $1=CT.d2R(CAASun.geometricFK5EclipticLatitude(JD));var $2=CAAEarth.radiusVector(JD);var $3=CT.d2R(CAANutation.meanObliquityOfEcliptic(JD));var $4=new C3D();$4.x=$2*Math.cos($1)*Math.cos($0);$4.y=$2*(Math.cos($1)*Math.sin($0)*Math.cos($3)-Math.sin($1)*Math.sin($3));$4.z=$2*(Math.cos($1)*Math.sin($0)*Math.sin($3)+Math.sin($1)*Math.cos($3));return $4;}
CAASun.eclipticRectangularCoordinatesJ2000=function(JD){var $0=CAASun.geometricEclipticLongitudeJ2000(JD);$0=CT.d2R($0);var $1=CAASun.geometricEclipticLatitudeJ2000(JD);$1=CT.d2R($1);var $2=CAAEarth.radiusVector(JD);var $3=new C3D();var $4=Math.cos($1);$3.x=$2*$4*Math.cos($0);$3.y=$2*$4*Math.sin($0);$3.z=$2*Math.sin($1);return $3;}
CAASun.equatorialRectangularCoordinatesJ2000=function(JD){var $0=CAASun.eclipticRectangularCoordinatesJ2000(JD);$0=CAAFK5.convertVSOPToFK5J2000($0);return $0;}
CAASun.equatorialRectangularCoordinatesB1950=function(JD){var $0=CAASun.eclipticRectangularCoordinatesJ2000(JD);$0=CAAFK5.convertVSOPToFK5B1950($0);return $0;}
CAASun.equatorialRectangularCoordinatesAnyEquinox=function(JD,JDEquinox){var $0=CAASun.equatorialRectangularCoordinatesJ2000(JD);$0=CAAFK5.convertVSOPToFK5AnyEquinox($0,JDEquinox);return $0;}
window.CAAUranus=function(){}
CAAUranus.eclipticLongitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_L0UranusCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_L0UranusCoefficients[$6].a*Math.cos(GFX.g_L0UranusCoefficients[$6].b+GFX.g_L0UranusCoefficients[$6].c*$0);}var $7=GFX.g_L1UranusCoefficients.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_L1UranusCoefficients[$6].a*Math.cos(GFX.g_L1UranusCoefficients[$6].b+GFX.g_L1UranusCoefficients[$6].c*$0);}var $9=GFX.g_L2UranusCoefficients.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_L2UranusCoefficients[$6].a*Math.cos(GFX.g_L2UranusCoefficients[$6].b+GFX.g_L2UranusCoefficients[$6].c*$0);}var $B=GFX.g_L3UranusCoefficients.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_L3UranusCoefficients[$6].a*Math.cos(GFX.g_L3UranusCoefficients[$6].b+GFX.g_L3UranusCoefficients[$6].c*$0);}var $D=GFX.g_L4UranusCoefficients.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_L4UranusCoefficients[$6].a*Math.cos(GFX.g_L4UranusCoefficients[$6].b+GFX.g_L4UranusCoefficients[$6].c*$0);}var $F=($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;$F=CT.m360(CT.r2D($F));return $F;}
CAAUranus.eclipticLatitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_B0UranusCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_B0UranusCoefficients[$6].a*Math.cos(GFX.g_B0UranusCoefficients[$6].b+GFX.g_B0UranusCoefficients[$6].c*$0);}var $7=GFX.g_B1UranusCoefficients.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_B1UranusCoefficients[$6].a*Math.cos(GFX.g_B1UranusCoefficients[$6].b+GFX.g_B1UranusCoefficients[$6].c*$0);}var $9=GFX.g_B2UranusCoefficients.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_B2UranusCoefficients[$6].a*Math.cos(GFX.g_B2UranusCoefficients[$6].b+GFX.g_B2UranusCoefficients[$6].c*$0);}var $B=GFX.g_B3UranusCoefficients.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_B3UranusCoefficients[$6].a*Math.cos(GFX.g_B3UranusCoefficients[$6].b+GFX.g_B3UranusCoefficients[$6].c*$0);}var $D=GFX.g_B4UranusCoefficients.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_B4UranusCoefficients[$6].a*Math.cos(GFX.g_B4UranusCoefficients[$6].b+GFX.g_B4UranusCoefficients[$6].c*$0);}var $F=($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;$F=CT.r2D($F);return $F;}
CAAUranus.radiusVector=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_R0UranusCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_R0UranusCoefficients[$6].a*Math.cos(GFX.g_R0UranusCoefficients[$6].b+GFX.g_R0UranusCoefficients[$6].c*$0);}var $7=GFX.g_R1UranusCoefficients.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_R1UranusCoefficients[$6].a*Math.cos(GFX.g_R1UranusCoefficients[$6].b+GFX.g_R1UranusCoefficients[$6].c*$0);}var $9=GFX.g_R2UranusCoefficients.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_R2UranusCoefficients[$6].a*Math.cos(GFX.g_R2UranusCoefficients[$6].b+GFX.g_R2UranusCoefficients[$6].c*$0);}var $B=GFX.g_R3UranusCoefficients.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_R3UranusCoefficients[$6].a*Math.cos(GFX.g_R3UranusCoefficients[$6].b+GFX.g_R3UranusCoefficients[$6].c*$0);}var $D=GFX.g_R4UranusCoefficients.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_R4UranusCoefficients[$6].a*Math.cos(GFX.g_R4UranusCoefficients[$6].b+GFX.g_R4UranusCoefficients[$6].c*$0);}return ($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;}
window.CAAVenus=function(){}
CAAVenus.eclipticLongitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=GFX.g_L0VenusCoefficients.length;var $6=0;var $7;for($7=0;$7<$5;$7++){$6+=GFX.g_L0VenusCoefficients[$7].a*Math.cos(GFX.g_L0VenusCoefficients[$7].b+GFX.g_L0VenusCoefficients[$7].c*$0);}var $8=GFX.g_L1VenusCoefficients.length;var $9=0;for($7=0;$7<$8;$7++){$9+=GFX.g_L1VenusCoefficients[$7].a*Math.cos(GFX.g_L1VenusCoefficients[$7].b+GFX.g_L1VenusCoefficients[$7].c*$0);}var $A=GFX.g_L2VenusCoefficients.length;var $B=0;for($7=0;$7<$A;$7++){$B+=GFX.g_L2VenusCoefficients[$7].a*Math.cos(GFX.g_L2VenusCoefficients[$7].b+GFX.g_L2VenusCoefficients[$7].c*$0);}var $C=GFX.g_L3VenusCoefficients.length;var $D=0;for($7=0;$7<$C;$7++){$D+=GFX.g_L3VenusCoefficients[$7].a*Math.cos(GFX.g_L3VenusCoefficients[$7].b+GFX.g_L3VenusCoefficients[$7].c*$0);}var $E=GFX.g_L4VenusCoefficients.length;var $F=0;for($7=0;$7<$E;$7++){$F+=GFX.g_L4VenusCoefficients[$7].a*Math.cos(GFX.g_L4VenusCoefficients[$7].b+GFX.g_L4VenusCoefficients[$7].c*$0);}var $10=GFX.g_L5VenusCoefficients.length;var $11=0;for($7=0;$7<$10;$7++){$11+=GFX.g_L5VenusCoefficients[$7].a*Math.cos(GFX.g_L5VenusCoefficients[$7].b+GFX.g_L5VenusCoefficients[$7].c*$0);}var $12=($6+$9*$0+$B*$1+$D*$2+$F*$3+$11*$4)/100000000;$12=CT.m360(CT.r2D($12));return $12;}
CAAVenus.eclipticLatitude=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_B0VenusCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_B0VenusCoefficients[$6].a*Math.cos(GFX.g_B0VenusCoefficients[$6].b+GFX.g_B0VenusCoefficients[$6].c*$0);}var $7=GFX.g_B1VenusCoefficients.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_B1VenusCoefficients[$6].a*Math.cos(GFX.g_B1VenusCoefficients[$6].b+GFX.g_B1VenusCoefficients[$6].c*$0);}var $9=GFX.g_B2VenusCoefficients.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_B2VenusCoefficients[$6].a*Math.cos(GFX.g_B2VenusCoefficients[$6].b+GFX.g_B2VenusCoefficients[$6].c*$0);}var $B=GFX.g_B3VenusCoefficients.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_B3VenusCoefficients[$6].a*Math.cos(GFX.g_B3VenusCoefficients[$6].b+GFX.g_B3VenusCoefficients[$6].c*$0);}var $D=GFX.g_B4VenusCoefficients.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_B4VenusCoefficients[$6].a*Math.cos(GFX.g_B4VenusCoefficients[$6].b+GFX.g_B4VenusCoefficients[$6].c*$0);}var $F=($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;$F=CT.r2D($F);return $F;}
CAAVenus.radiusVector=function(JD){var $0=(JD-2451545)/365250;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=GFX.g_R0VenusCoefficients.length;var $5=0;var $6;for($6=0;$6<$4;$6++){$5+=GFX.g_R0VenusCoefficients[$6].a*Math.cos(GFX.g_R0VenusCoefficients[$6].b+GFX.g_R0VenusCoefficients[$6].c*$0);}var $7=GFX.g_R1VenusCoefficients.length;var $8=0;for($6=0;$6<$7;$6++){$8+=GFX.g_R1VenusCoefficients[$6].a*Math.cos(GFX.g_R1VenusCoefficients[$6].b+GFX.g_R1VenusCoefficients[$6].c*$0);}var $9=GFX.g_R2VenusCoefficients.length;var $A=0;for($6=0;$6<$9;$6++){$A+=GFX.g_R2VenusCoefficients[$6].a*Math.cos(GFX.g_R2VenusCoefficients[$6].b+GFX.g_R2VenusCoefficients[$6].c*$0);}var $B=GFX.g_R3VenusCoefficients.length;var $C=0;for($6=0;$6<$B;$6++){$C+=GFX.g_R3VenusCoefficients[$6].a*Math.cos(GFX.g_R3VenusCoefficients[$6].b+GFX.g_R3VenusCoefficients[$6].c*$0);}var $D=GFX.g_R4VenusCoefficients.length;var $E=0;for($6=0;$6<$D;$6++){$E+=GFX.g_R4VenusCoefficients[$6].a*Math.cos(GFX.g_R4VenusCoefficients[$6].b+GFX.g_R4VenusCoefficients[$6].c*$0);}return ($5+$8*$0+$A*$1+$C*$2+$E*$3)/100000000;}
Type.registerNamespace('wwtlib');wwtlib.CullMode=function(){};wwtlib.CullMode.prototype = {none:0,counterClockwise:2,clockwise:1}
wwtlib.CullMode.registerEnum('wwtlib.CullMode',false);wwtlib.PointScaleTypes=function(){};wwtlib.PointScaleTypes.prototype = {linear:0,power:1,log:2,constant:3,stellarMagnitude:4}
wwtlib.PointScaleTypes.registerEnum('wwtlib.PointScaleTypes',false);wwtlib.AltUnits=function(){};wwtlib.AltUnits.prototype = {meters:1,feet:2,inches:3,miles:4,kilometers:5,astronomicalUnits:6,lightYears:7,parsecs:8,megaParsecs:9,custom:10}
wwtlib.AltUnits.registerEnum('wwtlib.AltUnits',false);wwtlib.FadeType=function(){};wwtlib.FadeType.prototype = {fadeIn:1,fadeOut:2,both:3,none:4}
wwtlib.FadeType.registerEnum('wwtlib.FadeType',false);wwtlib.ReferenceFrames=function(){};wwtlib.ReferenceFrames.prototype = {sky:0,ecliptic:1,galactic:2,sun:3,mercury:4,venus:5,earth:6,mars:7,jupiter:8,saturn:9,uranus:10,neptune:11,pluto:12,moon:13,io:14,europa:15,ganymede:16,callisto:17,custom:18,identity:19}
wwtlib.ReferenceFrames.registerEnum('wwtlib.ReferenceFrames',false);wwtlib.IUIServicesCallbacks=function(){};wwtlib.IUIServicesCallbacks.registerInterface('wwtlib.IUIServicesCallbacks');wwtlib.ReferenceFrameTypes=function(){};wwtlib.ReferenceFrameTypes.prototype = {fixedSherical:0,orbital:1,trajectory:2}
wwtlib.ReferenceFrameTypes.registerEnum('wwtlib.ReferenceFrameTypes',false);wwtlib.CoordinatesTypes=function(){};wwtlib.CoordinatesTypes.prototype = {spherical:0,rectangular:1,orbital:2}
wwtlib.CoordinatesTypes.registerEnum('wwtlib.CoordinatesTypes',false);wwtlib.AltTypes=function(){};wwtlib.AltTypes.prototype = {depth:0,altitude:1,distance:2,seaLevel:3,terrain:4}
wwtlib.AltTypes.registerEnum('wwtlib.AltTypes',false);wwtlib.MarkerMixes=function(){};wwtlib.MarkerMixes.prototype = {same_For_All:0}
wwtlib.MarkerMixes.registerEnum('wwtlib.MarkerMixes',false);wwtlib.ColorMaps=function(){};wwtlib.ColorMaps.prototype = {same_For_All:0,group_by_Values:2,per_Column_Literal:3}
wwtlib.ColorMaps.registerEnum('wwtlib.ColorMaps',false);wwtlib.PlotTypes=function(){};wwtlib.PlotTypes.prototype = {gaussian:0,point:1,circle:2,pushPin:3}
wwtlib.PlotTypes.registerEnum('wwtlib.PlotTypes',false);wwtlib.MarkerScales=function(){};wwtlib.MarkerScales.prototype = {screen:0,world:1}
wwtlib.MarkerScales.registerEnum('wwtlib.MarkerScales',false);wwtlib.RAUnits=function(){};wwtlib.RAUnits.prototype = {hours:0,degrees:1}
wwtlib.RAUnits.registerEnum('wwtlib.RAUnits',false);wwtlib.Alignment=function(){};wwtlib.Alignment.prototype = {center:0,left:1}
wwtlib.Alignment.registerEnum('wwtlib.Alignment',false);wwtlib.ISettings=function(){};wwtlib.ISettings.registerInterface('wwtlib.ISettings');wwtlib.StockSkyOverlayTypes=function(){};wwtlib.StockSkyOverlayTypes.prototype = {empty:0,equatorialGrid:1,equatorialGridText:2,galacticGrid:3,galacticGridText:4,eclipticGrid:5,eclipticGridText:6,eclipticOverview:7,eclipticOverviewText:8,precessionChart:9,altAzGrid:10,altAzGridText:11,constellationFigures:12,constellationBoundaries:13,constellationFocusedOnly:14,constellationNames:15,constellationPictures:16,fadeToBlack:17,fadeToLogo:18,fadeToGradient:19,screenBroadcast:20,fadeRemoteOnly:21,skyGrids:22,constellations:23,solarSystemStars:24,solarSystemMilkyWay:25,solarSystemCosmos:26,solarSystemOrbits:27,solarSystemPlanets:28,solarSystemAsteroids:29,solarSystemLighting:30,solarSystemMinorOrbits:31,showEarthCloudLayer:32,showElevationModel:33,showAtmosphere:34,multiResSolarSystemBodies:35,auroraBorialis:36,earthCutAway:37,showSolarSystem:38,clouds8k:39,filedOfView:40,showISSModel:41,solarSystemCMB:42,mpcZone1:43,mpcZone2:44,mpcZone3:45,mpcZone4:46,mpcZone5:47,mpcZone6:48,mpcZone7:49,orbitFilters:50}
wwtlib.StockSkyOverlayTypes.registerEnum('wwtlib.StockSkyOverlayTypes',false);wwtlib.OverlayAnchor=function(){};wwtlib.OverlayAnchor.prototype = {sky:0,screen:1}
wwtlib.OverlayAnchor.registerEnum('wwtlib.OverlayAnchor',false);wwtlib.AudioType=function(){};wwtlib.AudioType.prototype = {music:0,voice:1}
wwtlib.AudioType.registerEnum('wwtlib.AudioType',false);wwtlib.ShapeType=function(){};wwtlib.ShapeType.prototype = {circle:0,rectagle:1,star:2,donut:3,arrow:4,line:5,openRectagle:6}
wwtlib.ShapeType.registerEnum('wwtlib.ShapeType',false);wwtlib.LoopTypes=function(){};wwtlib.LoopTypes.prototype = {loop:0,upDown:1,down:2,upDownOnce:3,once:4,begin:5,end:6}
wwtlib.LoopTypes.registerEnum('wwtlib.LoopTypes',false);wwtlib.TextBorderStyle=function(){};wwtlib.TextBorderStyle.prototype = {none:0,tight:1,small:2,medium:3,large:4}
wwtlib.TextBorderStyle.registerEnum('wwtlib.TextBorderStyle',false);wwtlib.UserLevel=function(){};wwtlib.UserLevel.prototype = {beginner:0,intermediate:1,advanced:2,educator:3,professional:4}
wwtlib.UserLevel.registerEnum('wwtlib.UserLevel',false);wwtlib.StateType=function(){};wwtlib.StateType.prototype = {pending:0,received:1,error:2}
wwtlib.StateType.registerEnum('wwtlib.StateType',false);wwtlib.SolarSystemObjects=function(){};wwtlib.SolarSystemObjects.prototype = {sun:0,mercury:1,venus:2,mars:3,jupiter:4,saturn:5,uranus:6,neptune:7,pluto:8,moon:9,io:10,europa:11,ganymede:12,callisto:13,ioShadow:14,europaShadow:15,ganymedeShadow:16,callistoShadow:17,sunEclipsed:18,earth:19,custom:20,undefined:65536}
wwtlib.SolarSystemObjects.registerEnum('wwtlib.SolarSystemObjects',false);wwtlib.InterpolationType=function(){};wwtlib.InterpolationType.prototype = {linear:0,easeIn:1,easeOut:2,easeInOut:3,exponential:4,defaultV:5}
wwtlib.InterpolationType.registerEnum('wwtlib.InterpolationType',false);wwtlib.PointType=function(){};wwtlib.PointType.prototype = {move:0,line:1,dash:2,start:3}
wwtlib.PointType.registerEnum('wwtlib.PointType',false);wwtlib.LocationHint=function(){};wwtlib.LocationHint.prototype = {slash:0,backslash:1,top:2}
wwtlib.LocationHint.registerEnum('wwtlib.LocationHint',false);wwtlib.FolderGroup=function(){};wwtlib.FolderGroup.prototype = {explorer:0,tour:1,search:2,constellation:3,view:4,goTo:5,community:6,context:7,voTable:8,imageStack:9}
wwtlib.FolderGroup.registerEnum('wwtlib.FolderGroup',false);wwtlib.FolderRefreshType=function(){};wwtlib.FolderRefreshType.prototype = {interval:0,conditionalGet:1,viewChange:2}
wwtlib.FolderRefreshType.registerEnum('wwtlib.FolderRefreshType',false);wwtlib.FolderType=function(){};wwtlib.FolderType.prototype = {earth:0,planet:1,sky:2,panorama:3}
wwtlib.FolderType.registerEnum('wwtlib.FolderType',false);wwtlib.ThumbnailSize=function(){};wwtlib.ThumbnailSize.prototype = {small:0,big:1}
wwtlib.ThumbnailSize.registerEnum('wwtlib.ThumbnailSize',false);wwtlib.wwtlib$1=function(){};wwtlib.wwtlib$1.registerInterface('wwtlib.wwtlib$1');wwtlib.ProjectionType=function(){};wwtlib.ProjectionType.prototype = {mercator:0,equirectangular:1,tangent:2,tan:2,toast:3,spherical:4,skyImage:5,plotted:6}
wwtlib.ProjectionType.registerEnum('wwtlib.ProjectionType',false);wwtlib.ImageSetType=function(){};wwtlib.ImageSetType.prototype = {earth:0,planet:1,sky:2,panorama:3,solarSystem:4,sandbox:5}
wwtlib.ImageSetType.registerEnum('wwtlib.ImageSetType',false);wwtlib.BandPass=function(){};wwtlib.BandPass.prototype = {gamma:0,xRay:1,ultraviolet:2,visible:3,hydrogenAlpha:4,IR:4,microwave:5,radio:6,visibleNight:6}
wwtlib.BandPass.registerEnum('wwtlib.BandPass',false);wwtlib.IThumbnail=function(){};wwtlib.IThumbnail.registerInterface('wwtlib.IThumbnail');wwtlib.Classification=function(){};wwtlib.Classification.prototype = {star:1,supernova:2,blackHole:4,neutronStar:8,doubleStar:16,multipleStars:32,asterism:64,constellation:128,openCluster:256,globularCluster:512,nebulousCluster:1024,nebula:2048,emissionNebula:4096,planetaryNebula:8192,reflectionNebula:16384,darkNebula:32768,giantMolecularCloud:65536,supernovaRemnant:131072,interstellarDust:262144,quasar:524288,galaxy:1048576,spiralGalaxy:2097152,irregularGalaxy:4194304,ellipticalGalaxy:8388608,knot:16777216,plateDefect:33554432,clusterOfGalaxies:67108864,otherNGC:134217728,unidentified:268435456,solarSystem:536870912,unfiltered:1073741823,stellar:63,stellarGroupings:2032,nebulae:523264,galactic:133693440,other:436207616}
wwtlib.Classification.registerEnum('wwtlib.Classification',false);wwtlib.IPlace=function(){};wwtlib.IPlace.registerInterface('wwtlib.IPlace');wwtlib.IUiController=function(){};wwtlib.IUiController.registerInterface('wwtlib.IUiController');wwtlib.IViewMover=function(){};wwtlib.IViewMover.registerInterface('wwtlib.IViewMover');wwtlib.AstroRaDec=function(ra,dec,dist,shadow,eclipsed){this.RA=ra;this.dec=dec;this.distance=dist;this.shadow=shadow;this.eclipsed=eclipsed;}
wwtlib.AstroRaDec.prototype={RA:0,dec:0,distance:0,shadow:false,eclipsed:false}
wwtlib.RiseSetDetails=function(bValid,Rise,Transit,Set,neverRises){this.bValid=bValid;this.rise=Rise;this.transit=Transit;this.set=Set;this.bNeverRises=neverRises;}
wwtlib.RiseSetDetails.prototype={bValid:false,rise:0,transit:0,set:0,bNeverRises:false}
wwtlib.AstroCalc=function(){}
wwtlib.AstroCalc.getPlanet=function(jDate,planetIn,locLat,locLong,locHeight){var $0=planetIn;locLong=-locLong;if($0<9){var $1=ELL.calculate(jDate,planetIn);var $2=CAAParallax.equatorial2Topocentric($1.apparentGeocentricRA,$1.apparentGeocentricDeclination,$1.apparentGeocentricDistance,locLong,locLat,locHeight,jDate);return new wwtlib.AstroRaDec($2.x,$2.y,$1.apparentGeocentricDistance,false,false);}else if($0===9){var $3=CAAMoon.eclipticLatitude(jDate);var $4=CAAMoon.eclipticLongitude(jDate);var $5=CAAMoon.radiusVector(jDate)/149598000;var $6=CAANutation.trueObliquityOfEcliptic(jDate);var $7=CT.ec2Eq($4,$3,$6);var $8=CAAParallax.equatorial2Topocentric($7.x,$7.y,$5,locLong,locLat,locHeight,jDate);return new wwtlib.AstroRaDec($8.x,$8.y,$5,false,false);}else{if(jDate!==wwtlib.AstroCalc.$3){wwtlib.AstroCalc.$1=ELL.calculate(jDate,4);wwtlib.AstroCalc.$2=CAAPhysicalJupiter.calculate(jDate);var $14=CAAParallax.equatorial2Topocentric(wwtlib.AstroCalc.$1.apparentGeocentricRA,wwtlib.AstroCalc.$1.apparentGeocentricDeclination,wwtlib.AstroCalc.$1.apparentGeocentricDistance,locLong,locLat,locHeight,jDate);wwtlib.AstroCalc.$1.apparentGeocentricRA=$14.x;wwtlib.AstroCalc.$1.apparentGeocentricDeclination=$14.y;wwtlib.AstroCalc.$0=GM.calculate(jDate);wwtlib.AstroCalc.$3=jDate;}var $9=0.000954501;var $A=Math.atan(0.5*($9/wwtlib.AstroCalc.$1.apparentGeocentricDistance))/3.1415927*180;var $B=($A/Math.cos(wwtlib.AstroCalc.$1.apparentGeocentricDeclination/180*3.1415927))/15;var $C=0;var $D=0;var $E=0;var $F=false;var $10=false;switch($0){case 10:$C=wwtlib.AstroCalc.$0.satellite1.apparentRectangularCoordinates.x;$D=wwtlib.AstroCalc.$0.satellite1.apparentRectangularCoordinates.y;$E=wwtlib.AstroCalc.$0.satellite1.apparentRectangularCoordinates.z;$10=wwtlib.AstroCalc.$0.satellite1.bInEclipse;$F=wwtlib.AstroCalc.$0.satellite1.bInShadowTransit;break;case 11:$C=wwtlib.AstroCalc.$0.satellite2.apparentRectangularCoordinates.x;$D=wwtlib.AstroCalc.$0.satellite2.apparentRectangularCoordinates.y;$E=wwtlib.AstroCalc.$0.satellite2.apparentRectangularCoordinates.z;$10=wwtlib.AstroCalc.$0.satellite2.bInEclipse;$F=wwtlib.AstroCalc.$0.satellite2.bInShadowTransit;break;case 12:$C=wwtlib.AstroCalc.$0.satellite3.apparentRectangularCoordinates.x;$D=wwtlib.AstroCalc.$0.satellite3.apparentRectangularCoordinates.y;$E=wwtlib.AstroCalc.$0.satellite3.apparentRectangularCoordinates.z;$10=wwtlib.AstroCalc.$0.satellite3.bInEclipse;$F=wwtlib.AstroCalc.$0.satellite3.bInShadowTransit;break;case 13:$C=wwtlib.AstroCalc.$0.satellite4.apparentRectangularCoordinates.x;$D=wwtlib.AstroCalc.$0.satellite4.apparentRectangularCoordinates.y;$E=wwtlib.AstroCalc.$0.satellite4.apparentRectangularCoordinates.z;$10=wwtlib.AstroCalc.$0.satellite4.bInEclipse;$F=wwtlib.AstroCalc.$0.satellite4.bInShadowTransit;break;case 14:$C=wwtlib.AstroCalc.$0.satellite1.apparentShadowRectangularCoordinates.x;$D=wwtlib.AstroCalc.$0.satellite1.apparentShadowRectangularCoordinates.y;$E=wwtlib.AstroCalc.$0.satellite1.apparentShadowRectangularCoordinates.z*0.9;$F=wwtlib.AstroCalc.$0.satellite1.bInShadowTransit;break;case 15:$C=wwtlib.AstroCalc.$0.satellite2.apparentShadowRectangularCoordinates.x;$D=wwtlib.AstroCalc.$0.satellite2.apparentShadowRectangularCoordinates.y;$E=wwtlib.AstroCalc.$0.satellite2.apparentShadowRectangularCoordinates.z*0.9;$F=wwtlib.AstroCalc.$0.satellite2.bInShadowTransit;break;case 16:$C=wwtlib.AstroCalc.$0.satellite3.apparentShadowRectangularCoordinates.x;$D=wwtlib.AstroCalc.$0.satellite3.apparentShadowRectangularCoordinates.y;$E=wwtlib.AstroCalc.$0.satellite3.apparentShadowRectangularCoordinates.z*0.9;$F=wwtlib.AstroCalc.$0.satellite3.bInShadowTransit;break;case 17:$C=wwtlib.AstroCalc.$0.satellite4.apparentShadowRectangularCoordinates.x;$D=wwtlib.AstroCalc.$0.satellite4.apparentShadowRectangularCoordinates.y;$E=wwtlib.AstroCalc.$0.satellite4.apparentShadowRectangularCoordinates.z*0.9;$F=wwtlib.AstroCalc.$0.satellite4.bInShadowTransit;break;}var $11;var $12;var $13=wwtlib.AstroCalc.$2.p/180*3.1415927;$11=$C*Math.cos($13)-$D*Math.sin($13);$12=$C*Math.sin($13)+$D*Math.cos($13);$C=$11;$D=$12;return new wwtlib.AstroRaDec(wwtlib.AstroCalc.$1.apparentGeocentricRA-($C*$B),wwtlib.AstroCalc.$1.apparentGeocentricDeclination+$D*$A,wwtlib.AstroCalc.$1.apparentGeocentricDistance+($E*$9/2),$F,$10);}}
wwtlib.AstroCalc.getJulianDay=function(year,month,day){return DT.dateToJD(parseInt(year),parseInt(month),day,true);}
wwtlib.AstroCalc.eclipticToJ2000=function(l,b,jNow){var $0=CT.ec2Eq(l,b,CAANutation.trueObliquityOfEcliptic(jNow));return new wwtlib.AstroRaDec($0.x,$0.y,0,false,false);}
wwtlib.AstroCalc.galacticToJ2000=function(l,b){var $0=CT.g2Eq(l,b);return new wwtlib.AstroRaDec($0.x,$0.y,0,false,false);}
wwtlib.AstroCalc.j2000ToGalactic=function(ra,dec){var $0=CT.eq2G(ra,dec);return new wwtlib.AstroRaDec($0.x,$0.y,0,false,false);}
wwtlib.AstroCalc.getRiseTrinsitSet=function(jd,lat,lng,ra1,dec1,ra2,dec2,ra3,dec3,type){var $0=-0.5667;switch(type){case 0:$0=-0.5667;break;case 1:$0=-0.8333;break;case 2:$0=0.125;break;}var $1=CAARiseTransitSet.rise(jd,ra1,dec1,ra2,dec2,ra3,dec3,lng,lat,$0);var $2=false;if(!$1.bValid){$2=wwtlib._Util.$D(lat)!==wwtlib._Util.$D(dec2);}return new wwtlib.RiseSetDetails($1.bValid,$1.rise,$1.transit,$1.set,$2);}
wwtlib.wwtlib$8=function(count){this.$0=count;}
wwtlib.wwtlib$8.prototype={$0:0,$1:null,$2:function(){this.$1=new Array(this.$0);return this.$1;},$3:null,$4:function(){this.$3=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34962,this.$3);var $0=new Float32Array(this.$0*3);var $1=$0;var $2=0;var $enum1=ss.IEnumerator.getEnumerator(this.$1);while($enum1.moveNext()){var $3=$enum1.current;$1[$2++]=$3.x;$1[$2++]=$3.y;$1[$2++]=$3.z;}wwtlib.Tile.prepDevice.bufferData(34962,$0,35044);}}
wwtlib.wwtlib$B=function(count){this.$0=count;}
wwtlib.wwtlib$B.prototype={$0:0,$1:null,$2:function(){this.$1=new Array(this.$0);return this.$1;},$3:null,$4:function(){this.$3=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34962,this.$3);var $0=new Float32Array(this.$0*5);var $1=$0;var $2=0;var $enum1=ss.IEnumerator.getEnumerator(this.$1);while($enum1.moveNext()){var $3=$enum1.current;$1[$2++]=$3.position.x;$1[$2++]=$3.position.y;$1[$2++]=$3.position.z;$1[$2++]=$3.tu;$1[$2++]=$3.tv;}wwtlib.Tile.prepDevice.bufferData(34962,$0,35044);}}
wwtlib.wwtlib$A=function(count){this.$0=count;}
wwtlib.wwtlib$A.prototype={$0:0,$1:null,$2:function(){this.$1=new Array(this.$0);return this.$1;},$3:null,$4:function(){this.$3=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34962,this.$3);var $0=new Float32Array(this.$0*9);var $1=$0;var $2=0;var $enum1=ss.IEnumerator.getEnumerator(this.$1);while($enum1.moveNext()){var $3=$enum1.current;$1[$2++]=$3.position.x;$1[$2++]=$3.position.y;$1[$2++]=$3.position.z;$1[$2++]=$3.get_color().r/255;$1[$2++]=$3.get_color().g/255;$1[$2++]=$3.get_color().b/255;$1[$2++]=$3.get_color().a/255;$1[$2++]=$3.tu;$1[$2++]=$3.tv;}wwtlib.Tile.prepDevice.bufferData(34962,$0,35044);}}
wwtlib.wwtlib$9=function(count){this.$0=count;}
wwtlib.wwtlib$9.prototype={$0:0,$1:null,$2:function(){this.$1=new Array(this.$0);return this.$1;},$3:null,$4:function(){this.$3=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34962,this.$3);var $0=new Float32Array(this.$0*10);var $1=$0;var $2=0;var $enum1=ss.IEnumerator.getEnumerator(this.$1);while($enum1.moveNext()){var $3=$enum1.current;$1[$2++]=$3.position.x;$1[$2++]=$3.position.y;$1[$2++]=$3.position.z;$1[$2++]=$3.get_color().r/255;$1[$2++]=$3.get_color().g/255;$1[$2++]=$3.get_color().b/255;$1[$2++]=$3.get_color().a/255;$1[$2++]=$3.tu;$1[$2++]=$3.tv;$1[$2++]=$3.pointSize;}wwtlib.Tile.prepDevice.bufferData(34962,$0,35044);}}
wwtlib.Dates=function(start,end){this.startDate=start;this.endDate=end;}
wwtlib.Dates.prototype={startDate:0,endDate:0,copy:function(){return new wwtlib.Dates(this.startDate,this.endDate);}}
wwtlib.SimpleLineList=function(){this.$1=[];this.viewTransform=wwtlib.Matrix3d.get_identity();this.$4=[];this.$5=[];}
wwtlib.SimpleLineList.prototype={$0:true,get_depthBuffered:function(){return this.$0;},set_depthBuffered:function(value){this.$0=value;return value;},addLine:function(v1,v2){this.$1.add(v1);this.$1.add(v2);this.$7();},clear:function(){this.$1.clear();this.$7();},$2:false,$3:null,sky:true,aaFix:true,drawLines:function(renderContext,opacity,color){if(this.$1.length<2){return;}this.$6(renderContext);var $0=this.$1.length;if(renderContext.gl==null){var $1=wwtlib.Vector3d.$1(renderContext.get_viewPoint(),this.viewTransform);var $2=renderContext.device;$2.save();$2.strokeStyle=color.toString();$2.lineWidth=2;$2.globalAlpha=0.25;var $3=new wwtlib.Vector3d();var $4=new wwtlib.Vector3d();for(var $5=0;$5<$0;$5+=2){$3=renderContext.WVP.transform(this.$1[$5]);$4=renderContext.WVP.transform(this.$1[$5+1]);if(wwtlib.Vector3d.dot(this.$1[$5],$1)>0.6){$2.beginPath();$2.moveTo($3.x,$3.y);$2.lineTo($4.x,$4.y);$2.stroke();}}$2.restore();}else{var $enum1=ss.IEnumerator.getEnumerator(this.$4);while($enum1.moveNext()){var $6=$enum1.current;wwtlib.SimpleLineShader.use(renderContext,$6.$3,color);renderContext.gl.drawArrays(1,0,$6.$0);}}},useLocalCenters:false,$6:function($p0){if($p0.gl!=null){if(!this.$4.length){var $0=this.$1.length;var $1=null;var $2=null;this.$3=new wwtlib.Vector3d();if(this.get_depthBuffered()){var $enum1=ss.IEnumerator.getEnumerator(this.$1);while($enum1.moveNext()){var $7=$enum1.current;this.$3.add($7);}this.$3.x/=$0;this.$3.y/=$0;this.$3.z/=$0;}var $3=$0;var $4=0;var $5=0;var $6;var $enum2=ss.IEnumerator.getEnumerator(this.$1);while($enum2.moveNext()){var $8=$enum2.current;if($5>=100000||$2==null){if($1!=null){$1.$4();}var $9=Math.min(100000,$3);$3-=$9;$1=new wwtlib.wwtlib$8($9);$2=$1.$2();this.$4.add($1);this.$5.add($9);$5=0;}if(this.useLocalCenters){$6=wwtlib.Vector3d.subtractVectors($8,this.$3);$2[$5]=$6;}else{$2[$5]=$8;}$4++;$5++;}if($1!=null){$1.$4();}}}},$7:function(){}}
wwtlib.LineList=function(){this.$1=[];this.$2=[];this.$3=[];this.$6=[];this.$7=[];}
wwtlib.LineList.prototype={$0:true,get_depthBuffered:function(){return this.$0;},set_depthBuffered:function(value){this.$0=value;return value;},timeSeries:false,showFarSide:true,sky:false,decay:0,useNonRotatingFrame:false,jNow:0,addLine:function(v1,v2,color,date){this.$1.add(v1);this.$1.add(v2);this.$2.add(color);this.$3.add(date);this.$9();},addLineNoDate:function(v1,v2,color){this.$1.add(v1);this.$1.add(v2);this.$2.add(color);this.$3.add(new wwtlib.Dates(0,0));this.$9();},clear:function(){this.$1.clear();this.$2.clear();this.$3.clear();},$4:true,$5:null,drawLines:function(renderContext,opacity){if(this.$1.length<2||opacity<=0){return;}if(renderContext.gl==null){}else{this.$8();var $enum1=ss.IEnumerator.getEnumerator(this.$6);while($enum1.moveNext()){var $0=$enum1.current;wwtlib.LineShaderNormalDates.use(renderContext,$0.$3,wwtlib.Color.fromArgb(255,255,255,255),this.$0,this.jNow,this.decay);renderContext.gl.drawArrays(1,0,$0.$0);}}},$8:function(){if(!this.$6.length){var $0=this.$1.length;var $1=null;var $2=null;var $3=$0;var $4=0;var $5=0;var $6;var $enum1=ss.IEnumerator.getEnumerator(this.$1);while($enum1.moveNext()){var $7=$enum1.current;if($5>=100000||$2==null){if($1!=null){$1.$4();}var $9=Math.min(100000,$3);$3-=$9;$1=new wwtlib.wwtlib$A($9);$2=$1.$2();this.$6.add($1);this.$7.add($9);$5=0;}var $8=parseInt(($4/2));$6=$7;$2[$5]=new wwtlib.TimeSeriesLineVertex();$2[$5].position=$6;$2[$5].normal=$7;$2[$5].tu=this.$3[$8].startDate;$2[$5].tv=this.$3[$8].endDate;$2[$5].set_color(this.$2[$8]);$4++;$5++;}if($1!=null){$1.$4();}}},$9:function(){}}
wwtlib.TriangleList=function(){this.$0=[];this.$1=[];this.$2=[];this.$5=[];this.$6=[];}
wwtlib.TriangleList.prototype={timeSeries:false,showFarSide:false,sky:false,depthBuffered:true,writeZbuffer:false,decay:0,autoTime:true,jNow:0,$3:false,addTriangle:function(v1,v2,v3,color,date){this.$0.add(v1);this.$0.add(v2);this.$0.add(v3);this.$1.add(color);this.$2.add(date);this.$4();},addSubdividedTriangles:function(v1,v2,v3,color,date,subdivisions){subdivisions--;if(subdivisions<0){this.addTriangle(v1,v2,v3,color,date);}else{var $0;var $1;var $2;$0=wwtlib.Vector3d.midPointByLength(v1,v2);$1=wwtlib.Vector3d.midPointByLength(v2,v3);$2=wwtlib.Vector3d.midPointByLength(v3,v1);this.addSubdividedTriangles(v1,$0,$2,color,date,subdivisions);this.addSubdividedTriangles($0,$1,$2,color,date,subdivisions);this.addSubdividedTriangles($0,v2,$1,color,date,subdivisions);this.addSubdividedTriangles($1,v3,$2,color,date,subdivisions);}},addQuad:function(v1,v2,v3,v4,color,date){this.$0.add(v1);this.$0.add(v3);this.$0.add(v2);this.$0.add(v2);this.$0.add(v3);this.$0.add(v4);this.$1.add(color);this.$2.add(date);this.$1.add(color);this.$2.add(date);this.$4();},clear:function(){this.$1.clear();this.$0.clear();this.$2.clear();this.$4();},$4:function(){},$7:function(){if(!this.$5.length){var $0=this.$0.length;var $1=null;var $2=null;var $3=$0;var $4=0;var $5=0;var $enum1=ss.IEnumerator.getEnumerator(this.$0);while($enum1.moveNext()){var $6=$enum1.current;if($5>=90000||$1==null){if($1!=null){$1.$4();}var $8=Math.min(90000,$3);$3-=$8;$1=new wwtlib.wwtlib$A($8);this.$5.add($1);this.$6.add($8);$2=$1.$2();$5=0;}$2[$5]=new wwtlib.TimeSeriesLineVertex();$2[$5].position=$6;$2[$5].normal=$6;var $7=parseInt(($4/3));$2[$5].set_color(this.$1[$7]);$2[$5].tu=this.$2[$7].startDate;$2[$5].tv=this.$2[$7].endDate;$4++;$5++;}if($1!=null){$1.$4();}this.$1.clear();this.$2.clear();this.$0.clear();this.$3=true;}},draw:function(renderContext,opacity,cull){if(this.$0.length<1&&!this.$3){return;}if(renderContext.gl==null){}else{this.$7();var $enum1=ss.IEnumerator.getEnumerator(this.$5);while($enum1.moveNext()){var $0=$enum1.current;wwtlib.LineShaderNormalDates.use(renderContext,$0.$3,wwtlib.Color.fromArgb(255,255,255,255),this.depthBuffered,this.jNow,this.decay);renderContext.gl.drawArrays(4,0,$0.$0);}}}}
wwtlib.PointList=function(device){this.$1=[];this.$2=[];this.$3=[];this.$4=[];this.items=[];this.$D=[];this.$E=[];this.$0=device;}
wwtlib.PointList.prototype={$0:null,timeSeries:false,showFarSide:false,sky:false,depthBuffered:true,decay:0,autoTime:true,jNow:0,$5:false,addPoint:function(v1,color,date,size){this.$1.add(v1);this.$2.add(color.$1());this.$3.add(date);this.$4.add(size);this.$8();},clear:function(){this.$2.clear();this.$1.clear();this.$3.clear();this.$8();},$6:null,$7:null,$8:function(){this.$C=false;},$9:null,$A:null,$B:false,$C:false,$F:function($p0){if(!this.$C){if($p0.gl==null){this.$9=document.createElement('img');this.$9.addEventListener('load',ss.Delegate.create(this,function($p1_0){
this.$B=true;}),false);this.$9.src='/images/starProfile.png';this.$7=new Array(this.$1.length);this.$6=new Array(this.$1.length);var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.$1);while($enum1.moveNext()){var $1=$enum1.current;var $2=new wwtlib.DataItem();$2.location=$1;$2.tranformed=new wwtlib.Vector3d();$2.size=this.$4[$0];$2.color=this.$2[$0];this.$7[$0]=$2.location;this.$6[$0]=$2.tranformed;this.items.add($2);$0++;}}else{if(!this.$D.length){if(this.$A==null){this.$A=wwtlib.Planets.loadPlanetTexture('/images/starProfile.png');}var $3=this.$1.length;var $4=null;var $5=null;var $6=$3;var $7=0;var $8=0;var $enum2=ss.IEnumerator.getEnumerator(this.$1);while($enum2.moveNext()){var $9=$enum2.current;if($8>=100000||$5==null){if($4!=null){$4.$4();}var $A=Math.min(100000,$6);$6-=$A;$4=new wwtlib.wwtlib$9($A);$5=$4.$2();this.$D.add($4);this.$E.add($A);$8=0;}$5[$8]=new wwtlib.TimeSeriesPointVertex();$5[$8].position=$9;$5[$8].pointSize=this.$4[$7];$5[$8].tu=this.$3[$7].startDate;$5[$8].tv=this.$3[$7].endDate;$5[$8].set_color(this.$2[$7]);$7++;$8++;}if($4!=null){$4.$4();}}}this.$C=true;}},draw:function(renderContext,opacity,cull){this.$F(renderContext);if(renderContext.gl==null){if(!this.$B){return;}renderContext.device.save();renderContext.WVP.projectArrayToScreen(this.$7,this.$6);var $0=renderContext.device;$0.globalAlpha=0.4;var $1=renderContext.width;var $2=renderContext.height;var $3=wwtlib.Vector3d.makeCopy(renderContext.get_viewPoint());var $4=renderContext.get_fovScale()/100;var $enum1=ss.IEnumerator.getEnumerator(this.items);while($enum1.moveNext()){var $5=$enum1.current;if($5.tranformed.z<1){var $6=$5.tranformed.x;var $7=$5.tranformed.y;var $8=0.1*$5.size/$4;var $9=$8/2;if($6>-$9&&$6<$1+$9&&$7>-$9&&$7<$2+$9){$0.beginPath();$0.fillStyle=$5.color.toFormat();$0.arc($6,$7,$8,0,Math.PI*2,true);$0.fill();}}}renderContext.device.restore();}else{var $enum2=ss.IEnumerator.getEnumerator(this.$D);while($enum2.moveNext()){var $A=$enum2.current;wwtlib.TimeSeriesPointSpriteShader.use(renderContext,$A.$3,this.$A.texture2d,wwtlib.Color.fromArgb(255,255,255,255),this.depthBuffered,this.jNow,this.decay);renderContext.gl.drawArrays(0,0,$A.$0);}}}}
wwtlib.TimeSeriesLineVertex=function(){this.position=new wwtlib.Vector3d();this.normal=new wwtlib.Vector3d();}
wwtlib.TimeSeriesLineVertex.create=function(position,normal,time,color){var $0=new wwtlib.TimeSeriesLineVertex();$0.position=position;$0.normal=normal;$0.tu=time;$0.tv=0;$0.color=color;return $0;}
wwtlib.TimeSeriesLineVertex.prototype={color:null,get_color:function(){return this.color;},set_color:function(value){this.color=value;return value;},tu:0,tv:0}
wwtlib.TimeSeriesPointVertex=function(){}
wwtlib.TimeSeriesPointVertex.create=function(position,size,time,color){var $0=new wwtlib.TimeSeriesPointVertex();$0.position=position;$0.pointSize=size;$0.tu=time;$0.tv=0;$0.color=color;return $0;}
wwtlib.TimeSeriesPointVertex.prototype={position:null,pointSize:0,color:null,get_color:function(){return this.color;},set_color:function(value){this.color=value;return value;},tu:0,tv:0}
wwtlib.SimpleLineShader=function(){}
wwtlib.SimpleLineShader.init=function(renderContext){var $0=renderContext.gl;var $1=' precision highp float;                                                              \n'+' uniform vec4 lineColor;                                                               \n'+'                                                                                       \n'+'   void main(void) {                                                                   \n'+'   gl_FragColor = lineColor;         \n'+'   }                                                                                   \n';var $2='     attribute vec3 aVertexPosition;                                              \n'+'                                                                                  \n'+'     uniform mat4 uMVMatrix;                                                      \n'+'     uniform mat4 uPMatrix;                                                       \n'+'                                                                                  \n'+'                                                                                  \n'+'                                                                                  \n'+'     void main(void) {                                                            \n'+'         gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);         \n'+'     }                                                                            \n'+'                                                                                  \n';wwtlib.SimpleLineShader.$0=$0.createShader(35632);$0.shaderSource(wwtlib.SimpleLineShader.$0,$1);$0.compileShader(wwtlib.SimpleLineShader.$0);var $3=$0.getShaderParameter(wwtlib.SimpleLineShader.$0,35713);wwtlib.SimpleLineShader.$1=$0.createShader(35633);$0.shaderSource(wwtlib.SimpleLineShader.$1,$2);$0.compileShader(wwtlib.SimpleLineShader.$1);var $4=$0.getShaderParameter(wwtlib.SimpleLineShader.$1,35713);wwtlib.SimpleLineShader.$2=$0.createProgram();$0.attachShader(wwtlib.SimpleLineShader.$2,wwtlib.SimpleLineShader.$1);$0.attachShader(wwtlib.SimpleLineShader.$2,wwtlib.SimpleLineShader.$0);$0.linkProgram(wwtlib.SimpleLineShader.$2);var $5=$0.getProgramParameter(wwtlib.SimpleLineShader.$2,35714);$0.useProgram(wwtlib.SimpleLineShader.$2);wwtlib.SimpleLineShader.vertLoc=$0.getAttribLocation(wwtlib.SimpleLineShader.$2,'aVertexPosition');wwtlib.SimpleLineShader.lineColorLoc=$0.getUniformLocation(wwtlib.SimpleLineShader.$2,'lineColor');wwtlib.SimpleLineShader.projMatLoc=$0.getUniformLocation(wwtlib.SimpleLineShader.$2,'uPMatrix');wwtlib.SimpleLineShader.mvMatLoc=$0.getUniformLocation(wwtlib.SimpleLineShader.$2,'uMVMatrix');$0.enable(3042);$0.blendFunc(770,771);wwtlib.SimpleLineShader.initialized=true;}
wwtlib.SimpleLineShader.use=function(renderContext,vertex,lineColor){var $0=renderContext.gl;if($0!=null){if(!wwtlib.SimpleLineShader.initialized){wwtlib.SimpleLineShader.init(renderContext);}$0.useProgram(wwtlib.SimpleLineShader.$2);var $1=wwtlib.Matrix3d.multiplyMatrix(renderContext.get_world(),renderContext.get_view());$0.uniformMatrix4fv(wwtlib.SimpleLineShader.mvMatLoc,false,$1.floatArray());$0.uniformMatrix4fv(wwtlib.SimpleLineShader.projMatLoc,false,renderContext.get_projection().floatArray());$0.uniform4f(wwtlib.SimpleLineShader.lineColorLoc,lineColor.r/255,lineColor.g/255,lineColor.b/255,1);if(renderContext.space){$0.disable(2929);}else{$0.enable(2929);}$0.disableVertexAttribArray(0);$0.disableVertexAttribArray(1);$0.disableVertexAttribArray(2);$0.disableVertexAttribArray(3);$0.enableVertexAttribArray(wwtlib.SimpleLineShader.vertLoc);$0.bindBuffer(34962,vertex);$0.bindBuffer(34963,null);$0.vertexAttribPointer(wwtlib.SimpleLineShader.vertLoc,3,5126,false,0,0);$0.lineWidth(1);$0.blendFunc(770,771);}}
wwtlib.LineShaderNormalDates=function(){}
wwtlib.LineShaderNormalDates.init=function(renderContext){var $0=renderContext.gl;var $1='    precision highp float;                                                              \n'+'    uniform vec4 lineColor;                                                             \n'+'    varying lowp vec4 vColor;                                                           \n'+'    void main(void)                                                                     \n'+'    {                                                                                   \n'+'        gl_FragColor = lineColor * vColor;                                              \n'+'    }                                                                                   \n';var $2='    attribute vec3 aVertexPosition;                                                     \n'+'    attribute vec4 aVertexColor;                                                        \n'+'    attribute vec2 aTime;                                                               \n'+'    uniform mat4 uMVMatrix;                                                             \n'+'    uniform mat4 uPMatrix;                                                              \n'+'    uniform float jNow;                                                                 \n'+'    uniform float decay;                                                                \n'+'                                                                                        \n'+'    varying lowp vec4 vColor;                                                           \n'+'                                                                                        \n'+'    void main(void)                                                                     \n'+'    {                                                                                   \n'+'        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);                \n'+'        float dAlpha = 1.0;                                                             \n'+'        if ( decay > 0.0)                                                               \n'+'        {                                                                               \n'+'             dAlpha = 1.0 - ((jNow - aTime.y) / decay);                                 \n '+'             if (dAlpha > 1.0 )                                                         \n'+'             {                                                                          \n'+'                  dAlpha = 1.0;                                                         \n'+'             }                                                                          \n'+'        }                                                                               \n'+'     if (jNow < aTime.x && decay > 0.0)                                                 \n'+'     {                                                                                  \n'+'         vColor = vec4(0.0, 0.0, 0.0, 0.0);                                             \n'+'     }                                                                                  \n'+'     else                                                                               \n'+'     {                                                                                  \n'+'        vColor = vec4(aVertexColor.r, aVertexColor.g, aVertexColor.b, dAlpha);          \n'+'     }                                                                                  \n'+'    }                                                                                   \n'+'                                                                                        \n';wwtlib.LineShaderNormalDates.$0=$0.createShader(35632);$0.shaderSource(wwtlib.LineShaderNormalDates.$0,$1);$0.compileShader(wwtlib.LineShaderNormalDates.$0);var $3=$0.getShaderParameter(wwtlib.LineShaderNormalDates.$0,35713);wwtlib.LineShaderNormalDates.$1=$0.createShader(35633);$0.shaderSource(wwtlib.LineShaderNormalDates.$1,$2);$0.compileShader(wwtlib.LineShaderNormalDates.$1);var $4=$0.getShaderParameter(wwtlib.LineShaderNormalDates.$1,35713);wwtlib.LineShaderNormalDates.$2=$0.createProgram();$0.attachShader(wwtlib.LineShaderNormalDates.$2,wwtlib.LineShaderNormalDates.$1);$0.attachShader(wwtlib.LineShaderNormalDates.$2,wwtlib.LineShaderNormalDates.$0);$0.linkProgram(wwtlib.LineShaderNormalDates.$2);var $5=$0.getProgramParameter(wwtlib.LineShaderNormalDates.$2,35714);$0.useProgram(wwtlib.LineShaderNormalDates.$2);wwtlib.LineShaderNormalDates.vertLoc=$0.getAttribLocation(wwtlib.LineShaderNormalDates.$2,'aVertexPosition');wwtlib.LineShaderNormalDates.colorLoc=$0.getAttribLocation(wwtlib.LineShaderNormalDates.$2,'aVertexColor');wwtlib.LineShaderNormalDates.timeLoc=$0.getAttribLocation(wwtlib.LineShaderNormalDates.$2,'aVertexColor');wwtlib.LineShaderNormalDates.lineColorLoc=$0.getUniformLocation(wwtlib.LineShaderNormalDates.$2,'lineColor');wwtlib.LineShaderNormalDates.projMatLoc=$0.getUniformLocation(wwtlib.LineShaderNormalDates.$2,'uPMatrix');wwtlib.LineShaderNormalDates.mvMatLoc=$0.getUniformLocation(wwtlib.LineShaderNormalDates.$2,'uMVMatrix');wwtlib.LineShaderNormalDates.jNowLoc=$0.getUniformLocation(wwtlib.LineShaderNormalDates.$2,'jNow');wwtlib.LineShaderNormalDates.decayLoc=$0.getUniformLocation(wwtlib.LineShaderNormalDates.$2,'decay');$0.enable(3042);$0.blendFunc(770,771);wwtlib.LineShaderNormalDates.initialized=true;}
wwtlib.LineShaderNormalDates.use=function(renderContext,vertex,lineColor,zBuffer,jNow,decay){var $0=renderContext.gl;if($0!=null){if(!wwtlib.LineShaderNormalDates.initialized){wwtlib.LineShaderNormalDates.init(renderContext);}$0.useProgram(wwtlib.LineShaderNormalDates.$2);var $1=wwtlib.Matrix3d.multiplyMatrix(renderContext.get_world(),renderContext.get_view());$0.uniformMatrix4fv(wwtlib.LineShaderNormalDates.mvMatLoc,false,$1.floatArray());$0.uniformMatrix4fv(wwtlib.LineShaderNormalDates.projMatLoc,false,renderContext.get_projection().floatArray());$0.uniform4f(wwtlib.LineShaderNormalDates.lineColorLoc,lineColor.r/255,lineColor.g/255,lineColor.b/255,1);$0.uniform1f(wwtlib.LineShaderNormalDates.jNowLoc,jNow);$0.uniform1f(wwtlib.LineShaderNormalDates.decayLoc,decay);if(zBuffer){$0.enable(2929);}else{$0.disable(2929);}$0.disableVertexAttribArray(0);$0.disableVertexAttribArray(1);$0.disableVertexAttribArray(2);$0.disableVertexAttribArray(3);$0.enableVertexAttribArray(wwtlib.LineShaderNormalDates.vertLoc);$0.enableVertexAttribArray(wwtlib.LineShaderNormalDates.colorLoc);$0.bindBuffer(34962,vertex);$0.bindBuffer(34963,null);$0.vertexAttribPointer(wwtlib.LineShaderNormalDates.vertLoc,3,5126,false,36,0);$0.vertexAttribPointer(wwtlib.LineShaderNormalDates.colorLoc,4,5126,false,36,12);$0.vertexAttribPointer(wwtlib.LineShaderNormalDates.colorLoc,2,5126,false,36,28);$0.lineWidth(1);$0.blendFunc(770,771);}}
wwtlib.TimeSeriesPointSpriteShader=function(){}
wwtlib.TimeSeriesPointSpriteShader.init=function(renderContext){var $0=renderContext.gl;var $1='    precision mediump float;                                                            \n'+'    uniform vec4 lineColor;                                                             \n'+'    varying lowp vec4 vColor;                                                           \n'+'    uniform sampler2D uSampler;                                                         \n'+'    void main(void)                                                                     \n'+'    {                                                                                   \n'+'        vec4 texColor;                                                                  \n'+'        texColor = texture2D(uSampler, gl_PointCoord);                                  \n'+'                                                                                        \n'+'                                                                                        \n'+'        gl_FragColor = lineColor * vColor * texColor;                                   \n'+'    }                                                                                   \n';var $2='    attribute vec3 aVertexPosition;                                                     \n'+'    attribute vec4 aVertexColor;                                                        \n'+'    attribute vec2 aTime;                                                               \n'+'    attribute float aPointSize;                                                         \n'+'    uniform mat4 uMVMatrix;                                                             \n'+'    uniform mat4 uPMatrix;                                                              \n'+'    uniform float jNow;                                                                 \n'+'    uniform float decay;                                                                \n'+'                                                                                        \n'+'    varying lowp vec4 vColor;                                                           \n'+'                                                                                        \n'+'    void main(void)                                                                     \n'+'    {                                                                                   \n'+'        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);                \n'+'        float dAlpha = 1.0;                                                             \n'+'        if ( decay > 0.0)                                                               \n'+'        {                                                                               \n'+'             dAlpha = 1.0 - ((jNow - aTime.y) / decay);                                 \n '+'             if (dAlpha > 1.0 )                                                         \n'+'             {                                                                          \n'+'                  dAlpha = 1.0;                                                         \n'+'             }                                                                          \n'+'        }                                                                               \n'+'     if (jNow < aTime.x && decay > 0.0)                                                 \n'+'     {                                                                                  \n'+'         vColor = vec4(0.0, 0.0, 0.0, 0.0);                                             \n'+'     }                                                                                  \n'+'     else                                                                               \n'+'     {                                                                                  \n'+'        vColor = vec4(aVertexColor.r, aVertexColor.g, aVertexColor.b, dAlpha);          \n'+'     }                                                                                  \n'+'        gl_PointSize = aPointSize/0.1;                                                  \n'+'    }                                                                                   \n'+'                                                                                        \n';wwtlib.TimeSeriesPointSpriteShader.$0=$0.createShader(35632);$0.shaderSource(wwtlib.TimeSeriesPointSpriteShader.$0,$1);$0.compileShader(wwtlib.TimeSeriesPointSpriteShader.$0);var $3=$0.getShaderParameter(wwtlib.TimeSeriesPointSpriteShader.$0,35713);wwtlib.TimeSeriesPointSpriteShader.$1=$0.createShader(35633);$0.shaderSource(wwtlib.TimeSeriesPointSpriteShader.$1,$2);$0.compileShader(wwtlib.TimeSeriesPointSpriteShader.$1);var $4=$0.getShaderParameter(wwtlib.TimeSeriesPointSpriteShader.$1,35713);var $5=$0.getShaderInfoLog(wwtlib.TimeSeriesPointSpriteShader.$1);wwtlib.TimeSeriesPointSpriteShader.$2=$0.createProgram();$0.attachShader(wwtlib.TimeSeriesPointSpriteShader.$2,wwtlib.TimeSeriesPointSpriteShader.$1);$0.attachShader(wwtlib.TimeSeriesPointSpriteShader.$2,wwtlib.TimeSeriesPointSpriteShader.$0);$0.linkProgram(wwtlib.TimeSeriesPointSpriteShader.$2);var $6=$0.getProgramParameter(wwtlib.TimeSeriesPointSpriteShader.$2,35714);$0.useProgram(wwtlib.TimeSeriesPointSpriteShader.$2);wwtlib.TimeSeriesPointSpriteShader.vertLoc=$0.getAttribLocation(wwtlib.TimeSeriesPointSpriteShader.$2,'aVertexPosition');wwtlib.TimeSeriesPointSpriteShader.colorLoc=$0.getAttribLocation(wwtlib.TimeSeriesPointSpriteShader.$2,'aVertexColor');wwtlib.TimeSeriesPointSpriteShader.pointSizeLoc=$0.getAttribLocation(wwtlib.TimeSeriesPointSpriteShader.$2,'aPointSize');wwtlib.TimeSeriesPointSpriteShader.timeLoc=$0.getAttribLocation(wwtlib.TimeSeriesPointSpriteShader.$2,'aTime');wwtlib.TimeSeriesPointSpriteShader.projMatLoc=$0.getUniformLocation(wwtlib.TimeSeriesPointSpriteShader.$2,'uPMatrix');wwtlib.TimeSeriesPointSpriteShader.mvMatLoc=$0.getUniformLocation(wwtlib.TimeSeriesPointSpriteShader.$2,'uMVMatrix');wwtlib.TimeSeriesPointSpriteShader.sampLoc=$0.getUniformLocation(wwtlib.TimeSeriesPointSpriteShader.$2,'uSampler');wwtlib.TimeSeriesPointSpriteShader.jNowLoc=$0.getUniformLocation(wwtlib.TimeSeriesPointSpriteShader.$2,'jNow');wwtlib.TimeSeriesPointSpriteShader.decayLoc=$0.getUniformLocation(wwtlib.TimeSeriesPointSpriteShader.$2,'decay');wwtlib.TimeSeriesPointSpriteShader.lineColorLoc=$0.getUniformLocation(wwtlib.TimeSeriesPointSpriteShader.$2,'lineColor');$0.enable(3042);wwtlib.TimeSeriesPointSpriteShader.initialized=true;}
wwtlib.TimeSeriesPointSpriteShader.use=function(renderContext,vertex,texture,lineColor,zBuffer,jNow,decay){var $0=renderContext.gl;if($0!=null){if(!wwtlib.TimeSeriesPointSpriteShader.initialized){wwtlib.TimeSeriesPointSpriteShader.init(renderContext);}$0.useProgram(wwtlib.TimeSeriesPointSpriteShader.$2);var $1=wwtlib.Matrix3d.multiplyMatrix(renderContext.get_world(),renderContext.get_view());$0.uniformMatrix4fv(wwtlib.TimeSeriesPointSpriteShader.mvMatLoc,false,$1.floatArray());$0.uniformMatrix4fv(wwtlib.TimeSeriesPointSpriteShader.projMatLoc,false,renderContext.get_projection().floatArray());$0.uniform1i(wwtlib.TimeSeriesPointSpriteShader.sampLoc,0);$0.uniform1f(wwtlib.TimeSeriesPointSpriteShader.jNowLoc,jNow);$0.uniform1f(wwtlib.TimeSeriesPointSpriteShader.decayLoc,decay);$0.uniform4f(wwtlib.TimeSeriesPointSpriteShader.lineColorLoc,lineColor.r/255,lineColor.g/255,lineColor.b/255,1);if(zBuffer){$0.enable(2929);}else{$0.disable(2929);}$0.disableVertexAttribArray(0);$0.disableVertexAttribArray(1);$0.disableVertexAttribArray(2);$0.disableVertexAttribArray(3);$0.enableVertexAttribArray(wwtlib.TimeSeriesPointSpriteShader.vertLoc);$0.enableVertexAttribArray(wwtlib.TimeSeriesPointSpriteShader.colorLoc);$0.enableVertexAttribArray(wwtlib.TimeSeriesPointSpriteShader.pointSizeLoc);$0.enableVertexAttribArray(wwtlib.TimeSeriesPointSpriteShader.timeLoc);$0.bindBuffer(34962,vertex);$0.bindBuffer(34963,null);$0.vertexAttribPointer(wwtlib.TimeSeriesPointSpriteShader.vertLoc,3,5126,false,40,0);$0.vertexAttribPointer(wwtlib.TimeSeriesPointSpriteShader.colorLoc,4,5126,false,40,12);$0.vertexAttribPointer(wwtlib.TimeSeriesPointSpriteShader.pointSizeLoc,1,5126,false,40,36);$0.vertexAttribPointer(wwtlib.TimeSeriesPointSpriteShader.timeLoc,2,5126,false,40,28);$0.activeTexture(33984);$0.bindTexture(3553,texture);$0.lineWidth(1);$0.blendFunc(770,1);}}
wwtlib.TileShader=function(){}
wwtlib.TileShader.init=function(renderContext){var $0=renderContext.gl;var $1=' precision mediump float;                                                              \n'+'                                                                                       \n'+'   varying vec2 vTextureCoord;                                                         \n'+'                                                                                       \n'+'   uniform sampler2D uSampler;                                                         \n'+'                                                                                       \n'+'   void main(void) {                                                                   \n'+'   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));         \n'+'   }                                                                                   \n';var $2='     attribute vec3 aVertexPosition;                                              \n'+'     attribute vec2 aTextureCoord;                                                \n'+'                                                                                  \n'+'     uniform mat4 uMVMatrix;                                                      \n'+'     uniform mat4 uPMatrix;                                                       \n'+'                                                                                  \n'+'     varying vec2 vTextureCoord;                                                  \n'+'                                                                                  \n'+'                                                                                  \n'+'     void main(void) {                                                            \n'+'         gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);         \n'+'         vTextureCoord = aTextureCoord;                                           \n'+'     }                                                                            \n'+'                                                                                  \n';wwtlib.TileShader.$0=$0.createShader(35632);$0.shaderSource(wwtlib.TileShader.$0,$1);$0.compileShader(wwtlib.TileShader.$0);var $3=$0.getShaderParameter(wwtlib.TileShader.$0,35713);wwtlib.TileShader.$1=$0.createShader(35633);$0.shaderSource(wwtlib.TileShader.$1,$2);$0.compileShader(wwtlib.TileShader.$1);var $4=$0.getShaderParameter(wwtlib.TileShader.$1,35713);wwtlib.TileShader.$2=$0.createProgram();$0.attachShader(wwtlib.TileShader.$2,wwtlib.TileShader.$1);$0.attachShader(wwtlib.TileShader.$2,wwtlib.TileShader.$0);$0.linkProgram(wwtlib.TileShader.$2);var $5=$0.getProgramParameter(wwtlib.TileShader.$2,35714);$0.useProgram(wwtlib.TileShader.$2);wwtlib.TileShader.vertLoc=$0.getAttribLocation(wwtlib.TileShader.$2,'aVertexPosition');wwtlib.TileShader.textureLoc=$0.getAttribLocation(wwtlib.TileShader.$2,'aTextureCoord');wwtlib.TileShader.projMatLoc=$0.getUniformLocation(wwtlib.TileShader.$2,'uPMatrix');wwtlib.TileShader.mvMatLoc=$0.getUniformLocation(wwtlib.TileShader.$2,'uMVMatrix');wwtlib.TileShader.sampLoc=$0.getUniformLocation(wwtlib.TileShader.$2,'uSampler');wwtlib.Tile.uvMultiple=1;wwtlib.Tile.demEnabled=true;$0.enable(3042);$0.blendFunc(770,771);wwtlib.TileShader.initialized=true;}
wwtlib.TileShader.use=function(renderContext,vertex,index,texture){var $0=renderContext.gl;if($0!=null){if(!wwtlib.TileShader.initialized){wwtlib.TileShader.init(renderContext);}$0.useProgram(wwtlib.TileShader.$2);var $1=wwtlib.Matrix3d.multiplyMatrix(renderContext.get_world(),renderContext.get_view());$0.uniformMatrix4fv(wwtlib.TileShader.mvMatLoc,false,$1.floatArray());$0.uniformMatrix4fv(wwtlib.TileShader.projMatLoc,false,renderContext.get_projection().floatArray());$0.uniform1i(wwtlib.TileShader.sampLoc,0);if(renderContext.space){$0.disable(2929);}else{$0.enable(2929);}$0.enableVertexAttribArray(wwtlib.TileShader.vertLoc);$0.enableVertexAttribArray(wwtlib.TileShader.textureLoc);$0.bindBuffer(34962,vertex);$0.vertexAttribPointer(wwtlib.TileShader.vertLoc,3,5126,false,20,0);$0.vertexAttribPointer(wwtlib.TileShader.textureLoc,2,5126,false,20,12);$0.activeTexture(33984);$0.bindTexture(3553,texture);$0.bindBuffer(34963,index);$0.blendFunc(770,771);}}
wwtlib.TextShader=function(){}
wwtlib.TextShader.init=function(renderContext){var $0=renderContext.gl;var $1=' precision mediump float;                                                              \n'+'                                                                                       \n'+'   varying vec2 vTextureCoord;                                                         \n'+'                                                                                       \n'+'   uniform sampler2D uSampler;                                                         \n'+'                                                                                       \n'+'   void main(void) {                                                                   \n'+'   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));         \n'+'   }                                                                                   \n';var $2='     attribute vec3 aVertexPosition;                                              \n'+'     attribute vec2 aTextureCoord;                                                \n'+'                                                                                  \n'+'     uniform mat4 uMVMatrix;                                                      \n'+'     uniform mat4 uPMatrix;                                                       \n'+'                                                                                  \n'+'     varying vec2 vTextureCoord;                                                  \n'+'                                                                                  \n'+'                                                                                  \n'+'     void main(void) {                                                            \n'+'         gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);         \n'+'         vTextureCoord = aTextureCoord;                                           \n'+'     }                                                                            \n'+'                                                                                  \n';wwtlib.TextShader.$0=$0.createShader(35632);$0.shaderSource(wwtlib.TextShader.$0,$1);$0.compileShader(wwtlib.TextShader.$0);var $3=$0.getShaderParameter(wwtlib.TextShader.$0,35713);wwtlib.TextShader.$1=$0.createShader(35633);$0.shaderSource(wwtlib.TextShader.$1,$2);$0.compileShader(wwtlib.TextShader.$1);var $4=$0.getShaderParameter(wwtlib.TextShader.$1,35713);wwtlib.TextShader.$2=$0.createProgram();$0.attachShader(wwtlib.TextShader.$2,wwtlib.TextShader.$1);$0.attachShader(wwtlib.TextShader.$2,wwtlib.TextShader.$0);$0.linkProgram(wwtlib.TextShader.$2);var $5=$0.getProgramParameter(wwtlib.TextShader.$2,35714);$0.useProgram(wwtlib.TextShader.$2);wwtlib.TextShader.vertLoc=$0.getAttribLocation(wwtlib.TextShader.$2,'aVertexPosition');wwtlib.TextShader.textureLoc=$0.getAttribLocation(wwtlib.TextShader.$2,'aTextureCoord');wwtlib.TextShader.projMatLoc=$0.getUniformLocation(wwtlib.TextShader.$2,'uPMatrix');wwtlib.TextShader.mvMatLoc=$0.getUniformLocation(wwtlib.TextShader.$2,'uMVMatrix');wwtlib.TextShader.sampLoc=$0.getUniformLocation(wwtlib.TextShader.$2,'uSampler');wwtlib.Tile.uvMultiple=1;wwtlib.Tile.demEnabled=true;$0.enable(3042);$0.blendFunc(770,771);wwtlib.TextShader.initialized=true;}
wwtlib.TextShader.use=function(renderContext,vertex,texture){var $0=renderContext.gl;if($0!=null){if(!wwtlib.TextShader.initialized){wwtlib.TextShader.init(renderContext);}$0.useProgram(wwtlib.TextShader.$2);var $1=wwtlib.Matrix3d.multiplyMatrix(renderContext.get_world(),renderContext.get_view());$0.uniformMatrix4fv(wwtlib.TextShader.mvMatLoc,false,$1.floatArray());$0.uniformMatrix4fv(wwtlib.TextShader.projMatLoc,false,renderContext.get_projection().floatArray());$0.uniform1i(wwtlib.TextShader.sampLoc,0);if(renderContext.space){$0.disable(2929);}else{$0.enable(2929);}$0.enableVertexAttribArray(wwtlib.TextShader.vertLoc);$0.enableVertexAttribArray(wwtlib.TextShader.textureLoc);$0.bindBuffer(34962,vertex);$0.vertexAttribPointer(wwtlib.TextShader.vertLoc,3,5126,false,20,0);$0.vertexAttribPointer(wwtlib.TextShader.textureLoc,2,5126,false,20,12);$0.activeTexture(33984);$0.bindTexture(3553,texture);$0.blendFunc(770,771);}}
wwtlib.Tessellator=function(){}
wwtlib.Tessellator.tesselateSimplePoly=function(inputList){var $0=[];var $1=new wwtlib.Tessellator();$1.process(inputList,$0);return $0;}
wwtlib.Tessellator.prototype={$0:function($p0,$p1,$p2){$p0.normalize();$p1.normalize();var $0=wwtlib.Vector3d.cross($p0,$p1);var $1=wwtlib.Vector3d.dot($0,$p2);return $1>0;},$1:function($p0,$p1,$p2,$p3){if(!this.$0($p0,$p1,$p3)){return false;}if(!this.$0($p1,$p2,$p3)){return false;}if(!this.$0($p2,$p0,$p3)){return false;}return true;},$2:function($p0,$p1,$p2,$p3,$p4,$p5){var $0;var $1=$p0[$p5[$p1]].copy();var $2=$p0[$p5[$p2]].copy();var $3=$p0[$p5[$p3]].copy();var $4;var $5=wwtlib.Vector3d.subtractVectors($2,$1);$5.normalize();var $6=wwtlib.Vector3d.subtractVectors($2,$3);$6.normalize();var $7=wwtlib.Vector3d.cross($5,$6);var $8=$2.copy();$8.normalize();if(wwtlib.Vector3d.dot($7,$8)>0){return false;}for($0=0;$0<$p4;$0++){if(($0===$p1)||($0===$p2)||($0===$p3)){continue;}$4=$p0[$p5[$0]].copy();if(this.$1($1,$2,$3,$4)){return false;}}return true;},process:function(poly,result){var $0=poly.length;if(poly.length<3){return false;}var $1=new Array(poly.length);for(var $4=0;$4<$0;$4++){$1[$4]=$4;}var $2=$0;var $3=2*$2;for(var $5=0,$6=$2-1;$2>2;){if(0>=($3--)){return false;}var $7=$6;if($2<=$7){$7=0;}$6=$7+1;if($2<=$6){$6=0;}var $8=$6+1;if($2<=$8){$8=0;}if(this.$2(poly,$7,$6,$8,$2,$1)){var $9,$A;result.add($1[$7]);result.add($1[$6]);result.add($1[$8]);$5++;for($9=$6,$A=$6+1;$A<$2;$9++,$A++){$1[$9]=$1[$A];}$2--;$3=2*$2;}}return true;}}
wwtlib.Texture=function(){}
wwtlib.Texture.prototype={imageElement:null,texture2d:null,$0:false,$1:false,$2:false,URL:'',load:function(url){this.URL=url;if(!this.$0){this.$0=true;this.imageElement=document.createElement('img');var $0=this.imageElement;this.imageElement.addEventListener('load',ss.Delegate.create(this,function($p1_0){
this.$1=true;this.$0=false;this.$2=false;this.makeTexture();}),false);this.imageElement.addEventListener('error',ss.Delegate.create(this,function($p1_0){
this.$0=false;this.$1=false;this.$2=true;}),false);$0.crossOrigin='anonymous';this.imageElement.src=this.URL;}},makeTexture:function(){if(wwtlib.Tile.prepDevice!=null){try{this.texture2d=wwtlib.Tile.prepDevice.createTexture();wwtlib.Tile.prepDevice.bindTexture(3553,this.texture2d);var $0=this.imageElement;if((!this.$3(this.imageElement.height)|!this.$3(this.imageElement.width))===1){var $1=document.createElement('canvas');$1.height=this.$4($0.height);$1.width=this.$4($0.width);var $2=$1.getContext('2d');$2.drawImage($0,0,0,$0.width,$0.height);$0=$1;}wwtlib.Tile.prepDevice.texParameteri(3553,10242,33071);wwtlib.Tile.prepDevice.texParameteri(3553,10243,33071);wwtlib.Tile.prepDevice.texImage2D(3553,0,6408,6408,5121,$0);wwtlib.Tile.prepDevice.texParameteri(3553,10241,9985);wwtlib.Tile.prepDevice.generateMipmap(3553);wwtlib.Tile.prepDevice.bindTexture(3553,null);}catch($3){this.$2=true;}}},$3:function($p0){return !($p0&($p0-1));},$4:function($p0){$p0--;for(var $0=1;$0<32;$0<<=1){$p0=$p0|$p0>>$0;}return $p0+1;}}
wwtlib.Grids=function(){}
wwtlib.Grids.drawEquitorialGrid=function(renderContext,opacity,drawColor){if(wwtlib.Grids.$0==null){wwtlib.Grids.$0=new wwtlib.SimpleLineList();wwtlib.Grids.$0.set_depthBuffered(false);for(var $1=0;$1<24;$1++){for(var $2=-80;$2<80;$2+=2){wwtlib.Grids.$0.addLine(wwtlib.Coordinates.raDecTo3dAu($1,$2,1),wwtlib.Coordinates.raDecTo3dAu($1,$2+2,1));}}for(var $3=-80;$3<=80;$3+=10){for(var $4=0;$4<23.8;$4+=0.2){wwtlib.Grids.$0.addLine(wwtlib.Coordinates.raDecTo3dAu($4,$3,1),wwtlib.Coordinates.raDecTo3dAu($4+0.2,$3,1));}}var $0=0;for(var $5=0;$5<24;$5+=0.25){var $6=0.5;switch($0%4){case 0:$0++;continue;case 3:case 1:$6=0.25;break;}$0++;wwtlib.Grids.$0.addLine(wwtlib.Coordinates.raDecTo3dAu($5,$6,1),wwtlib.Coordinates.raDecTo3dAu($5,-$6,1));}$0=0;for(var $7=0;$7<24;$7+=3){$0=0;for(var $8=-80;$8<=80;$8+=1){var $9=0.5/30;switch($0%10){case 0:$0++;continue;case 5:$9=0.5/15;break;}$0++;wwtlib.Grids.$0.addLine(wwtlib.Coordinates.raDecTo3dAu($7+$9,$8,1),wwtlib.Coordinates.raDecTo3dAu($7-$9,$8,1));}}}wwtlib.Grids.$0.drawLines(renderContext,opacity,drawColor);return true;}
wwtlib.Grids.drawEquitorialGridText=function(renderContext,opacity,drawColor){wwtlib.Grids.$2();wwtlib.Grids.$1.draw(renderContext,opacity,drawColor);return true;}
wwtlib.Grids.$2=function(){if(wwtlib.Grids.$1==null){wwtlib.Grids.$1=new wwtlib.Text3dBatch(30);var $0=0;for(var $1=0;$1<24;$1++){var $2=$1.toString()+' hr';if($1<10){$2='  '+$1.toString()+' hr';}wwtlib.Grids.$1.add(new wwtlib.Text3d(wwtlib.Coordinates.raDecTo3dAu($1+0.005,0.4,1),wwtlib.Coordinates.raDecTo3dAu($1+0.005,0.5,1),$2,30,6E-05));}$0=0;for(var $3=0;$3<24;$3+=3){for(var $4=-80;$4<=80;$4+=10){if(!$4){continue;}var $5=$4.toString();if($4>0){$5='  +'+$4.toString();wwtlib.Grids.$1.add(new wwtlib.Text3d(wwtlib.Coordinates.raDecTo3dAu($3,$4-0.4,1),wwtlib.Coordinates.raDecTo3dAu($3,$4-0.3,1),$5,30,6E-05));}else{$5='  - '+$5.substr(1);wwtlib.Grids.$1.add(new wwtlib.Text3d(wwtlib.Coordinates.raDecTo3dAu($3,$4+0.4,1),wwtlib.Coordinates.raDecTo3dAu($3,$4+0.5,1),$5,30,6E-05));}$0++;}}}}
wwtlib.Grids.drawEcliptic=function(renderContext,opacity,drawColor){var $0=drawColor;var $1=wwtlib.SpaceTimeController.get_now().getUTCFullYear();if(wwtlib.Grids.$7==null||$1!==wwtlib.Grids.$4){if(wwtlib.Grids.$7!=null){wwtlib.Grids.$7.clear();wwtlib.Grids.$7=null;}wwtlib.Grids.$4=$1;var $2=wwtlib.Coordinates.meanObliquityOfEcliptic(wwtlib.SpaceTimeController.get_jNow());var $3=wwtlib.Matrix3d.$1D((-$2/360*(Math.PI*2)));var $4=365.25;if(DT.isLeap($1,true)){wwtlib.Grids.$5[1]=29;$4=366;}else{wwtlib.Grids.$5[1]=28;$4=365;}var $5=2*parseInt($4);wwtlib.Grids.$3=parseInt($4);var $6=wwtlib.SpaceTimeController.utcToJulian(new Date($1,0,1,12,0,0));var $7=0;var $8=0;wwtlib.Grids.$7=new wwtlib.SimpleLineList();wwtlib.Grids.$7.set_depthBuffered(false);for(var $9=0;$9<12;$9++){var $A=parseInt(wwtlib.Grids.$5[$9]);for(var $B=0;$B<$A;$B++){var $C=wwtlib.Planets.getPlanetLocationJD('Sun',$6);var $D=CT.eq2Ec($C.RA,$C.dec,$2);$8=$D.x;var $E=0.005;if(!$B){$E=0.01;}var $F=$8;wwtlib.Grids.$7.addLine(wwtlib.Vector3d.$1(wwtlib.Vector3d.create(Math.cos(($F*Math.PI*2)/360),$E,Math.sin(($F*Math.PI*2)/360)),$3),wwtlib.Vector3d.$1(wwtlib.Vector3d.create(Math.cos(($F*Math.PI*2)/360),-$E,Math.sin(($F*Math.PI*2)/360)),$3));$7++;$6+=1;}$8+=wwtlib.Grids.$5[$9];}}wwtlib.Grids.$7.drawLines(renderContext,opacity,drawColor);return true;}
wwtlib.Grids.drawEclipticText=function(renderContext,opacity,drawColor){wwtlib.Grids.$A();wwtlib.Grids.$9.draw(renderContext,opacity,drawColor);return true;}
wwtlib.Grids.$A=function(){var $0=wwtlib.SpaceTimeController.get_now().getUTCFullYear();if(wwtlib.Grids.$9==null){wwtlib.Grids.$9=new wwtlib.Text3dBatch(80);wwtlib.Grids.$8=$0;var $1=wwtlib.Coordinates.meanObliquityOfEcliptic(wwtlib.SpaceTimeController.get_jNow());var $2=wwtlib.Matrix3d.$1D((-$1/360*(Math.PI*2)));var $3=365.25;if(DT.isLeap($0,true)){wwtlib.Grids.$5[1]=29;$3=366;}else{wwtlib.Grids.$5[1]=28;$3=365;}var $4=2*parseInt($3);wwtlib.Grids.$3=parseInt($3);var $5=wwtlib.SpaceTimeController.utcToJulian(new Date($0,0,1,12,0,0));var $6=0;var $7=0;for(var $8=0;$8<12;$8++){var $9=parseInt(wwtlib.Grids.$5[$8]);for(var $A=0;$A<$9;$A++){var $B=wwtlib.Planets.getPlanetLocationJD('Sun',$5);var $C=CT.eq2Ec($B.RA,$B.dec,$1);$7=$C.x;var $D=$7;if($A===Math.floor($9/2)){var $E=wwtlib.Vector3d.$1(wwtlib.Vector3d.create(Math.cos(($D*Math.PI*2)/360),0.025,Math.sin(($D*Math.PI*2)/360)),$2);var $F=wwtlib.Vector3d.$1(wwtlib.Vector3d.create(Math.cos(($D*Math.PI*2)/360),0.045,Math.sin(($D*Math.PI*2)/360)),$2);$F.subtract($E);$F.normalize();wwtlib.Grids.$9.add(new wwtlib.Text3d($E,$F,wwtlib.Grids.$6[$8],80,0.000159375));}$6++;$6++;$5+=1;}$7+=wwtlib.Grids.$5[$8];}}}
wwtlib.Grids.drawPrecessionChart=function(renderContext,opacity,drawColor){wwtlib.Grids.$D();wwtlib.Grids.$C.draw(renderContext,opacity,drawColor);wwtlib.Grids.$B.drawLines(renderContext,opacity,drawColor);return true;}
wwtlib.Grids.$D=function(){var $0=wwtlib.Coordinates.meanObliquityOfEcliptic(wwtlib.SpaceTimeController.get_jNow());var $1=wwtlib.Matrix3d.$1D(($0/360*(Math.PI*2)));var $2=wwtlib.Colors.get_white();if(wwtlib.Grids.$B==null){wwtlib.Grids.$B=new wwtlib.SimpleLineList();wwtlib.Grids.$B.set_depthBuffered(false);for(var $3=0;$3<360;$3++){var $4=90-$0;wwtlib.Grids.$B.addLine(wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($3/15,$4,1),$1),wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu(($3+1)/15,$4,1),$1));}for(var $5=-12000;$5<13000;$5+=2000){var $6=90-$0;var $7=-(($5-2000)/25772*24)-6;wwtlib.Grids.$B.addLine(wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($7,$6-0.5,1),$1),wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($7,$6+0.5,1),$1));}}if(wwtlib.Grids.$C==null){wwtlib.Grids.$C=new wwtlib.Text3dBatch(50);var $8=0;for(var $9=-12000;$9<13000;$9+=2000){var $A=90-$0+3;var $B=-(($9-2000)/25772*24)-6;var $C=$9.toString();if(!$9){$A=90-$0+2;$C='1 CE';}else if($9<0){$C='  '+Math.abs($9).toString()+' BCE';}else{$C=Math.abs($9).toString()+' CE';}if($C.length===9){$C='   '+$C;}wwtlib.Grids.$C.add(new wwtlib.Text3d(wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($B,$A,1),$1),wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($B+0.01,$A,1),$1),$C,80,9E-05));}}return;}
wwtlib.Grids.drawAltAzGrid=function(renderContext,opacity,drawColor){var $0=new wwtlib.Coordinates(0,0);var $1=wwtlib.Coordinates.horizonToEquitorial($0,wwtlib.SpaceTimeController.get_location(),wwtlib.SpaceTimeController.get_now());var $2=-(($1.get_RA()+6)/24*(Math.PI*2));var $3=-($1.get_dec()/360*(Math.PI*2));var $4=wwtlib.Coordinates.formatDMS($1.get_RA());var $5=wwtlib.Matrix3d.$1C(-$2);$5.$21(wwtlib.Matrix3d.$1D($3));$5.invert();if(wwtlib.Grids.$E==null){wwtlib.Grids.$E=new wwtlib.SimpleLineList();wwtlib.Grids.$E.set_depthBuffered(false);for(var $9=0;$9<360;$9+=10){for(var $A=-80;$A<80;$A+=2){wwtlib.Grids.$E.addLine(wwtlib.Coordinates.raDecTo3dAu($9/15,$A,1),wwtlib.Coordinates.raDecTo3dAu($9/15,$A+2,1));}}for(var $B=-80;$B<=80;$B+=10){for(var $C=0;$C<360;$C+=5){wwtlib.Grids.$E.addLine(wwtlib.Coordinates.raDecTo3dAu($C/15,$B,1),wwtlib.Coordinates.raDecTo3dAu(($C+5)/15,$B,1));}}var $8=0;for(var $D=0;$D<360;$D+=1){var $E=0.25;switch($8%10){case 0:$8++;continue;case 5:$E=0.5;break;}$8++;wwtlib.Grids.$E.addLine(wwtlib.Coordinates.raDecTo3dAu($D/15,$E,1),wwtlib.Coordinates.raDecTo3dAu($D/15,-$E,1));}$8=0;for(var $F=0;$F<360;$F+=90){$8=0;for(var $10=-80;$10<=80;$10+=1){var $11=0.5/2;switch($8%10){case 0:$8++;continue;case 5:$11=0.5;break;}$8++;wwtlib.Grids.$E.addLine(wwtlib.Coordinates.raDecTo3dAu(($F+$11)/15,$10,1),wwtlib.Coordinates.raDecTo3dAu(($F-$11)/15,$10,1));}}}var $6=renderContext.get_world().clone();var $7=renderContext.get_worldBase().clone();renderContext.set_worldBase(wwtlib.Matrix3d.multiplyMatrix($5,renderContext.get_world()));renderContext.set_world(renderContext.get_worldBase().clone());renderContext.makeFrustum();wwtlib.Grids.$E.viewTransform=wwtlib.Matrix3d.invertMatrix($5);wwtlib.Grids.$E.drawLines(renderContext,opacity,drawColor);renderContext.set_worldBase($7);renderContext.set_world($6);renderContext.makeFrustum();return true;}
wwtlib.Grids.drawAltAzGridText=function(renderContext,opacity,drawColor){var $0=new wwtlib.Coordinates(0,0);var $1=wwtlib.Coordinates.horizonToEquitorial($0,wwtlib.SpaceTimeController.get_location(),wwtlib.SpaceTimeController.get_now());var $2=-(($1.get_RA()-6)/24*(Math.PI*2));var $3=-($1.get_dec()/360*(Math.PI*2));var $4=wwtlib.Coordinates.formatDMS($1.get_RA());var $5=wwtlib.Matrix3d.$1C(-$2-Math.PI);$5.$21(wwtlib.Matrix3d.$1D($3));$5.invert();wwtlib.Grids.$10();var $6=renderContext.get_world().clone();var $7=renderContext.get_worldBase().clone();renderContext.set_worldBase(wwtlib.Matrix3d.multiplyMatrix($5,renderContext.get_world()));renderContext.set_world(renderContext.get_worldBase().clone());renderContext.makeFrustum();wwtlib.Grids.$F.viewTransform=wwtlib.Matrix3d.invertMatrix($5);wwtlib.Grids.$F.draw(renderContext,opacity,drawColor);renderContext.set_worldBase($7);renderContext.set_world($6);renderContext.makeFrustum();return true;}
wwtlib.Grids.$10=function(){var $0=wwtlib.Colors.get_white();var $1=0;if(wwtlib.Grids.$F==null){wwtlib.Grids.$F=new wwtlib.Text3dBatch(30);for(var $2=0;$2<360;$2+=10){var $3='       '+$2.toString();if($2<10){$3='   '+$2.toString();}else if($2<100){$3='     '+$2.toString();}var $4=360-$2;wwtlib.Grids.$F.add(new wwtlib.Text3d(wwtlib.Coordinates.raDecTo3dAu($4/15-6,0.4,1),wwtlib.Coordinates.raDecTo3dAu($4/15-6,0.5,1),$3,80,6E-05));}$1=0;for(var $5=0;$5<360;$5+=90){for(var $6=-80;$6<=80;$6+=10){if(!$6){continue;}var $7=$6.toString();if($6>0){$7='  +'+$6.toString();wwtlib.Grids.$F.add(new wwtlib.Text3d(wwtlib.Coordinates.raDecTo3dAu($5/15,$6-0.4,1),wwtlib.Coordinates.raDecTo3dAu($5/15,$6-0.3,1),$7,80,6E-05));}else{$7='  - '+$7.substr(1);wwtlib.Grids.$F.add(new wwtlib.Text3d(wwtlib.Coordinates.raDecTo3dAu($5/15,$6+0.4,1),wwtlib.Coordinates.raDecTo3dAu($5/15,$6+0.5,1),$7,80,6E-05));}$1++;}}}return;}
wwtlib.Grids.drawEclipticGrid=function(renderContext,opacity,drawColor){if(wwtlib.Grids.$11==null){wwtlib.Grids.$11=new wwtlib.SimpleLineList();wwtlib.Grids.$11.set_depthBuffered(false);var $0=wwtlib.Coordinates.meanObliquityOfEcliptic(2451545);var $1=wwtlib.Matrix3d.$1D((-$0/360*(Math.PI*2)));for(var $3=0;$3<360;$3+=10){for(var $4=-80;$4<80;$4+=2){wwtlib.Grids.$11.addLine(wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($3/15,$4,1),$1),wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($3/15,$4+2,1),$1));}}for(var $5=-80;$5<=80;$5+=10){for(var $6=0;$6<360;$6+=5){wwtlib.Grids.$11.addLine(wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($6/15,$5,1),$1),wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu(($6+5)/15,$5,1),$1));}}var $2=0;for(var $7=0;$7<360;$7+=1){var $8=0.25;switch($2%10){case 0:$2++;continue;case 5:$8=0.5;break;}$2++;wwtlib.Grids.$11.addLine(wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($7/15,$8,1),$1),wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($7/15,-$8,1),$1));}$2=0;for(var $9=0;$9<360;$9+=90){$2=0;for(var $A=-80;$A<=80;$A+=1){var $B=0.5/2;switch($2%10){case 0:$2++;continue;case 5:$B=0.5;break;}$2++;wwtlib.Grids.$11.addLine(wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu(($9+$B)/15,$A,1),$1),wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu(($9-$B)/15,$A,1),$1));}}}wwtlib.Grids.$11.drawLines(renderContext,opacity,drawColor);return true;}
wwtlib.Grids.drawEclipticGridText=function(renderContext,opacity,drawColor){wwtlib.Grids.$13();wwtlib.Grids.$12.draw(renderContext,opacity,drawColor);return true;}
wwtlib.Grids.$13=function(){var $0=wwtlib.Colors.get_white();var $1=wwtlib.Coordinates.meanObliquityOfEcliptic(wwtlib.SpaceTimeController.get_jNow());var $2=wwtlib.Matrix3d.$1D((-$1/360*(Math.PI*2)));if(wwtlib.Grids.$12==null){wwtlib.Grids.$12=new wwtlib.Text3dBatch(30);for(var $3=0;$3<360;$3+=10){var $4='       '+$3.toString();if($3<10){$4='   '+$3.toString();}else if($3<100){$4='     '+$3.toString();}wwtlib.Grids.$12.add(new wwtlib.Text3d(wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($3/15,0.4,1),$2),wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($3/15,0.5,1),$2),$4,80,6E-05));}for(var $5=0;$5<360;$5+=90){for(var $6=-80;$6<=80;$6+=10){if(!$6){continue;}var $7=$6.toString();if($6>0){$7='  +'+$6.toString();wwtlib.Grids.$12.add(new wwtlib.Text3d(wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($5/15,$6-0.4,1),$2),wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($5/15,$6-0.3,1),$2),$7,80,6E-05));}else{$7='  - '+$7.substr(1);wwtlib.Grids.$12.add(new wwtlib.Text3d(wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($5/15,$6+0.4,1),$2),wwtlib.Vector3d.$1(wwtlib.Coordinates.raDecTo3dAu($5/15,$6+0.5,1),$2),$7,80,6E-05));}}}}return;}
wwtlib.Grids.drawGalacticGrid=function(renderContext,opacity,drawColor){if(wwtlib.Grids.$14==null){wwtlib.Grids.$14=new wwtlib.SimpleLineList();wwtlib.Grids.$14.set_depthBuffered(false);for(var $1=0;$1<360;$1+=10){for(var $2=-80;$2<80;$2+=2){wwtlib.Grids.$14.addLine(wwtlib.Coordinates.galacticTo3dDouble($1,$2),wwtlib.Coordinates.galacticTo3dDouble($1,$2+2));}}for(var $3=-80;$3<=80;$3+=10){for(var $4=0;$4<360;$4+=5){wwtlib.Grids.$14.addLine(wwtlib.Coordinates.galacticTo3dDouble($4,$3),wwtlib.Coordinates.galacticTo3dDouble($4+5,$3));}}var $0=0;for(var $5=0;$5<360;$5+=1){var $6=0.25;switch($0%10){case 0:$0++;continue;case 5:$6=0.5;break;}$0++;wwtlib.Grids.$14.addLine(wwtlib.Coordinates.galacticTo3dDouble($5,$6),wwtlib.Coordinates.galacticTo3dDouble($5,-$6));}$0=0;for(var $7=0;$7<360;$7+=90){$0=0;for(var $8=-80;$8<=80;$8+=1){var $9=0.5/2;switch($0%10){case 0:$0++;continue;case 5:$9=0.5;break;}$0++;wwtlib.Grids.$14.addLine(wwtlib.Coordinates.galacticTo3dDouble($7+$9,$8),wwtlib.Coordinates.galacticTo3dDouble($7-$9,$8));}}}wwtlib.Grids.$14.drawLines(renderContext,opacity,drawColor);return true;}
wwtlib.Grids.drawGalacticGridText=function(renderContext,opacity,drawColor){wwtlib.Grids.$16();wwtlib.Grids.$15.draw(renderContext,opacity,drawColor);return true;}
wwtlib.Grids.$16=function(){if(wwtlib.Grids.$15==null){wwtlib.Grids.$15=new wwtlib.Text3dBatch(30);for(var $0=0;$0<360;$0+=10){var $1='       '+$0.toString();if($0<10){$1='   '+$0.toString();}else if($0<100){$1='     '+$0.toString();}wwtlib.Grids.$15.add(new wwtlib.Text3d(wwtlib.Coordinates.galacticTo3dDouble($0,0.4),wwtlib.Coordinates.galacticTo3dDouble($0,0.5),$1,80,6E-05));}for(var $2=0;$2<360;$2+=90){for(var $3=-80;$3<=80;$3+=10){if(!$3){continue;}var $4=$3.toString();if($3>0){$4='  +'+$3.toString();wwtlib.Grids.$15.add(new wwtlib.Text3d(wwtlib.Coordinates.galacticTo3dDouble($2,$3-0.4),wwtlib.Coordinates.galacticTo3dDouble($2,$3-0.3),$4,80,6E-05));}else{$4='  - '+$4.substr(1);wwtlib.Grids.$15.add(new wwtlib.Text3d(wwtlib.Coordinates.galacticTo3dDouble($2,$3+0.4),wwtlib.Coordinates.galacticTo3dDouble($2,$3+0.5),$4,80,6E-05));}}}}}
wwtlib.GreatCirlceRouteLayer=function(){wwtlib.GreatCirlceRouteLayer.initializeBase(this);}
wwtlib.GreatCirlceRouteLayer.prototype={$B:null,cleanUp:function(){if(this.$B!=null){this.$B.clear();}this.$B=null;wwtlib.GreatCirlceRouteLayer.callBaseMethod(this, 'cleanUp');},draw:function(renderContext,opacity,flat){if(this.$B==null){this.$C(renderContext);}this.$B.jNow=this.$12/100;this.$B.draw(renderContext,opacity*this.get_opacity(),2);return true;},$C:function($p0){this.$B=new wwtlib.TriangleList();this.$B.decay=1000;this.$B.sky=this.get_astronomical();this.$B.timeSeries=true;this.$B.depthBuffered=false;this.$B.autoTime=false;var $0=500;var $1=wwtlib.Coordinates.geoTo3dDouble(this.$D,this.$E);var $2=wwtlib.Coordinates.geoTo3dDouble(this.$F,this.$10);var $3=wwtlib.Vector3d.subtractVectors($2,$1);$3.normalize();var $4=$1;$4.normalize();var $5=wwtlib.Vector3d.cross($4,$3);var $6=wwtlib.Vector3d.cross($3,$4);$5.normalize();$6.normalize();$5.multiply(0.001*this.$11);$6.multiply(0.001*this.$11);var $7=new wwtlib.Vector3d();var $8=new wwtlib.Vector3d();var $9=true;for(var $A=0;$A<=$0;$A++){var $B=wwtlib.Vector3d.lerp($1,$2,$A/$0);$B.normalize();var $C=$B;var $D=$B;$C.add($5);$D.add($6);if(!$9){this.$B.addQuad($8,$7,$D,$C,this.get_color(),new wwtlib.Dates($A/$0,2));}else{$9=false;}$7=$C;$8=$D;}},getParams:function(){return [this.$12];},getParamNames:function(){return ['Percentage'];},setParams:function(paramList){if(paramList.length>0){this.$12=paramList[0];}},$D:0,get_latStart:function(){return this.$D;},set_latStart:function(value){if(this.$D!==value){this.$D=value;this.version++;}return value;},$E:0,get_lngStart:function(){return this.$E;},set_lngStart:function(value){if(this.$E!==value){this.$E=value;this.version++;}return value;},$F:0,get_latEnd:function(){return this.$F;},set_latEnd:function(value){if(this.$F!==value){this.$F=value;this.version++;}return value;},$10:0,get_lngEnd:function(){return this.$10;},set_lngEnd:function(value){if(this.$10!==value){this.$10=value;this.version++;}return value;},$11:4,get_width:function(){return this.$11;},set_width:function(value){if(this.$11!==value){this.$11=value;this.version++;}return value;},$12:100,get_percentComplete:function(){return this.$12;},set_percentComplete:function(value){if(this.$12!==value){this.$12=value;this.version++;}return value;},initializeFromXml:function(node){this.$D=parseFloat(node.attributes.getNamedItem('LatStart').nodeValue);this.$E=parseFloat(node.attributes.getNamedItem('LngStart').nodeValue);this.$F=parseFloat(node.attributes.getNamedItem('LatEnd').nodeValue);this.$10=parseFloat(node.attributes.getNamedItem('LngEnd').nodeValue);this.$11=parseFloat(node.attributes.getNamedItem('Width').nodeValue);this.$12=parseFloat(node.attributes.getNamedItem('PercentComplete').nodeValue);}}
wwtlib.ImageSetLayer=function(){wwtlib.ImageSetLayer.initializeBase(this);}
wwtlib.Layer=function(){this.id=wwtlib.Guid.newGuid();this.$1=Date.parseDate('01/01/2100');this.$2=Date.parseDate('01/01/1900');this.$4=4;this.$7=wwtlib.Colors.get_white();}
wwtlib.Layer.$9=function($p0,$p1){var $0=$p0.attributes.getNamedItem('Type').nodeValue;var $1=$0.replaceAll('TerraViewer.','');if($1==null){return null;}var $2=null;switch($1){case 'SpreadSheetLayer':$2=new wwtlib.wwtlib$D();break;case 'GreatCirlceRouteLayer':$2=new wwtlib.GreatCirlceRouteLayer();break;default:return null;}$2.$A($p0);return $2;}
wwtlib.Layer.prototype={getPrimaryUI:function(){return null;},loadedFromTour:false,tourDocument:null,getFileStreamUrl:function(filename){if(this.tourDocument!=null){return this.tourDocument.getFileStream(filename);}return null;},$0:1,get_opacity:function(){return this.$0;},set_opacity:function(value){if(this.$0!==value){this.version++;this.$0=value;}return value;},opened:false,get_opened:function(){return this.opened;},set_opened:function(value){if(this.opened!==value){this.version++;this.opened=value;}return value;},get_startTime:function(){return this.$1;},set_startTime:function(value){if(this.$1!==value){this.version++;this.$1=value;}return value;},get_endTime:function(){return this.$2;},set_endTime:function(value){if(this.$2!==value){this.version++;this.$2=value;}return value;},$3:0,get_fadeSpan:function(){return this.$3;},set_fadeSpan:function(value){this.version++;this.$3=value;return value;},get_fadeType:function(){return this.$4;},set_fadeType:function(value){if(this.$4!==value){this.set_version(this.get_version()+1)-1;this.$4=value;}return value;},version:0,get_version:function(){return this.version;},set_version:function(value){this.version=value;return value;},findClosest:function(target,distance,closestPlace,astronomical){return closestPlace;},hoverCheckScreenSpace:function(cursor){return false;},clickCheckScreenSpace:function(cursor){return false;},draw:function(renderContext,opacity,flat){return true;},preDraw:function(renderContext,opacity){return true;},upadteData:function(data,purgeOld,purgeAll,hasHeader){return true;},canCopyToClipboard:function(){return false;},copyToClipboard:function(){return;},getParams:function(){return new Array(0);},setParams:function(paramList){},getParamNames:function(){return new Array(0);},cleanUp:function(){},$5:null,get_name:function(){return this.$5;},set_name:function(value){if(this.$5!==value){this.version++;this.$5=value;}return value;},toString:function(){return this.$5;},$6:null,get_referenceFrame:function(){return this.$6;},set_referenceFrame:function(value){this.$6=value;return value;},getProps:function(){return '';},get_color:function(){return this.$7;},set_color:function(value){if(this.$7!==value){this.$7=value;this.version++;this.cleanUp();}return value;},get_colorValue:function(){return this.get_color().toString();},set_colorValue:function(value){this.set_color(wwtlib.Color.fromName(value));return value;},$8:true,get_enabled:function(){return this.$8;},set_enabled:function(value){if(this.$8!==value){this.version++;this.$8=value;}return value;},astronomical:false,get_astronomical:function(){return this.astronomical;},set_astronomical:function(value){if(this.astronomical!==value){this.version++;this.astronomical=value;}return value;},saveToXml:function(xmlWriter){},initializeFromXml:function(node){},$A:function($p0){this.id=wwtlib.Guid.fromString($p0.attributes.getNamedItem('Id').nodeValue);this.set_name($p0.attributes.getNamedItem('Name').nodeValue);this.$6=$p0.attributes.getNamedItem('ReferenceFrame').nodeValue;this.$7=wwtlib.Color.load($p0.attributes.getNamedItem('Color').nodeValue);this.$0=parseFloat($p0.attributes.getNamedItem('Opacity').nodeValue);if($p0.attributes.getNamedItem('StartTime')!=null){this.set_startTime(new Date($p0.attributes.getNamedItem('StartTime').nodeValue));}if($p0.attributes.getNamedItem('EndTime')!=null){this.set_endTime(new Date($p0.attributes.getNamedItem('EndTime').nodeValue));}if($p0.attributes.getNamedItem('FadeSpan')!=null){this.set_fadeSpan(wwtlib._Util.$4($p0.attributes.getNamedItem('FadeSpan').nodeValue));}if($p0.attributes.getNamedItem('FadeType')!=null){switch($p0.attributes.getNamedItem('FadeType').nodeValue){case 'In':this.set_fadeType(1);break;case 'Out':this.set_fadeType(2);break;case 'Both':this.set_fadeType(3);break;case 'None':this.set_fadeType(4);break;default:break;}}this.initializeFromXml($p0);},loadData:function(path){return;}}
wwtlib.wwtlib$C=function(){wwtlib.wwtlib$C.initializeBase(this);}
wwtlib.wwtlib$C.prototype={draw:function($p0,$p1,$p2){return wwtlib.wwtlib$C.callBaseMethod(this, 'draw',[$p0,$p1,false]);}}
wwtlib.DomainValue=function(text,markerIndex){this.text=text;this.markerIndex=markerIndex;}
wwtlib.DomainValue.prototype={text:null,markerIndex:4,customMarker:null}
wwtlib.LayerManager=function(){}
wwtlib.LayerManager.get_version=function(){return wwtlib.LayerManager.$0;}
wwtlib.LayerManager.set_version=function(value){wwtlib.LayerManager.$0=value;return value;}
wwtlib.LayerManager.get_tourLayers=function(){return wwtlib.LayerManager.$1;}
wwtlib.LayerManager.set_tourLayers=function(value){if(wwtlib.LayerManager.$1!==value&&!value){wwtlib.LayerManager.$A();wwtlib.LayerManager.$1=value;wwtlib.LayerManager.loadTree();}else if(wwtlib.LayerManager.$1!==value&&!!value){wwtlib.LayerManager.$1=value;wwtlib.LayerManager.initLayers();}return value;}
wwtlib.LayerManager.loadTree=function(){}
wwtlib.LayerManager.get_layerMaps=function(){if(wwtlib.LayerManager.get_tourLayers()){return wwtlib.LayerManager.$3;}else{return wwtlib.LayerManager.$2;}}
wwtlib.LayerManager.set_layerMaps=function(value){if(wwtlib.LayerManager.get_tourLayers()){wwtlib.LayerManager.$3=value;}else{wwtlib.LayerManager.$2=value;}return value;}
wwtlib.LayerManager.get_allMaps=function(){if(wwtlib.LayerManager.get_tourLayers()){return wwtlib.LayerManager.$5;}else{return wwtlib.LayerManager.$4;}}
wwtlib.LayerManager.set_allMaps=function(value){if(wwtlib.LayerManager.get_tourLayers()){wwtlib.LayerManager.$5=value;}else{wwtlib.LayerManager.$4=value;}return value;}
wwtlib.LayerManager.get_currentMap=function(){return wwtlib.LayerManager.$6;}
wwtlib.LayerManager.set_currentMap=function(value){wwtlib.LayerManager.$6=value;return value;}
wwtlib.LayerManager.get_layerList=function(){if(wwtlib.LayerManager.get_tourLayers()){return wwtlib.LayerManager.$8;}else{return wwtlib.LayerManager.$7;}}
wwtlib.LayerManager.set_layerList=function(value){if(wwtlib.LayerManager.get_tourLayers()){wwtlib.LayerManager.$8=value;}else{wwtlib.LayerManager.$7=value;}return value;}
wwtlib.LayerManager.initLayers=function(){wwtlib.LayerManager.$A();wwtlib.LayerManager.get_layerMaps()['Sun']=new wwtlib.LayerMap('Sun',3);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Mercury']=new wwtlib.LayerMap('Mercury',4);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Venus']=new wwtlib.LayerMap('Venus',5);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Earth']=new wwtlib.LayerMap('Earth',6);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Earth'].childMaps['Moon']=new wwtlib.LayerMap('Moon',13);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Mars']=new wwtlib.LayerMap('Mars',7);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Jupiter']=new wwtlib.LayerMap('Jupiter',8);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Jupiter'].childMaps['Io']=new wwtlib.LayerMap('Io',14);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Jupiter'].childMaps['Europa']=new wwtlib.LayerMap('Europa',15);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Jupiter'].childMaps['Ganymede']=new wwtlib.LayerMap('Ganymede',16);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Jupiter'].childMaps['Callisto']=new wwtlib.LayerMap('Callisto',17);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Saturn']=new wwtlib.LayerMap('Saturn',9);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Uranus']=new wwtlib.LayerMap('Uranus',10);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Neptune']=new wwtlib.LayerMap('Neptune',11);wwtlib.LayerManager.get_layerMaps()['Sun'].childMaps['Pluto']=new wwtlib.LayerMap('Pluto',12);wwtlib.LayerManager.get_layerMaps()['Sky']=new wwtlib.LayerMap('Sky',0);wwtlib.LayerManager.get_layerMaps()['Sun'].open=true;Object.clearKeys(wwtlib.LayerManager.get_allMaps());wwtlib.LayerManager.$9(wwtlib.LayerManager.get_layerMaps(),null);wwtlib.LayerManager.$0++;wwtlib.LayerManager.loadTree();}
wwtlib.LayerManager.$9=function($p0,$p1){var $enum1=ss.IEnumerator.getEnumerator(Object.keys($p0));while($enum1.moveNext()){var $0=$enum1.current;var $1=$p0[$0];$1.frame.parent=$p1;wwtlib.LayerManager.get_allMaps()[$1.get_name()]=$1;wwtlib.LayerManager.$9($1.childMaps,$1.get_name());}}
wwtlib.LayerManager.$A=function(){var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.LayerManager.get_layerList()));while($enum1.moveNext()){var $0=$enum1.current;var $1=wwtlib.LayerManager.get_layerList()[$0];$1.cleanUp();}Object.clearKeys(wwtlib.LayerManager.get_layerList());Object.clearKeys(wwtlib.LayerManager.get_layerMaps());}
wwtlib.LayerManager.$B=function(){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.LayerManager.get_layerList()));while($enum1.moveNext()){var $2=$enum1.current;var $3=wwtlib.LayerManager.get_layerList()[$2];if($3.loadedFromTour){$0.add($3.id);}}var $enum2=ss.IEnumerator.getEnumerator($0);while($enum2.moveNext()){var $4=$enum2.current;wwtlib.LayerManager.deleteLayerByID($4,true,false);}var $1=[];var $enum3=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.LayerManager.get_allMaps()));while($enum3.moveNext()){var $5=$enum3.current;var $6=wwtlib.LayerManager.get_allMaps()[$5];if($6.loadedFromTour&&!$6.layers.length){$1.add($6.get_name());}}var $enum4=ss.IEnumerator.getEnumerator($1);while($enum4.moveNext()){var $7=$enum4.current;wwtlib.LayerManager.purgeLayerMapDeep(wwtlib.LayerManager.get_allMaps()[$7],true);}wwtlib.LayerManager.set_version(wwtlib.LayerManager.get_version()+1)-1;wwtlib.LayerManager.loadTree();}
wwtlib.LayerManager.purgeLayerMapDeep=function(target,topLevel){var $enum1=ss.IEnumerator.getEnumerator(target.layers);while($enum1.moveNext()){var $0=$enum1.current;wwtlib.LayerManager.deleteLayerByID($0.id,false,false);}target.layers.clear();var $enum2=ss.IEnumerator.getEnumerator(Object.keys(target.childMaps));while($enum2.moveNext()){var $1=$enum2.current;var $2=target.childMaps[$1];wwtlib.LayerManager.purgeLayerMapDeep($2,false);}Object.clearKeys(target.childMaps);if(topLevel){if(!String.isNullOrEmpty(target.frame.parent)){if(Object.keyExists(wwtlib.LayerManager.get_allMaps(),target.frame.parent)){delete wwtlib.LayerManager.get_allMaps()[target.frame.parent].childMaps[target.get_name()];}}else{if(Object.keyExists(wwtlib.LayerManager.get_layerMaps(),target.get_name())){delete wwtlib.LayerManager.get_layerMaps()[target.get_name()];}}}delete wwtlib.LayerManager.get_allMaps()[target.get_name()];wwtlib.LayerManager.$0++;}
wwtlib.LayerManager.$C=function(){var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.LayerManager.get_layerList()));while($enum1.moveNext()){var $0=$enum1.current;var $1=wwtlib.LayerManager.get_layerList()[$0];if($1.loadedFromTour){$1.loadedFromTour=false;}}}
wwtlib.LayerManager.mergeToursLayers=function(){wwtlib.LayerManager.$1=false;var $0=false;var $1=false;var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.LayerManager.$5));while($enum1.moveNext()){var $2=$enum1.current;var $3=wwtlib.LayerManager.$5[$2];if(!Object.keyExists(wwtlib.LayerManager.$4,$3.get_name())){var $4=new wwtlib.LayerMap($3.get_name(),18);$4.frame=$3.frame;$4.loadedFromTour=true;wwtlib.LayerManager.get_allMaps()[$4.get_name()]=$4;}}wwtlib.LayerManager.connectAllChildren();var $enum2=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.LayerManager.$8));while($enum2.moveNext()){var $5=$enum2.current;var $6=wwtlib.LayerManager.$8[$5];if(Object.keyExists(wwtlib.LayerManager.get_layerList(),$6.id)){if(!$1){if(true){$0=true;}else{$0=false;}$1=true;}if($0){wwtlib.LayerManager.deleteLayerByID($6.id,true,false);}}if(!Object.keyExists(wwtlib.LayerManager.get_layerList(),$6.id)){if(Object.keyExists(wwtlib.LayerManager.get_allMaps(),$6.get_referenceFrame())){wwtlib.LayerManager.get_layerList()[$6.id]=$6;wwtlib.LayerManager.get_allMaps()[$6.get_referenceFrame()].layers.add($6);}}else{$6.cleanUp();}}Object.clearKeys(wwtlib.LayerManager.$8);Object.clearKeys(wwtlib.LayerManager.$5);Object.clearKeys(wwtlib.LayerManager.$3);wwtlib.LayerManager.loadTree();}
wwtlib.LayerManager.connectAllChildren=function(){var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.LayerManager.get_allMaps()));while($enum1.moveNext()){var $0=$enum1.current;var $1=wwtlib.LayerManager.get_allMaps()[$0];if(String.isNullOrEmpty($1.frame.parent)&&!Object.keyExists(wwtlib.LayerManager.get_layerMaps(),$1.frame.name)){wwtlib.LayerManager.get_layerMaps()[$1.get_name()]=$1;}else if(!String.isNullOrEmpty($1.frame.parent)&&Object.keyExists(wwtlib.LayerManager.get_allMaps(),$1.frame.parent)){if(!Object.keyExists(wwtlib.LayerManager.get_allMaps()[$1.frame.parent].childMaps,$1.frame.name)){wwtlib.LayerManager.get_allMaps()[$1.frame.parent].childMaps[$1.frame.name]=$1;}}}}
wwtlib.LayerManager.deleteLayerByID=function(ID,removeFromParent,updateTree){if(Object.keyExists(wwtlib.LayerManager.get_layerList(),ID)){var $0=wwtlib.LayerManager.get_layerList()[ID];$0.cleanUp();if(removeFromParent){wwtlib.LayerManager.get_allMaps()[$0.get_referenceFrame()].layers.remove($0);}delete wwtlib.LayerManager.get_layerList()[ID];wwtlib.LayerManager.$0++;if(updateTree){wwtlib.LayerManager.loadTree();}return true;}else{return false;}}
wwtlib.LayerManager.$D=function(){if(wwtlib.TourPlayer.get_playing()){var $0=wwtlib.WWTControl.singleton.uiController;if($0!=null){var $1=$0.get_tour();if($1.get_currentTourStop()!=null){$0.updateTweenPosition(-1);if(!$1.get_currentTourStop().get_keyFramed()){$1.get_currentTourStop().$55();var $enum1=ss.IEnumerator.getEnumerator(Object.keys($1.get_currentTourStop().layers));while($enum1.moveNext()){var $2=$enum1.current;var $3=$1.get_currentTourStop().layers[$2];if(Object.keyExists(wwtlib.LayerManager.get_layerList(),$3.id)){wwtlib.LayerManager.get_layerList()[$3.id].set_opacity($3.frameOpacity);wwtlib.LayerManager.get_layerList()[$3.id].setParams($3.frameParams);}}}}}}}
wwtlib.LayerManager.$E=function($p0,$p1,$p2,$p3,$p4,$p5){if(!Object.keyExists(wwtlib.LayerManager.get_allMaps(),$p3)){return;}var $0=wwtlib.LayerManager.get_allMaps()[$p3];if(!$0.enabled||(!Object.getKeyCount($0.childMaps)&&!$0.layers.length&&!($0.frame.showAsPoint||$0.frame.showOrbitPath))){return;}if(wwtlib.TourPlayer.get_playing()){var $4=wwtlib.WWTControl.singleton.uiController;if($4!=null){var $5=$4.get_tour();if($5.get_currentTourStop()!=null){$4.updateTweenPosition(-1);$5.get_currentTourStop().$55();var $enum1=ss.IEnumerator.getEnumerator(Object.keys($5.get_currentTourStop().layers));while($enum1.moveNext()){var $6=$enum1.current;var $7=$5.get_currentTourStop().layers[$6];if(Object.keyExists(wwtlib.LayerManager.get_layerList(),$7.id)){wwtlib.LayerManager.get_layerList()[$7.id].set_opacity($7.frameOpacity);wwtlib.LayerManager.get_layerList()[$7.id].setParams($7.frameParams);}}}}}var $1=$p0.get_world();var $2=$p0.get_worldBaseNonRotating();var $3=$p0.get_nominalRadius();if($0.frame.reference===18){$0.computeFrame($p0);if($0.frame.referenceFrameType!==1&&$0.frame.referenceFrameType!==2){$p0.set_world(wwtlib.Matrix3d.multiplyMatrix($0.frame.worldMatrix,$p0.get_world()));}else{$p0.set_world(wwtlib.Matrix3d.multiplyMatrix($0.frame.worldMatrix,$p0.get_worldBaseNonRotating()));}$p0.set_nominalRadius($0.frame.meanRadius);}if($0.frame.showAsPoint){}for(var $8=0;$8<2;$8++){var $enum2=ss.IEnumerator.getEnumerator(wwtlib.LayerManager.get_allMaps()[$p3].layers);while($enum2.moveNext()){var $9=$enum2.current;if((!$8&&Type.canCast($9,wwtlib.ImageSetLayer))||($8===1&&!(Type.canCast($9,wwtlib.ImageSetLayer)))){if($9.get_enabled()){var $A=wwtlib.SpaceTimeController.utcToJulian($9.get_startTime());var $B=wwtlib.SpaceTimeController.utcToJulian($9.get_endTime());var $C=wwtlib.SpaceTimeController.utcToJulian($9.get_startTime())-(($9.get_fadeType()===1||$9.get_fadeType()===3)?($9.get_fadeSpan()/864000000):0);var $D=wwtlib.SpaceTimeController.utcToJulian($9.get_endTime())+(($9.get_fadeType()===2||$9.get_fadeType()===3)?($9.get_fadeSpan()/864000000):0);if(wwtlib.SpaceTimeController.get_jNow()>$C&&wwtlib.SpaceTimeController.get_jNow()<$D){var $E=1;if(wwtlib.SpaceTimeController.get_jNow()<$A){$E=((wwtlib.SpaceTimeController.get_jNow()-$C)/($9.get_fadeSpan()/864000000));}if(wwtlib.SpaceTimeController.get_jNow()>$B){$E=(($D-wwtlib.SpaceTimeController.get_jNow())/($9.get_fadeSpan()/864000000));}$9.set_astronomical($p2);$9.draw($p0,$p1*$E,$p5);}}}}}if($p4){var $enum3=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.LayerManager.get_allMaps()[$p3].childMaps));while($enum3.moveNext()){var $F=$enum3.current;var $10=wwtlib.LayerManager.get_allMaps()[$p3].childMaps[$F];if($10.frame.showOrbitPath&&wwtlib.Settings.get_active().get_solarSystemOrbits()){if($10.frame.referenceFrameType===1){if($10.frame.get_orbit()==null){$10.frame.set_orbit(new wwtlib.Orbit($10.frame.get_elements(),360,$10.frame.get_representativeColor(),1,$p0.get_nominalRadius()));}var $11=$p0.get_world();$p0.set_world(wwtlib.Matrix3d.multiplyMatrix($0.frame.worldMatrix,$p0.get_worldBaseNonRotating()));$10.frame.get_orbit().draw3D($p0,1*0.25,wwtlib.Vector3d.create(0,0,0));$p0.set_world($11);}else if($10.frame.referenceFrameType===2){}}if(($10.frame.reference===18||$10.frame.reference===19)){wwtlib.LayerManager.$E($p0,$p1,$p2,$10.get_name(),$p4,$p5);}}}$p0.set_nominalRadius($3);$p0.set_world($1);$p0.set_worldBaseNonRotating($2);}
wwtlib.LayerManager.$F=function($p0,$p1,$p2,$p3,$p4){if(!Object.keyExists(wwtlib.LayerManager.get_allMaps(),$p3)){return;}var $0=wwtlib.LayerManager.get_allMaps()[$p3];if(!Object.getKeyCount($0.childMaps)&&!$0.layers.length){return;}if(wwtlib.TourPlayer.get_playing()){var $4=Type.safeCast(wwtlib.WWTControl.singleton.uiController,wwtlib.TourPlayer);if($4!=null){var $5=$4.get_tour();if($5.get_currentTourStop()!=null){$4.updateTweenPosition(-1);$5.get_currentTourStop().$55();var $enum1=ss.IEnumerator.getEnumerator(Object.keys($5.get_currentTourStop().layers));while($enum1.moveNext()){var $6=$enum1.current;var $7=$5.get_currentTourStop().layers[$6];if(Object.keyExists(wwtlib.LayerManager.get_layerList(),$7.id)){wwtlib.LayerManager.get_layerList()[$7.id].set_opacity($7.frameOpacity);wwtlib.LayerManager.get_layerList()[$7.id].setParams($7.frameParams);}}}}}var $1=$p0.get_world();var $2=$p0.get_worldBaseNonRotating();var $3=$p0.get_nominalRadius();if($0.frame.reference===18){$0.computeFrame($p0);if($0.frame.referenceFrameType!==1){$p0.set_world(wwtlib.Matrix3d.multiplyMatrix($0.frame.worldMatrix,$p0.get_world()));}else{$p0.set_world(wwtlib.Matrix3d.multiplyMatrix($0.frame.worldMatrix,$p0.get_worldBaseNonRotating()));}$p0.set_nominalRadius($0.frame.meanRadius);}for(var $8=0;$8<2;$8++){var $enum2=ss.IEnumerator.getEnumerator(wwtlib.LayerManager.get_allMaps()[$p3].layers);while($enum2.moveNext()){var $9=$enum2.current;if((!$8&&Type.canCast($9,wwtlib.ImageSetLayer))||($8===1&&!(Type.canCast($9,wwtlib.ImageSetLayer)))){if($9.get_enabled()){var $A=wwtlib.SpaceTimeController.utcToJulian($9.get_startTime());var $B=wwtlib.SpaceTimeController.utcToJulian($9.get_endTime());var $C=wwtlib.SpaceTimeController.utcToJulian($9.get_startTime())-(($9.get_fadeType()===1||$9.get_fadeType()===3)?($9.get_fadeSpan()/864000000):0);var $D=wwtlib.SpaceTimeController.utcToJulian($9.get_endTime())+(($9.get_fadeType()===2||$9.get_fadeType()===3)?($9.get_fadeSpan()/864000000):0);if(wwtlib.SpaceTimeController.get_jNow()>$C&&wwtlib.SpaceTimeController.get_jNow()<$D){var $E=1;if(wwtlib.SpaceTimeController.get_jNow()<$A){$E=((wwtlib.SpaceTimeController.get_jNow()-$C)/($9.get_fadeSpan()/864000000));}if(wwtlib.SpaceTimeController.get_jNow()>$B){$E=(($D-wwtlib.SpaceTimeController.get_jNow())/($9.get_fadeSpan()/864000000));}if(!$0.frame.reference){$9.set_astronomical(true);}$9.preDraw($p0,$p1*$E);}}}}}if($p4){var $enum3=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.LayerManager.get_allMaps()[$p3].childMaps));while($enum3.moveNext()){var $F=$enum3.current;var $10=wwtlib.LayerManager.get_allMaps()[$p3].childMaps[$F];if(($10.frame.reference===18||$10.frame.reference===19)){wwtlib.LayerManager.$F($p0,$p1,$p2,$10.get_name(),$p4);}}}$p0.set_nominalRadius($3);$p0.set_world($1);$p0.set_worldBaseNonRotating($2);}
wwtlib.LayerManager.add=function(layer,updateTree){if(!Object.keyExists(wwtlib.LayerManager.get_layerList(),layer.id)){if(Object.keyExists(wwtlib.LayerManager.get_allMaps(),layer.get_referenceFrame())){wwtlib.LayerManager.get_layerList()[layer.id]=layer;wwtlib.LayerManager.get_allMaps()[layer.get_referenceFrame()].layers.add(layer);wwtlib.LayerManager.$0++;if(updateTree){wwtlib.LayerManager.loadTree();}}}}
wwtlib.LayerMap=function(name,reference){this.childMaps={};this.layers=[];this.frame=new wwtlib.ReferenceFrame();this.set_name(name);this.frame.reference=reference;var $0=6371000;switch(reference){case 0:break;case 1:break;case 2:break;case 3:$0=696000000;break;case 4:$0=2439700;break;case 5:$0=6051800;break;case 6:$0=6371000;break;case 7:$0=3390000;break;case 8:$0=69911000;break;case 9:$0=58232000;break;case 10:$0=25362000;break;case 11:$0=24622000;break;case 12:$0=1161000;break;case 13:$0=1737100;break;case 14:$0=1821500;break;case 15:$0=1561000;break;case 16:$0=2631200;break;case 17:$0=2410300;break;case 18:break;case 19:break;default:break;}this.frame.meanRadius=$0;}
wwtlib.LayerMap.prototype={open:false,enabled:true,loadedFromTour:false,get_name:function(){return this.frame.name;},set_name:function(value){this.frame.name=value;return value;},computeFrame:function(renderContext){if(this.frame.reference===18){this.frame.computeFrame(renderContext);}},toString:function(){return this.get_name();}}
wwtlib.LayerUI=function(){}
wwtlib.LayerUI.prototype={get_hasTreeViewNodes:function(){return false;},getTreeNodes:function(){return null;},getNodeContextMenu:function(node){return null;},setUICallbacks:function(callbacks){}}
wwtlib.LayerUIMenuItem=function(){}
wwtlib.LayerUIMenuItem.prototype={$0:null,get_name:function(){return this.$0;},set_name:function(value){this.$0=value;return value;},$1:null,get_tag:function(){return this.$1;},set_tag:function(value){this.$1=value;return value;},$2:false,get_checked:function(){return this.$2;},set_checked:function(value){this.$2=value;return value;},$3:true,get_enabled:function(){return this.$3;},set_enabled:function(value){this.$3=value;return value;},add_menuItemSelected:function(value){this.$4=ss.Delegate.combine(this.$4,value);},remove_menuItemSelected:function(value){this.$4=ss.Delegate.remove(this.$4,value);},$4:null,fireMenuItemSelected:function(){if(this.$4!=null){this.$4(this);}},$5:null,get_subMenus:function(){if(this.$5==null){this.$5=[];}return this.$5;}}
wwtlib.LayerUITreeNode=function(){this.$C=wwtlib.Colors.get_white();}
wwtlib.LayerUITreeNode.prototype={add_nodeChecked:function(value){this.$0=ss.Delegate.combine(this.$0,value);},remove_nodeChecked:function(value){this.$0=ss.Delegate.remove(this.$0,value);},$0:null,fireNodeChecked:function(){if(this.$0!=null){this.$0(this);}},add_nodeUpdated:function(value){this.$1=ss.Delegate.combine(this.$1,value);},remove_nodeUpdated:function(value){this.$1=ss.Delegate.remove(this.$1,value);},$1:null,fireNodeUpdated:function(){if(this.$1!=null){this.$1(this);}},add_nodeSelected:function(value){this.$2=ss.Delegate.combine(this.$2,value);},remove_nodeSelected:function(value){this.$2=ss.Delegate.remove(this.$2,value);},$2:null,fireNodeSelected:function(){if(this.$2!=null){this.$2(this);}},add_nodeActivated:function(value){this.$3=ss.Delegate.combine(this.$3,value);},remove_nodeActivated:function(value){this.$3=ss.Delegate.remove(this.$3,value);},$3:null,fireNodeActivated:function(){if(this.$3!=null){this.$3(this);}},$4:null,get_name:function(){return this.$4;},set_name:function(value){if(this.$4!==value){this.$4=value;this.fireNodeUpdated();}return value;},$5:null,get_parent:function(){return this.$5;},set_parent:function(value){this.$5=value;return value;},$6:0,get_level:function(){return this.$6;},set_level:function(value){this.$6=value;return value;},$7:null,get_tag:function(){return this.$7;},set_tag:function(value){this.$7=value;return value;},$8:null,get_referenceTag:function(){return this.$8;},set_referenceTag:function(value){this.$8=value;return value;},$9:false,get_opened:function(){return this.$9;},set_opened:function(value){if(this.$9!==value){this.$9=value;this.fireNodeUpdated();}return value;},$A:false,get_checked:function(){return this.$A;},set_checked:function(value){if(this.$A!==value){this.$A=value;this.fireNodeUpdated();}return value;},$B:false,get_bold:function(){return this.$B;},set_bold:function(value){if(this.$B!==value){this.$B=value;this.fireNodeUpdated();}return value;},get_color:function(){return this.$C;},set_color:function(value){if(this.$C!==value){this.$C=value;this.fireNodeUpdated();}return value;},add:function(name){var $0=new wwtlib.LayerUITreeNode();$0.set_name(name);$0.set_parent(this);$0.set_level(this.get_level()+1);this.get_nodes().add($0);return $0;},$D:null,get_nodes:function(){if(this.$D==null){this.$D=[];}return this.$D;}}
wwtlib.Orbit=function(elements,segments,color,thickness,scale){this.$1=wwtlib.Colors.get_white();this.$0=elements;this.$4=segments;this.$1=color;this.$2=scale;}
wwtlib.Orbit.prototype={$0:null,$2:0,cleanUp:function(){},initVertexBuffer:function(renderContext){},draw3D:function(renderContext,opacity,centerPoint){},$4:0}
wwtlib.ReferenceFrame=function(){this.reference=18;this.referenceFrameType=0;this.representativeColor=wwtlib.Colors.get_white();this.semiMajorAxisUnits=1;this.$1=new EOE();}
wwtlib.ReferenceFrame.isTLECheckSumGood=function(line){if(line.length!==69){return false;}var $0=0;for(var $1=0;$1<68;$1++){switch(line.substr($1,1)){case '1':$0+=1;break;case '2':$0+=2;break;case '3':$0+=3;break;case '4':$0+=4;break;case '5':$0+=5;break;case '6':$0+=6;break;case '7':$0+=7;break;case '8':$0+=8;break;case '9':$0+=9;break;case '-':$0+=1;break;}}return ('0'+($0%10))===line.charAt(68);}
wwtlib.ReferenceFrame.prototype={position:null,meanAnomoly:0,worldMatrix:null,orbitalYears:0,name:null,parent:null,parentsRoationalBase:false,meanRadius:6371000,oblateness:0.0033528,heading:0,pitch:0,roll:0,scale:1,tilt:0,translation:null,lat:0,lng:0,altitude:0,rotationalPeriod:0,zeroRotationDate:0,get_representativeColor:function(){return this.representativeColor;},set_representativeColor:function(value){if(value!==this.representativeColor){this.representativeColor=value;this.$0=null;}return value;},showAsPoint:false,showOrbitPath:false,stationKeeping:true,semiMajorAxis:0,eccentricity:0,inclination:0,argumentOfPeriapsis:0,longitudeOfAscendingNode:0,meanAnomolyAtEpoch:0,meanDailyMotion:0,epoch:0,$0:null,get_orbit:function(){return this.$0;},set_orbit:function(value){this.$0=value;return value;},importTrajectory:function(filename){},initializeFromXml:function(node){this.name=node.attributes.getNamedItem('Name').nodeValue;this.parent=node.attributes.getNamedItem('Parent').nodeValue;switch(node.attributes.getNamedItem('ReferenceFrameType').nodeValue){case 'FixedSherical':this.referenceFrameType=0;break;case 'Orbital':this.referenceFrameType=1;break;case 'Trajectory':this.referenceFrameType=2;break;default:break;}switch(node.attributes.getNamedItem('Reference').nodeValue){case 'Sky':this.reference=0;break;case 'Ecliptic':this.reference=1;break;case 'Galactic':this.reference=2;break;case 'Sun':this.reference=3;break;case 'Mercury':this.reference=4;break;case 'Venus':this.reference=5;break;case 'Earth':this.reference=6;break;case 'Mars':this.reference=7;break;case 'Jupiter':this.reference=8;break;case 'Saturn':this.reference=9;break;case 'Uranus':this.reference=10;break;case 'Neptune':this.reference=11;break;case 'Pluto':this.reference=12;break;case 'Moon':this.reference=13;break;case 'Io':this.reference=14;break;case 'Europa':this.reference=15;break;case 'Ganymede':this.reference=16;break;case 'Callisto':this.reference=17;break;case 'Custom':this.reference=18;break;case 'Identity':this.reference=19;break;default:break;}this.parentsRoationalBase=Boolean.parse(node.attributes.getNamedItem('ParentsRoationalBase').nodeValue);this.meanRadius=parseFloat(node.attributes.getNamedItem('MeanRadius').nodeValue);this.oblateness=parseFloat(node.attributes.getNamedItem('Oblateness').nodeValue);this.heading=parseFloat(node.attributes.getNamedItem('Heading').nodeValue);this.pitch=parseFloat(node.attributes.getNamedItem('Pitch').nodeValue);this.roll=parseFloat(node.attributes.getNamedItem('Roll').nodeValue);this.scale=parseFloat(node.attributes.getNamedItem('Scale').nodeValue);this.tilt=parseFloat(node.attributes.getNamedItem('Tilt').nodeValue);this.translation=wwtlib.Vector3d.parse(node.attributes.getNamedItem('Translation').nodeValue);if(!this.referenceFrameType){this.lat=parseFloat(node.attributes.getNamedItem('Lat').nodeValue);this.lng=parseFloat(node.attributes.getNamedItem('Lng').nodeValue);this.altitude=parseFloat(node.attributes.getNamedItem('Altitude').nodeValue);}this.rotationalPeriod=parseFloat(node.attributes.getNamedItem('RotationalPeriod').nodeValue);this.zeroRotationDate=parseFloat(node.attributes.getNamedItem('ZeroRotationDate').nodeValue);this.set_representativeColor(wwtlib.Color.load(node.attributes.getNamedItem('RepresentativeColor').nodeValue));this.showAsPoint=Boolean.parse(node.attributes.getNamedItem('ShowAsPoint').nodeValue);if(node.attributes.getNamedItem('StationKeeping')!=null){this.stationKeeping=Boolean.parse(node.attributes.getNamedItem('StationKeeping').nodeValue);}if(this.referenceFrameType===1){this.showOrbitPath=Boolean.parse(node.attributes.getNamedItem('ShowOrbitPath').nodeValue);this.semiMajorAxis=parseFloat(node.attributes.getNamedItem('SemiMajorAxis').nodeValue);switch(node.attributes.getNamedItem('SemiMajorAxisScale').nodeValue){case 'Meters':this.semiMajorAxisUnits=1;break;case 'Feet':this.semiMajorAxisUnits=2;break;case 'Inches':this.semiMajorAxisUnits=3;break;case 'Miles':this.semiMajorAxisUnits=4;break;case 'Kilometers':this.semiMajorAxisUnits=5;break;case 'AstronomicalUnits':this.semiMajorAxisUnits=6;break;case 'LightYears':this.semiMajorAxisUnits=7;break;case 'Parsecs':this.semiMajorAxisUnits=8;break;case 'MegaParsecs':this.semiMajorAxisUnits=9;break;case 'Custom':this.semiMajorAxisUnits=10;break;default:break;}this.eccentricity=parseFloat(node.attributes.getNamedItem('Eccentricity').nodeValue);this.inclination=parseFloat(node.attributes.getNamedItem('Inclination').nodeValue);this.argumentOfPeriapsis=parseFloat(node.attributes.getNamedItem('ArgumentOfPeriapsis').nodeValue);this.longitudeOfAscendingNode=parseFloat(node.attributes.getNamedItem('LongitudeOfAscendingNode').nodeValue);this.meanAnomolyAtEpoch=parseFloat(node.attributes.getNamedItem('MeanAnomolyAtEpoch').nodeValue);this.meanDailyMotion=parseFloat(node.attributes.getNamedItem('MeanDailyMotion').nodeValue);this.epoch=parseFloat(node.attributes.getNamedItem('Epoch').nodeValue);}},fromTLE:function(line1,line2,gravity){this.epoch=wwtlib.SpaceTimeController.$6(line1.substr(18,14));this.eccentricity=parseFloat('0.'+line2.substr(26,7));this.inclination=parseFloat(line2.substr(8,8));this.longitudeOfAscendingNode=parseFloat(line2.substr(17,8));this.argumentOfPeriapsis=parseFloat(line2.substr(34,8));var $0=parseFloat(line2.substr(52,11));this.meanAnomolyAtEpoch=parseFloat(line2.substr(43,8));this.meanDailyMotion=$0*360;var $1=(86400/$0)/(Math.PI*2);this.semiMajorAxis=Math.pow(($1*$1)*gravity,1/3);this.semiMajorAxisUnits=1;},get_elements:function(){this.$1.a=this.semiMajorAxis;this.$1.e=this.eccentricity;this.$1.i=this.inclination;this.$1.w=this.argumentOfPeriapsis;this.$1.omega=this.longitudeOfAscendingNode;this.$1.jdEquinox=this.epoch;if(!this.meanDailyMotion){this.$1.n=ELL.meanMotionFromSemiMajorAxis(this.$1.a);}else{this.$1.n=this.meanDailyMotion;}this.$1.t=this.epoch-(this.meanAnomolyAtEpoch/this.$1.n);return this.$1;},set_elements:function(value){this.$1=value;return value;},computeFrame:function(renderContext){switch(this.referenceFrameType){case 1:this.$5(renderContext);break;case 0:this.$3(renderContext);break;case 2:this.$4(renderContext);break;default:break;}},$2:function($p0){},$3:function($p0){},$4:function($p0){},$5:function($p0){}}
wwtlib.wwtlib$D=function(){this.$3E=new wwtlib._Table();wwtlib.wwtlib$D.initializeBase(this);}
wwtlib.wwtlib$D.$2A=function($p0){return '';}
wwtlib.wwtlib$D.$2B=function($p0){return '';}
wwtlib.wwtlib$D.$3B=function($p0){var $0=Date.get_now();try{$0=new Date($p0);}catch($1){try{return wwtlib.wwtlib$D.$3C(parseFloat($p0));}catch($2){}}return $0;}
wwtlib.wwtlib$D.$3C=function($p0){if($p0>59){$p0-=1;}if($p0>730000){$p0=730000;}var $0=new Date(1899,12,31);return new Date($0.getDate()+parseInt(($p0*24*60*60*1000)));}
wwtlib.wwtlib$D.prototype={get_header:function(){return this.$3E.$1;},canCopyToClipboard:function(){return true;},copyToClipboard:function(){},$29:false,dynamicUpdate:function(){var $0=wwtlib.wwtlib$D.$2A(this.get_dataSourceUrl());if($0!=null){this.upadteData($0,false,true,true);this.$2D();return true;}return false;},upadteData:function($p0,$p1,$p2,$p3){this.$40(Type.safeCast($p0,String),true,$p1,$p2,$p3);this.computeDateDomainRange(-1,-1);this.$29=true;return true;},loadData:function($p0){this.$3E=new wwtlib._Table();var $0=new XMLHttpRequest();$0.open('GET',$p0);$0.onreadystatechange=ss.Delegate.create(this,function(){
if($0.readyState===4){this.$3E.$7($0.responseText,false,true,true);this.computeDateDomainRange(-1,-1);if(this.get_dynamicData()&&this.get_autoUpdate()){this.dynamicUpdate();}this.$29=true;this.dirty=true;}});$0.send();},$2C:null,$2D:function(){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.$3E.$1);while($enum1.moveNext()){var $1=$enum1.current;var $2=$1.toLowerCase();if($2.indexOf('lat')>-1&&this.latColumn===-1){this.latColumn=$0;}if(($2.indexOf('lon')>-1||$2.indexOf('lng')>-1)&&this.lngColumn===-1){this.lngColumn=$0;}if($2.indexOf('dec')>-1&&this.latColumn===-1){this.latColumn=$0;this.astronomical=true;}if(($2.indexOf('ra')>-1||$2.indexOf('ascen')>-1)&&this.lngColumn===-1){this.lngColumn=$0;this.astronomical=true;this.pointScaleType=4;}if(($2.indexOf('mag')>-1||$2.indexOf('size')>-1)&&this.sizeColumn===-1){this.sizeColumn=$0;}if(($2.indexOf('date')>-1||$2.indexOf('time')>-1||$2.indexOf('dt')>-1||$2.indexOf('tm')>-1)){if($2.indexOf('end')>-1&&this.endDateColumn===-1){this.endDateColumn=$0;}else if(this.startDateColumn===-1){this.startDateColumn=$0;}}if(($2.indexOf('altitude')>-1||$2.indexOf('alt')>-1)&&this.altColumn===-1){this.altColumn=$0;this.set_altType(1);this.set_altUnit(1);}if($2.indexOf('depth')>-1&&this.altColumn===-1){this.altColumn=$0;this.set_altType(0);this.set_altUnit(5);}if($2.startsWith('x')&&this.get_xAxisColumn()===-1){this.set_xAxisColumn($0);}if($2.startsWith('y')&&this.get_yAxisColumn()===-1){this.set_yAxisColumn($0);}if($2.startsWith('z')&&this.get_zAxisColumn()===-1){this.set_zAxisColumn($0);}if($2.indexOf('color')>-1&&this.get_colorMapColumn()===-1){this.set_colorMapColumn($0);}if(($2.indexOf('geometry')>-1||$2.indexOf('geography')>-1)&&this.geometryColumn===-1){this.geometryColumn=$0;}$0++;}if(this.$3E.$1.length>0){this.nameColumn=0;}},computeDateDomainRange:function($p0,$p1){if($p0===-1){$p0=this.startDateColumn;}if($p1===-1){$p1=this.endDateColumn;}if($p1===-1){$p1=$p0;}this.set_beginRange(new Date('12/31/2100'));this.set_endRange(new Date('12/31/1890'));var $enum1=ss.IEnumerator.getEnumerator(this.$3E.$2);while($enum1.moveNext()){var $0=$enum1.current;try{if($p0>-1){var $1=false;var $2=new Date('12/31/2100');try{$2=new Date($0[$p0]);if($2<this.get_beginRange()){this.set_beginRange($2);}}catch($3){}try{var $4=new Date('12/31/1890');if($p1>-1){$4=new Date($0[$p1]);if($1&&$4>this.get_endRange()){this.set_endRange($4);}}}catch($5){}}}catch($6){}}},$2E:function(){},$2F:function($p0){var $0=0;this.$3E.$5();var $enum1=ss.IEnumerator.getEnumerator(this.$3E.$2);while($enum1.moveNext()){var $1=$enum1.current;try{if($p0>-1){var $2=false;try{var $3=parseFloat($1[$p0]);if($2&&$3>$0){$0=$3;}}catch($4){}}}catch($5){}}this.$3E.$6();return $0;},getDomainValues:function($p0){var $0=[];this.$3E.$5();var $enum1=ss.IEnumerator.getEnumerator(this.$3E.$2);while($enum1.moveNext()){var $1=$enum1.current;try{if($p0>-1){if(!$0.contains($1[$p0])){$0.add($1[$p0]);}}}catch($2){}}$0.sort();this.$3E.$6();return $0;},$30:0,get_$31:function(){return this.$30;},set_$31:function($p0){this.$30=$p0;return $p0;},$32:20,$33:6371000,prepVertexBuffer:function($p0,$p1){this.$3E.$5();if(this.lineList!=null){this.lineList.clear();}if(this.lineList2d!=null){this.lineList2d.clear();}if(this.triangleList!=null){this.triangleList.clear();}if(this.pointList!=null){this.pointList.clear();}if(this.triangleList2d!=null){this.triangleList2d.clear();}if(this.lineList==null){this.lineList=new wwtlib.LineList();}if(this.pointList==null){this.pointList=new wwtlib.PointList($p0);}this.lineList.timeSeries=this.timeSeries;if(this.lineList2d==null){this.lineList2d=new wwtlib.LineList();this.lineList2d.set_depthBuffered(false);}this.lineList.timeSeries=this.timeSeries;if(this.triangleList==null){this.triangleList=new wwtlib.TriangleList();}if(this.triangleList2d==null){this.triangleList2d=new wwtlib.TriangleList();this.triangleList2d.depthBuffered=false;}this.positions.clear();var $0=0;var $1=this.get_color();var $2=wwtlib.Coordinates.meanObliquityOfEcliptic(wwtlib.SpaceTimeController.get_jNow())/180*Math.PI;var $3={};var $4=0;if(!!$4){this.$33=$4;}var $5=new wwtlib.Vector3d();var $6=0.0002;var $7=wwtlib.Colors.get_white();var $8=0;var $9=0;var $enum1=ss.IEnumerator.getEnumerator(this.$3E.$2);while($enum1.moveNext()){var $A=$enum1.current;try{var $B=false;if(this.geometryColumn>-1||(!this.get_coordinatesType()&&(this.lngColumn>-1&&this.latColumn>-1))||((this.get_coordinatesType()===1)&&(this.get_xAxisColumn()>-1&&this.get_yAxisColumn()>-1))){var $C=0;var $D=0;var $E=0;var $F=1;var $10=0;var $11=0;var $12=this.$3D(this.get_altUnit(),1);if(this.altColumn===-1||this.get_altType()===3||this.bufferIsFlat){$F=1;if((this.astronomical&!this.bufferIsFlat)===1){$F=63239.6717*100;}}else{if(!this.get_altType()){$12=-$12;}$F=0;try{$F=parseFloat($A[this.altColumn]);}catch($13){}if(this.astronomical){$12=$12/(1000*149598000);$11=($F*$12)/206264.806;$10=($12*$F);$F=($12*$F);}else if(this.get_altType()===2){$10=($12*$F);$F=($12*$F/this.$33);}else{$10=($12*$F);$F=1+($12*$F/this.$33);}}if(!this.get_coordinatesType()&&this.lngColumn>-1&&this.latColumn>-1){$C=parseFloat($A[this.lngColumn]);$D=parseFloat($A[this.latColumn]);if(this.astronomical){if(!this.get_raUnits()){$C*=15;}if(this.bufferIsFlat){}}var $14=0;var $15=wwtlib.Coordinates.geoTo3dDoubleRad($D,$C,$F);if(this.astronomical&&!this.bufferIsFlat){$15.rotateX($2);}$5=$15;this.positions.add($5);}else if(this.get_coordinatesType()===1){var $16=this.$3D(this.get_cartesianScale(),this.get_cartesianCustomScale())/this.$33;if(this.get_zAxisColumn()>-1){$E=parseFloat($A[this.get_zAxisColumn()]);}$C=parseFloat($A[this.get_xAxisColumn()]);$D=parseFloat($A[this.get_yAxisColumn()]);if(this.get_xAxisReverse()){$C=-$C;}if(this.get_yAxisReverse()){$D=-$D;}if(this.get_zAxisReverse()){$E=-$E;}$5=wwtlib.Vector3d.create(($C*$16),($E*$16),($D*$16));this.positions.add($5);}switch(this.get_$1B()){case 0:$7=$1;break;case 3:if(this.get_colorMapColumn()>-1){$7=this.$3A($A[this.get_colorMapColumn()],$1);}else{$7=$1;}break;default:break;}if(this.sizeColumn>-1){switch(this.pointScaleType){case 0:$6=parseFloat($A[this.sizeColumn]);break;case 2:$6=Math.log(parseFloat($A[this.sizeColumn]));break;case 1:var $17=0;try{$6=parseFloat($A[this.altColumn]);}catch($18){$6=0;}break;case 4:var $19=0;try{$19=parseFloat($A[this.sizeColumn]);if(!this.bufferIsFlat){$19=$19-5*(wwtlib._Util.$1($11,10)-1);$6=(120000000/Math.pow(1.6,$19));}else{$6=(40/Math.pow(1.6,$19));}}catch($1A){$6=0;}break;case 3:$6=1;break;default:break;}}else{$6=1;}if(this.get_plotType()===1){$6=1;}if((this.astronomical&!this.bufferIsFlat)===1){}if(this.startDateColumn>-1){var $1B=new Date($A[this.startDateColumn]);$8=(wwtlib.SpaceTimeController.utcToJulian($1B)-wwtlib.SpaceTimeController.utcToJulian(this.baseDate));if(this.endDateColumn>-1){$1B=new Date($A[this.endDateColumn]);$9=(wwtlib.SpaceTimeController.utcToJulian($1B)-wwtlib.SpaceTimeController.utcToJulian(this.baseDate));}else{$9=$8;}}this.pointList.addPoint($5,$7,new wwtlib.Dates($8,$9),$6);if(this.geometryColumn>-1){this.$34($A[this.geometryColumn],$7,$7,$10,new wwtlib.Dates($8,$9));}$0++;}}catch($1C){}this.lines=false;}this.$3E.$6();this.$29=false;this.dirty=false;return false;},$34:function($p0,$p1,$p2,$p3,$p4){$p0=$p0.trim().toLowerCase();var $0=$p0.indexOf('(');if($0<0){return;}if(!$p0.endsWith(')')){return;}var $1=$p0.substring(0,$0).trim();var $2=$p0.substr($0);var $3=$1.split(' ');var $4=null;var $5=null;if($3.length>0){var $enum1=ss.IEnumerator.getEnumerator($3);while($enum1.moveNext()){var $6=$enum1.current;if(String.isNullOrEmpty($4)){$4=$6;}else if(String.isNullOrEmpty($5)){$5=$6;}}}switch($4){case 'multipolygon':case 'polygon':this.$35($2,$5,$p1,$p2,$p3,$p4);break;case 'multilinestring':this.$36($2,$5,$p1,$p3,false,$p4);break;case 'linestring':this.$36($2,$5,$p1,$p3,true,$p4);break;case 'geometrycollection':$2=$2.substring(1,$2.length-2);var $7=wwtlib.UiTools.splitString($2,',');var $enum2=ss.IEnumerator.getEnumerator($7);while($enum2.moveNext()){var $8=$enum2.current;this.$34($8,$p1,$p2,$p3,$p4);}break;default:break;}},$35:function($p0,$p1,$p2,$p3,$p4,$p5){if(!$p0.startsWith('(')&&$p0.endsWith(')')){return;}$p0=$p0.substring(1,$p0.length-2);var $0=wwtlib.UiTools.splitString($p0,',');var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;var $2=new wwtlib.KmlLineList();$2.astronomical=this.astronomical;$2.meanRadius=this.$33;$2.parseWkt($1,$p1,$p4,$p5);if(!$p4){this.$39(false,$2,1,$p3,$p2,true,true,$p5);}else{this.$38(false,$2,1,$p3,$p2,true,true,$p5);}}},$36:function($p0,$p1,$p2,$p3,$p4,$p5){if(!$p0.startsWith('(')&&$p0.endsWith(')')){return;}if(!$p4){$p0=$p0.substring(1,$p0.length-2);}var $0=wwtlib.UiTools.splitString($p0,',');var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;var $2=new wwtlib.KmlLineList();$2.astronomical=this.astronomical;$2.meanRadius=this.$33;$2.parseWkt($1,$p1,$p3,$p5);this.$38(false,$2,1,wwtlib.Colors.get_white(),$p2,false,false,$p5);}},$37:function($p0){var $0=[];var $1=0;var $2=0;while($2<$p0.length){if($p0.substr($2,1)==='('){$1++;}}return $0;},$38:function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7){var $0=[];var $1=[];for(var $2=0;$2<$p1.pointList.length;$2++){$0.add(wwtlib.Coordinates.geoTo3dDoubleRad($p1.pointList[$2].lat,$p1.pointList[$2].lng,1+($p1.pointList[$2].alt/this.$33)));$1.add(wwtlib.Coordinates.geoTo3dDoubleRad($p1.pointList[$2].lat,$p1.pointList[$2].lng,1));}for(var $3=0;$3<($p1.pointList.length-1);$3++){if($p0){}else{if($p5){this.triangleList.addQuad($0[$3],$0[$3+1],$1[$3],$1[$3+1],$p3,$p7);}if($p2>0){if($p5){this.lineList.addLine($0[$3],$0[$3+1],$p4,$p7);}else{this.lineList2d.addLine($0[$3],$0[$3+1],$p4,$p7);}if($p5){this.lineList.addLine($1[$3],$1[$3+1],$p4,$p7);this.lineList.addLine($0[$3],$1[$3],$p4,$p7);this.lineList.addLine($0[$3+1],$1[$3+1],$p4,$p7);}}}}if($p6){var $4=wwtlib.Tessellator.tesselateSimplePoly($0);for(var $5=0;$5<$4.length;$5+=3){this.triangleList.addTriangle($0[$4[$5]],$0[$4[$5+1]],$0[$4[$5+2]],$p3,$p7);}}},$39:function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7){var $0=[];for(var $1=0;$1<$p1.pointList.length;$1++){$0.add(wwtlib.Coordinates.geoTo3dDoubleRad($p1.pointList[$1].lat,$p1.pointList[$1].lng,1+($p1.pointList[$1].alt/this.$33)));}for(var $2=0;$2<($p1.pointList.length-1);$2++){if($p0){}else{if($p2>0){this.lineList2d.addLine($0[$2],$0[$2+1],$p4,$p7);}}}if($p6){var $3=wwtlib.Tessellator.tesselateSimplePoly($0);for(var $4=0;$4<$3.length;$4+=3){this.triangleList2d.addSubdividedTriangles($0[$3[$4]],$0[$3[$4+1]],$0[$3[$4+2]],$p3,$p7,2);}}},$3A:function($p0,$p1){return wwtlib.Color.load($p0);},$3D:function($p0,$p1){var $0=1;switch($p0){case 1:$0=1;break;case 2:$0=1*0.3048;break;case 3:$0=(1/12)*0.3048;break;case 4:$0=5280*0.3048;break;case 5:$0=1000;break;case 6:$0=1000*149598000;break;case 7:$0=1000*149598000*63239.6717;break;case 8:$0=1000*149598000*206264.806;break;case 9:$0=1000*149598000*206264.806*1000000;break;case 10:$0=$p1;break;default:break;}return $0;},get_$3F:function(){return this.$3E;},set_$3F:function($p0){this.$3E=$p0;return $p0;},$40:function($p0,$p1,$p2,$p3,$p4){if(!$p1){this.$3E=new wwtlib._Table();}this.$3E.$5();this.$3E.$7($p0,$p1,$p3,$p4);if(!$p1){this.$2D();}if(this.astronomical&&this.lngColumn>-1){var $0=this.$2F(this.lngColumn);if($0>24){this.set_raUnits(1);}}if($p2){this.$41();}this.$3E.$6();},$41:function(){if(this.startDateColumn<0){return;}var $0=this.startDateColumn;if(this.endDateColumn>-1){$0=this.endDateColumn;}var $1=wwtlib.SpaceTimeController.get_now();var $2=parseInt(this.decay)*24*60*60*1000;$1=new Date($1.getDate()-$2);var $3=this.$3E.$2.length;for(var $4=0;$4<$3;$4++){try{var $5=this.$3E.$2[$4];var $6=new Date($5[$0]);if($6<$1){this.$3E.$2.removeAt($4);$3--;$4--;}}catch($7){}}},draw:function($p0,$p1,$p2){var $0=wwtlib.wwtlib$D.callBaseMethod(this, 'draw',[$p0,$p1,$p2]);return $0;},cleanUp:function(){this.$3E.$5();wwtlib.wwtlib$D.callBaseMethod(this, 'cleanUp');this.$3E.$6();this.dirty=true;}}
wwtlib.KmlCoordinate=function(){}
wwtlib.KmlCoordinate.prototype={lat:0,lng:0,alt:0,date:null}
wwtlib.KmlLineList=function(){this.pointList=[];}
wwtlib.KmlLineList.prototype={extrude:false,astronomical:false,meanRadius:6371000,parseWkt:function(geoText,option,alt,date){var $0=wwtlib.UiTools.split(geoText,'(,)');var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;var $2=$1.trim().split(' ');if($2.length>1){var $3=new wwtlib.KmlCoordinate();$3.lng=parseFloat($2[0]);if(this.astronomical){$3.lng-=180;}$3.lat=parseFloat($2[1]);if($2.length>2&&!alt){$3.alt=parseFloat($2[2]);}else{$3.alt=alt;}$3.date=date;this.pointList.add($3);}}},getCenterPoint:function(){var $0=new wwtlib.KmlCoordinate();$0.lat=0;$0.lng=0;$0.alt=0;var $enum1=ss.IEnumerator.getEnumerator(this.pointList);while($enum1.moveNext()){var $1=$enum1.current;$0.lat+=$1.lat;$0.lng+=$1.lng;$0.alt+=$1.alt;}$0.lat/=this.pointList.length;$0.lng/=this.pointList.length;$0.alt/=this.pointList.length;return $0;}}
wwtlib._Table=function(){this.$0=new wwtlib.Guid();this.$1=[];this.$2=[];}
wwtlib._Table.prototype={$3:'\t',$4:false,$5:function(){this.$4=true;},$6:function(){this.$4=false;},$7:function($p0,$p1,$p2,$p3){var $0=0;var $1=$p0.split('\r\n');if(!$p1||$p3){if($1.length>0){var $3=$1[0];$0++;if($3.indexOf('\t')===-1&&$3.indexOf(',')>-1){this.$3=',';}if(!$p1){this.$2.clear();}this.$1=wwtlib.UiTools.splitString($3,this.$3);}else{this.$1=[];}}var $2=[];if(!$p2){$2=this.$2;}while($0<$1.length){var $4=$1[$0];var $5=wwtlib.UiTools.splitString($4,this.$3);if($5.length<1){break;}$2.add($5);$0++;}if($p2){this.$2=$2;}}}
wwtlib.TimeSeriesLayer=function(){this.latColumn=-1;this.$E=new Date('1/1/2100');this.$F=new Date('01/01/1800');this.markerDomainValues={};this.colorDomainValues={};this.$10=0;this.lngColumn=-1;this.geometryColumn=-1;this.$11=-1;this.$12=-1;this.$13=-1;this.$17=3;this.$18=0;this.$19=0;this.$1A=3;this.$1C=-1;this.$1D=-1;this.$1E=0;this.$21=1;this.$22=1;this.$23=1;this.altColumn=-1;this.startDateColumn=-1;this.endDateColumn=-1;this.sizeColumn=-1;this.$26=-1;this.pointScaleType=1;this.positions=[];this.baseDate=new Date(2010,0,1,12,0,0);wwtlib.TimeSeriesLayer.initializeBase(this);}
wwtlib.TimeSeriesLayer.get_$28=function(){return wwtlib.TimeSeriesLayer.$27;}
wwtlib.TimeSeriesLayer.prototype={isLongIndex:false,shapeVertexCount:0,lines:false,fixedSize:1,decay:16,timeSeries:false,$B:false,get_dynamicData:function(){return this.$B;},set_dynamicData:function(value){this.$B=value;return value;},$C:false,get_autoUpdate:function(){return this.$C;},set_autoUpdate:function(value){this.$C=value;return value;},$D:'',get_dataSourceUrl:function(){return this.$D;},set_dataSourceUrl:function(value){this.$D=value;return value;},get_timeSeries:function(){return this.timeSeries;},set_timeSeries:function(value){if(this.timeSeries!==value){this.version++;this.timeSeries=value;}return value;},get_header:function(){return null;},get_beginRange:function(){return this.$E;},set_beginRange:function(value){if(this.$E!==value){this.version++;this.$E=value;}return value;},get_endRange:function(){return this.$F;},set_endRange:function(value){if(this.$F!==value){this.version++;this.$F=value;}return value;},initializeFromXml:function(node){this.set_timeSeries(Boolean.parse(node.attributes.getNamedItem('TimeSeries').nodeValue));this.set_beginRange(new Date(node.attributes.getNamedItem('BeginRange').nodeValue));this.set_endRange(new Date(node.attributes.getNamedItem('EndRange').nodeValue));this.set_decay(parseFloat(node.attributes.getNamedItem('Decay').nodeValue));switch(node.attributes.getNamedItem('CoordinatesType').nodeValue){case 'Spherical':this.set_coordinatesType(0);break;case 'Rectangular':this.set_coordinatesType(1);break;case 'Orbital':this.set_coordinatesType(2);break;default:break;}if(this.get_coordinatesType()<0){this.set_coordinatesType(0);}this.set_latColumn(parseInt(node.attributes.getNamedItem('LatColumn').nodeValue));this.set_lngColumn(parseInt(node.attributes.getNamedItem('LngColumn').nodeValue));if(node.attributes.getNamedItem('GeometryColumn')!=null){this.set_geometryColumn(parseInt(node.attributes.getNamedItem('GeometryColumn').nodeValue));}switch(node.attributes.getNamedItem('AltType').nodeValue){case 'Depth':this.set_altType(0);break;case 'Altitude':this.set_altType(1);break;case 'Distance':this.set_altType(2);break;case 'SeaLevel':this.set_altType(3);break;case 'Terrain':this.set_altType(4);break;default:break;}this.set_markerMix(0);switch(node.attributes.getNamedItem('ColorMap').nodeValue){case 'Same_For_All':this.set_$1B(0);break;case 'Group_by_Values':this.set_$1B(2);break;case 'Per_Column_Literal':this.set_$1B(3);break;default:break;}this.set_markerColumn(parseInt(node.attributes.getNamedItem('MarkerColumn').nodeValue));this.set_colorMapColumn(parseInt(node.attributes.getNamedItem('ColorMapColumn').nodeValue));switch(node.attributes.getNamedItem('PlotType').nodeValue){case 'Gaussian':this.set_plotType(0);break;case 'Point':this.set_plotType(1);break;case 'Circle':this.set_plotType(2);break;case 'PushPin':this.set_plotType(3);break;default:break;}this.set_markerIndex(parseInt(node.attributes.getNamedItem('MarkerIndex').nodeValue));switch(node.attributes.getNamedItem('MarkerScale').nodeValue){case 'Screen':this.set_markerScale(0);break;case 'World':this.set_markerScale(1);break;default:break;}switch(node.attributes.getNamedItem('AltUnit').nodeValue){case 'Meters':this.set_altUnit(1);break;case 'Feet':this.set_altUnit(2);break;case 'Inches':this.set_altUnit(3);break;case 'Miles':this.set_altUnit(4);break;case 'Kilometers':this.set_altUnit(5);break;case 'AstronomicalUnits':this.set_altUnit(6);break;case 'LightYears':this.set_altUnit(7);break;case 'Parsecs':this.set_altUnit(8);break;case 'MegaParsecs':this.set_altUnit(9);break;case 'Custom':this.set_altUnit(10);break;default:break;}this.set_altColumn(parseInt(node.attributes.getNamedItem('AltColumn').nodeValue));this.set_startDateColumn(parseInt(node.attributes.getNamedItem('StartDateColumn').nodeValue));this.set_endDateColumn(parseInt(node.attributes.getNamedItem('EndDateColumn').nodeValue));this.set_sizeColumn(parseInt(node.attributes.getNamedItem('SizeColumn').nodeValue));this.set_hyperlinkFormat(node.attributes.getNamedItem('HyperlinkFormat').nodeValue);this.set_hyperlinkColumn(parseInt(node.attributes.getNamedItem('HyperlinkColumn').nodeValue));this.set_scaleFactor(parseFloat(node.attributes.getNamedItem('ScaleFactor').nodeValue));switch(node.attributes.getNamedItem('PointScaleType').nodeValue){case 'Linear':this.set_pointScaleType(0);break;case 'Power':this.set_pointScaleType(1);break;case 'Log':this.set_pointScaleType(2);break;case 'Constant':this.set_pointScaleType(3);break;case 'StellarMagnitude':this.set_pointScaleType(4);break;default:break;}if(node.attributes.getNamedItem('ShowFarSide')!=null){this.set_showFarSide(Boolean.parse(node.attributes.getNamedItem('ShowFarSide').nodeValue));}if(node.attributes.getNamedItem('RaUnits')!=null){switch(node.attributes.getNamedItem('RaUnits').nodeValue){case 'Hours':this.set_raUnits(0);break;case 'Degrees':this.set_raUnits(1);break;}}if(node.attributes.getNamedItem('HoverTextColumn')!=null){this.set_nameColumn(parseInt(node.attributes.getNamedItem('HoverTextColumn').nodeValue));}if(node.attributes.getNamedItem('XAxisColumn')!=null){this.set_xAxisColumn(parseInt(node.attributes.getNamedItem('XAxisColumn').nodeValue));this.set_xAxisReverse(Boolean.parse(node.attributes.getNamedItem('XAxisReverse').nodeValue));this.set_yAxisColumn(parseInt(node.attributes.getNamedItem('YAxisColumn').nodeValue));this.set_yAxisReverse(Boolean.parse(node.attributes.getNamedItem('YAxisReverse').nodeValue));this.set_zAxisColumn(parseInt(node.attributes.getNamedItem('ZAxisColumn').nodeValue));this.set_zAxisReverse(Boolean.parse(node.attributes.getNamedItem('ZAxisReverse').nodeValue));switch(node.attributes.getNamedItem('CartesianScale').nodeValue){case 'Meters':this.set_cartesianScale(1);break;case 'Feet':this.set_cartesianScale(2);break;case 'Inches':this.set_cartesianScale(3);break;case 'Miles':this.set_cartesianScale(4);break;case 'Kilometers':this.set_cartesianScale(5);break;case 'AstronomicalUnits':this.set_cartesianScale(6);break;case 'LightYears':this.set_cartesianScale(7);break;case 'Parsecs':this.set_cartesianScale(8);break;case 'MegaParsecs':this.set_cartesianScale(9);break;case 'Custom':this.set_cartesianScale(10);break;default:break;}this.set_cartesianCustomScale(parseFloat(node.attributes.getNamedItem('CartesianCustomScale').nodeValue));}if(node.attributes.getNamedItem('DynamicData')!=null){this.set_dynamicData(Boolean.parse(node.attributes.getNamedItem('DynamicData').nodeValue));this.set_autoUpdate(Boolean.parse(node.attributes.getNamedItem('AutoUpdate').nodeValue));this.set_dataSourceUrl(node.attributes.getNamedItem('DataSourceUrl').nodeValue);}},computeDateDomainRange:function(columnStart,columnEnd){},getDomainValues:function(column){return [];},get_decay:function(){return this.decay;},set_decay:function(value){if(this.decay!==value){this.version++;this.decay=value;}return value;},get_coordinatesType:function(){return this.$10;},set_coordinatesType:function(value){if(this.$10!==value){this.version++;this.$10=value;}return value;},get_latColumn:function(){return this.latColumn;},set_latColumn:function(value){if(this.latColumn!==value){this.version++;this.latColumn=value;}return value;},get_lngColumn:function(){return this.lngColumn;},set_lngColumn:function(value){if(this.lngColumn!==value){this.version++;this.lngColumn=value;}return value;},get_geometryColumn:function(){return this.geometryColumn;},set_geometryColumn:function(value){if(this.geometryColumn!==value){this.version++;this.geometryColumn=value;}return value;},get_xAxisColumn:function(){return this.$11;},set_xAxisColumn:function(value){if(this.$11!==value){this.version++;this.$11=value;}return value;},get_yAxisColumn:function(){return this.$12;},set_yAxisColumn:function(value){if(this.$12!==value){this.version++;this.$12=value;}return value;},get_zAxisColumn:function(){return this.$13;},set_zAxisColumn:function(value){if(this.$13!==value){this.version++;this.$13=value;}return value;},$14:false,get_xAxisReverse:function(){return this.$14;},set_xAxisReverse:function(value){if(this.$14!==value){this.version++;this.$14=value;}return value;},$15:false,get_yAxisReverse:function(){return this.$15;},set_yAxisReverse:function(value){if(this.$15!==value){this.version++;this.$15=value;}return value;},$16:false,get_zAxisReverse:function(){return this.$16;},set_zAxisReverse:function(value){if(this.$16!==value){this.version++;this.$16=value;}return value;},get_altType:function(){return this.$17;},set_altType:function(value){if(this.$17!==value){this.version++;this.$17=value;}return value;},get_markerMix:function(){return this.$18;},set_markerMix:function(value){if(this.$18!==value){this.version++;this.$18=value;}return value;},get_raUnits:function(){return this.$19;},set_raUnits:function(value){if(this.$19!==value){this.version++;this.$19=value;}return value;},get_$1B:function(){return this.$1A;},set_$1B:function($p0){if(this.$1A!==$p0){this.version++;this.$1A=$p0;}return $p0;},get_markerColumn:function(){return this.$1C;},set_markerColumn:function(value){if(this.$1C!==value){this.version++;this.$1C=value;}return value;},get_colorMapColumn:function(){return this.$1D;},set_colorMapColumn:function(value){if(this.$1D!==value){this.version++;this.$1D=value;}return value;},get_plotType:function(){return this.$1E;},set_plotType:function(value){if(this.$1E!==value){this.version++;this.$1E=value;}return value;},$1F:0,get_markerIndex:function(){return this.$1F;},set_markerIndex:function(value){if(this.$1F!==value){this.version++;this.$1F=value;}return value;},$20:false,get_showFarSide:function(){return this.$20;},set_showFarSide:function(value){if(this.$20!==value){this.version++;this.$20=value;}return value;},get_markerScale:function(){return this.$21;},set_markerScale:function(value){if(this.$21!==value){this.version++;this.$21=value;}return value;},get_altUnit:function(){return this.$22;},set_altUnit:function(value){if(this.$22!==value){this.version++;this.$22=value;}return value;},get_cartesianScale:function(){return this.$23;},set_cartesianScale:function(value){if(this.$23!==value){this.version++;this.$23=value;}return value;},$24:1,get_cartesianCustomScale:function(){return this.$24;},set_cartesianCustomScale:function(value){if(this.$24!==value){this.version++;this.$24=value;}return value;},get_altColumn:function(){return this.altColumn;},set_altColumn:function(value){if(this.altColumn!==value){this.version++;this.altColumn=value;}return value;},get_startDateColumn:function(){return this.startDateColumn;},set_startDateColumn:function(value){if(this.startDateColumn!==value){this.version++;this.startDateColumn=value;}return value;},get_endDateColumn:function(){return this.endDateColumn;},set_endDateColumn:function(value){if(this.endDateColumn!==value){this.version++;this.endDateColumn=value;}return value;},get_sizeColumn:function(){return this.sizeColumn;},set_sizeColumn:function(value){if(this.sizeColumn!==value){this.version++;this.sizeColumn=value;}return value;},nameColumn:0,get_nameColumn:function(){return this.nameColumn;},set_nameColumn:function(value){if(this.nameColumn!==value){this.version++;this.nameColumn=value;}return value;},$25:'',get_hyperlinkFormat:function(){return this.$25;},set_hyperlinkFormat:function(value){if(this.$25!==value){this.version++;this.$25=value;}return value;},get_hyperlinkColumn:function(){return this.$26;},set_hyperlinkColumn:function(value){if(this.$26!==value){this.version++;this.$26=value;}return value;},scaleFactor:1,get_scaleFactor:function(){return this.scaleFactor;},set_scaleFactor:function(value){if(this.scaleFactor!==value){this.version++;this.scaleFactor=value;}return value;},get_pointScaleType:function(){return this.pointScaleType;},set_pointScaleType:function(value){if(this.pointScaleType!==value){this.version++;this.pointScaleType=value;}return value;},lineList:null,lineList2d:null,triangleList:null,triangleList2d:null,pointList:null,bufferIsFlat:false,dirty:true,prepVertexBuffer:function(renderContext,opacity){return true;},draw:function(renderContext,opacity,flat){var $0=renderContext;if(this.bufferIsFlat!==flat){this.cleanUp();this.bufferIsFlat=flat;}if(this.dirty){this.prepVertexBuffer($0,opacity);}var $1=wwtlib.SpaceTimeController.get_jNow()-wwtlib.SpaceTimeController.utcToJulian(this.baseDate);if(this.triangleList2d!=null){this.triangleList2d.decay=this.decay;this.triangleList2d.sky=this.get_astronomical();this.triangleList2d.timeSeries=this.timeSeries;this.triangleList2d.jNow=$1;this.triangleList2d.draw(renderContext,opacity*this.get_opacity(),1);}if(this.triangleList!=null){this.triangleList.decay=this.decay;this.triangleList.sky=this.get_astronomical();this.triangleList.timeSeries=this.timeSeries;this.triangleList.jNow=$1;this.triangleList.draw(renderContext,opacity*this.get_opacity(),1);}if(this.pointList!=null){this.pointList.depthBuffered=false;this.pointList.decay=this.decay;this.pointList.sky=this.get_astronomical();this.pointList.timeSeries=this.timeSeries;this.pointList.jNow=$1;this.pointList.draw(renderContext,opacity*this.get_opacity(),false);}if(this.lineList!=null){this.lineList.sky=this.get_astronomical();this.lineList.decay=this.decay;this.lineList.timeSeries=this.timeSeries;this.lineList.jNow=$1;this.lineList.drawLines(renderContext,opacity*this.get_opacity());}if(this.lineList2d!=null){this.lineList2d.sky=this.get_astronomical();this.lineList2d.decay=this.decay;this.lineList2d.timeSeries=this.timeSeries;this.lineList2d.showFarSide=this.get_showFarSide();this.lineList2d.jNow=$1;this.lineList2d.drawLines(renderContext,opacity*this.get_opacity());}return true;},cleanUp:function(){if(this.lineList!=null){this.lineList.clear();}if(this.lineList2d!=null){this.lineList2d.clear();}if(this.triangleList2d!=null){this.triangleList2d.clear();}if(this.pointList!=null){this.pointList.clear();}if(this.triangleList!=null){this.triangleList.clear();}},dynamicUpdate:function(){return false;}}
wwtlib.Planets=function(){}
wwtlib.Planets.loadPlanetTexture=function(url){var $0=new wwtlib.Texture();$0.load(url);return $0;}
wwtlib.Planets.getPlanet3dLocation=function(target){try{if(target<21){return wwtlib.Planets.$6[target].copy();}}catch($0){}return wwtlib.Vector3d.create(0,0,0);}
wwtlib.Planets.getPlanet3dSufaceAltitude=function(target){try{if(target<21){return wwtlib.Planets.getAdjustedPlanetRadius(target);}}catch($0){}return 0;}
wwtlib.Planets.getPlanetTargetPoint=function(target,lat,lng,jNow){var $0;if(!jNow){$0=wwtlib.Planets.getPlanet3dLocation(target);}else{$0=wwtlib.Planets.getPlanet3dLocationJD(target,jNow);}$0.add(wwtlib.Coordinates.raDecTo3dAu((lng/15)+6,lat,wwtlib.Planets.getPlanet3dSufaceAltitude(target)));return $0;}
wwtlib.Planets.getPlanet3dLocationJD=function(target,jNow){try{var $0=new wwtlib.Vector3d();var $1=wwtlib.AstroCalc.getPlanet(jNow,0,0,0,-6378149);var $2=wwtlib.Coordinates.raDecTo3dAu($1.RA,$1.dec,$1.distance);if(target===19){$0=wwtlib.Vector3d.create(-$2.x,-$2.y,-$2.z);}else{var $3=wwtlib.AstroCalc.getPlanet(jNow,target,0,0,-6378149);$0=wwtlib.Coordinates.raDecTo3dAu($3.RA,$3.dec,$3.distance);$0.subtract($2);}$0.rotateX(wwtlib.Coordinates.meanObliquityOfEcliptic(jNow)*wwtlib.Planets.RC);if(wwtlib.Settings.get_active().get_solarSystemScale()!==1){switch(target){case 9:var $4=wwtlib.Planets.getPlanet3dLocationJD(19,jNow);$0.subtract($4);$0.multiply(wwtlib.Settings.get_active().get_solarSystemScale()/2);$0.add($4);break;case 10:case 11:case 12:case 13:var $5=wwtlib.Planets.getPlanet3dLocationJD(4,jNow);$0.subtract($5);$0.multiply(wwtlib.Settings.get_active().get_solarSystemScale());$0.add($5);break;default:break;}}return $0;}catch($6){return wwtlib.Vector3d.create(0,0,0);}}
wwtlib.Planets.getPlanetLocation=function(name){var $0=wwtlib.Planets.getPlanetIDFromName(name);if(wwtlib.Planets.$14!=null){return wwtlib.Planets.$14[$0];}else{return wwtlib.AstroCalc.getPlanet(wwtlib.SpaceTimeController.get_jNow(),$0,wwtlib.SpaceTimeController.get_location().get_lat(),wwtlib.SpaceTimeController.get_location().get_lng(),wwtlib.SpaceTimeController.get_altitude());}}
wwtlib.Planets.getPlanetLocationJD=function(name,jNow){var $0=wwtlib.Planets.getPlanetIDFromName(name);return wwtlib.AstroCalc.getPlanet(jNow,$0,wwtlib.SpaceTimeController.get_location().get_lat(),wwtlib.SpaceTimeController.get_location().get_lng(),wwtlib.SpaceTimeController.get_altitude());}
wwtlib.Planets.getPlanetIDFromName=function(planetName){switch(planetName){case 'Sun':return 0;case 'Mercury':return 1;case 'Venus':return 2;case 'Mars':return 3;case 'Jupiter':return 4;case 'Saturn':return 5;case 'Uranus':return 6;case 'Neptune':return 7;case 'Pluto':return 8;case 'Moon':return 9;case 'Io':return 10;case 'Europa':return 11;case 'Ganymede':return 12;case 'Callisto':return 13;case 'Earth':return 19;case 'IoShadow':return 14;case 'EuropaShadow':return 15;case 'GanymedeShadow':return 16;case 'CallistoShadow':return 17;case 'SunEclipsed':return 18;case 'Custom':return 20;case 'Undefined':return 65536;default:return -1;}}
wwtlib.Planets.getNameFrom3dId=function(id){switch(id){case 0:return 'Sun';case 1:return 'Mercury';case 2:return 'Venus';case 3:return 'Visible Imagery';case 4:return 'Jupiter';case 5:return 'Saturn';case 6:return 'Uranus';case 7:return 'Neptune';case 8:return 'Pluto';case 9:return 'Moon';case 10:return 'Io (Jupiter)';case 11:return 'Europa (Jupiter)';case 12:return 'Ganymede (Jupiter)';case 13:return 'Callisto (Jupiter)';case 19:return 'Bing Maps Aerial';default:return '';}}
wwtlib.Planets.updatePlanetLocations=function(threeDee){wwtlib.Planets.$7=wwtlib.SpaceTimeController.get_jNow();if(threeDee){wwtlib.Planets.updateOrbits(0);}if(wwtlib.Planets.$2==null){wwtlib.Planets.$2=new Array(20);wwtlib.Planets.$2[0]=0.009291568;wwtlib.Planets.$2[1]=3.25794793734425E-05;wwtlib.Planets.$2[2]=8.08669220531394E-05;wwtlib.Planets.$2[3]=4.53785605596396E-05;wwtlib.Planets.$2[4]=0.000954501;wwtlib.Planets.$2[5]=0.000802173;wwtlib.Planets.$2[6]=0.000339564;wwtlib.Planets.$2[7]=0.000324825;wwtlib.Planets.$2[8]=1.52007379777805E-05;wwtlib.Planets.$2[9]=2.32084653538149E-05;wwtlib.Planets.$2[10]=2.43519298386342E-05;wwtlib.Planets.$2[11]=2.08692629580609E-05;wwtlib.Planets.$2[12]=3.51742670356556E-05;wwtlib.Planets.$2[13]=3.22263666626559E-05;wwtlib.Planets.$2[14]=2.43519298386342E-05;wwtlib.Planets.$2[15]=2.08692629580609E-05;wwtlib.Planets.$2[16]=3.51742670356556E-05;wwtlib.Planets.$2[17]=3.22263666626559E-05;wwtlib.Planets.$2[18]=0.009291568*2;wwtlib.Planets.$2[19]=8.55626412117809E-05;}if(wwtlib.Planets.planetColors==null){var $2=wwtlib.Color.fromArgb(255,255,255,221);var $3=wwtlib.Color.fromArgb(255,255,68,0);wwtlib.Planets.planetColors=new Array(20);wwtlib.Planets.planetColors[0]=wwtlib.Colors.get_yellow();wwtlib.Planets.planetColors[1]=wwtlib.Colors.get_white();wwtlib.Planets.planetColors[2]=$2;wwtlib.Planets.planetColors[3]=$3;wwtlib.Planets.planetColors[4]=wwtlib.Color.fromArgb(255,255,165,0);wwtlib.Planets.planetColors[5]=wwtlib.Color.fromArgb(255,184,134,11);wwtlib.Planets.planetColors[6]=wwtlib.Color.fromArgb(255,173,216,230);wwtlib.Planets.planetColors[7]=wwtlib.Colors.get_blue();wwtlib.Planets.planetColors[8]=wwtlib.Colors.get_white();wwtlib.Planets.planetColors[9]=wwtlib.Colors.get_white();wwtlib.Planets.planetColors[10]=wwtlib.Colors.get_white();wwtlib.Planets.planetColors[11]=wwtlib.Colors.get_white();wwtlib.Planets.planetColors[12]=wwtlib.Colors.get_white();wwtlib.Planets.planetColors[13]=wwtlib.Colors.get_white();wwtlib.Planets.planetColors[14]=wwtlib.Colors.get_black();wwtlib.Planets.planetColors[15]=wwtlib.Colors.get_black();wwtlib.Planets.planetColors[16]=wwtlib.Colors.get_black();wwtlib.Planets.planetColors[17]=wwtlib.Colors.get_black();wwtlib.Planets.planetColors[18]=wwtlib.Colors.get_white();wwtlib.Planets.planetColors[19]=wwtlib.Color.fromArgb(255,173,216,230);}if(wwtlib.Planets.$3==null){wwtlib.Planets.$3=new Array(20);wwtlib.Planets.$3[0]=0;wwtlib.Planets.$3[1]=0.01;wwtlib.Planets.$3[2]=177.4;wwtlib.Planets.$3[3]=25.19;wwtlib.Planets.$3[4]=3.13;wwtlib.Planets.$3[5]=26.73;wwtlib.Planets.$3[6]=97.77;wwtlib.Planets.$3[7]=28.32;wwtlib.Planets.$3[8]=119.61;wwtlib.Planets.$3[9]=23.439;wwtlib.Planets.$3[10]=2.21;wwtlib.Planets.$3[11]=0;wwtlib.Planets.$3[12]=-0.33;wwtlib.Planets.$3[13]=0;wwtlib.Planets.$3[14]=0;wwtlib.Planets.$3[15]=0;wwtlib.Planets.$3[16]=0;wwtlib.Planets.$3[17]=0;wwtlib.Planets.$3[18]=0;wwtlib.Planets.$3[19]=23.5;}wwtlib.Planets.$3[19]=wwtlib.Planets.$B/wwtlib.Planets.RC;if(wwtlib.Planets.planetRotationPeriod==null){wwtlib.Planets.planetRotationPeriod=new Array(20);wwtlib.Planets.planetRotationPeriod[0]=25.37995;wwtlib.Planets.planetRotationPeriod[1]=58.6462;wwtlib.Planets.planetRotationPeriod[2]=-243.0187;wwtlib.Planets.planetRotationPeriod[3]=1.02595675;wwtlib.Planets.planetRotationPeriod[4]=0.41007;wwtlib.Planets.planetRotationPeriod[5]=0.426;wwtlib.Planets.planetRotationPeriod[6]=-0.71833;wwtlib.Planets.planetRotationPeriod[7]=0.67125;wwtlib.Planets.planetRotationPeriod[8]=-6.38718;wwtlib.Planets.planetRotationPeriod[9]=27.3;wwtlib.Planets.planetRotationPeriod[10]=1.769137786;wwtlib.Planets.planetRotationPeriod[11]=3.551;wwtlib.Planets.planetRotationPeriod[12]=7.155;wwtlib.Planets.planetRotationPeriod[13]=16.69;wwtlib.Planets.planetRotationPeriod[14]=0;wwtlib.Planets.planetRotationPeriod[15]=0;wwtlib.Planets.planetRotationPeriod[16]=0;wwtlib.Planets.planetRotationPeriod[17]=0;wwtlib.Planets.planetRotationPeriod[18]=0;wwtlib.Planets.planetRotationPeriod[19]=0.99726968;}if(wwtlib.Planets.$1==null){wwtlib.Planets.$1=new Array(20);}if(wwtlib.Planets.$6==null){wwtlib.Planets.$6=new Array(20);}if(wwtlib.Settings.get_active().get_actualPlanetScale()){wwtlib.Planets.$1[0]=0.5;wwtlib.Planets.$1[1]=0.25;wwtlib.Planets.$1[2]=0.25;wwtlib.Planets.$1[3]=0.25;wwtlib.Planets.$1[4]=0.25;wwtlib.Planets.$1[5]=0.5;wwtlib.Planets.$1[6]=0.25;wwtlib.Planets.$1[7]=0.25;wwtlib.Planets.$1[8]=0.25;wwtlib.Planets.$1[9]=0.25;wwtlib.Planets.$1[10]=0.25;wwtlib.Planets.$1[11]=0.25;wwtlib.Planets.$1[12]=0.25;wwtlib.Planets.$1[13]=0.25;wwtlib.Planets.$1[14]=0.25;wwtlib.Planets.$1[15]=0.25;wwtlib.Planets.$1[16]=0.25;wwtlib.Planets.$1[17]=0.25;wwtlib.Planets.$1[18]=0.5;wwtlib.Planets.$1[19]=0.25;}else{for(var $4=0;$4<20;$4++){if($4<10){wwtlib.Planets.$1[$4]=0.25;}else{wwtlib.Planets.$1[$4]=0.1;}}wwtlib.Planets.$1[0]=0.5;wwtlib.Planets.$1[5]=0.5;wwtlib.Planets.$1[18]=0.5;}wwtlib.Planets.$5={};wwtlib.Planets.$14=new Array(20);var $0=new wwtlib.Vector3d();var $1=0;if($1>-1){var $5=wwtlib.AstroCalc.getPlanet(wwtlib.Planets.$7,$1,(threeDee)?0:wwtlib.SpaceTimeController.get_location().get_lat(),(threeDee)?0:wwtlib.SpaceTimeController.get_location().get_lng(),(threeDee)?-6378149:wwtlib.SpaceTimeController.get_altitude());$0=wwtlib.Coordinates.raDecTo3dAu($5.RA,$5.dec,$5.distance);}wwtlib.Planets.$6[19]=wwtlib.Vector3d.create(-$0.x,-$0.y,-$0.z);wwtlib.Planets.$6[19].rotateX(wwtlib.Planets.$B);for(var $6=0;$6<18;$6++){wwtlib.Planets.$14[$6]=wwtlib.AstroCalc.getPlanet(wwtlib.Planets.$7,$6,(threeDee)?0:wwtlib.SpaceTimeController.get_location().get_lat(),(threeDee)?0:wwtlib.SpaceTimeController.get_location().get_lng(),(threeDee)?-6378149:wwtlib.SpaceTimeController.get_altitude());wwtlib.Planets.$6[$6]=wwtlib.Coordinates.raDecTo3dAu(wwtlib.Planets.$14[$6].RA,wwtlib.Planets.$14[$6].dec,wwtlib.Planets.$14[$6].distance);wwtlib.Planets.$6[$6].subtract($0);wwtlib.Planets.$6[$6].rotateX(wwtlib.Planets.$B);if(wwtlib.Settings.get_active().get_actualPlanetScale()){wwtlib.Planets.$1[$6]=(2*Math.atan(0.5*(wwtlib.Planets.$2[$6]/wwtlib.Planets.$14[$6].distance)))/Math.PI*180;}if(wwtlib.Settings.get_active().get_solarSystemScale()!==1){var $8=$6;switch($8){case 9:var $9=wwtlib.Planets.$6[19];wwtlib.Planets.$6[$6].subtract($9);wwtlib.Planets.$6[$6].multiply(wwtlib.Settings.get_active().get_solarSystemScale()/2);wwtlib.Planets.$6[$6].add($9);break;case 10:case 11:case 12:case 13:var $A=wwtlib.Planets.$6[4];wwtlib.Planets.$6[$6].subtract($A);wwtlib.Planets.$6[$6].multiply(wwtlib.Settings.get_active().get_solarSystemScale());wwtlib.Planets.$6[$6].add($A);break;default:break;}}var $7=-wwtlib.Planets.$14[$6].distance;while(Object.keyExists(wwtlib.Planets.$5,$7)){$7+=1E-10;}wwtlib.Planets.$5[$7]=$6;}wwtlib.Planets.$14[18]=wwtlib.Planets.$14[0];wwtlib.Planets.$1[18]=wwtlib.Planets.$1[0]*2;wwtlib.Planets.$1[5]=wwtlib.Planets.$1[5]*2;wwtlib.Planets.$F=wwtlib.SpaceTimeController.get_now();}
wwtlib.Planets.planetsReady=function(){}
wwtlib.Planets.updateOrbits=function(planetCenter){try{wwtlib.Planets.$B=wwtlib.Coordinates.meanObliquityOfEcliptic(wwtlib.SpaceTimeController.get_jNow())*wwtlib.Planets.RC;if(planetCenter!==wwtlib.Planets.$9){wwtlib.Planets.$4=null;}wwtlib.Planets.$9=planetCenter;if(wwtlib.Planets.$4==null){if(planetCenter<0){wwtlib.Planets.$8=wwtlib.Matrix3d.get_identity();}else{wwtlib.Planets.$8=wwtlib.Matrix3d.get_identity();wwtlib.Planets.$8=wwtlib.Matrix3d.$1D(wwtlib.Planets.$B);}if(wwtlib.Planets.planetOrbitalYears==null){wwtlib.Planets.planetOrbitalYears=new Array(20);wwtlib.Planets.planetOrbitalYears[0]=1;wwtlib.Planets.planetOrbitalYears[1]=0.241;wwtlib.Planets.planetOrbitalYears[2]=0.615;wwtlib.Planets.planetOrbitalYears[3]=1.881;wwtlib.Planets.planetOrbitalYears[4]=11.87;wwtlib.Planets.planetOrbitalYears[5]=29.45;wwtlib.Planets.planetOrbitalYears[6]=84.07;wwtlib.Planets.planetOrbitalYears[7]=164.9;wwtlib.Planets.planetOrbitalYears[8]=248.1;wwtlib.Planets.planetOrbitalYears[9]=27.3/365.25;wwtlib.Planets.planetOrbitalYears[10]=16.6890184/365.25;wwtlib.Planets.planetOrbitalYears[11]=3.551181/365.25;wwtlib.Planets.planetOrbitalYears[12]=7.15455296/365.25;wwtlib.Planets.planetOrbitalYears[13]=16.6890184/365.25;wwtlib.Planets.planetOrbitalYears[19]=1;}if(!wwtlib.Planets.readOrbits()){wwtlib.Planets.$4=new Array(20);for(var $0=1;$0<20;$0++){wwtlib.Planets.$4[$0]=new Array(wwtlib.Planets.$A);if($0<9||$0===19){for(var $1=0;$1<wwtlib.Planets.$A;$1++){var $2=planetCenter;var $3=wwtlib.Planets.$7+((wwtlib.Planets.planetOrbitalYears[$0]*365.25/wwtlib.Planets.$A)*($1-(wwtlib.Planets.$A/2)));var $4=new wwtlib.Vector3d();if($0===9){$2=-1;}else if($0>9&&$0<14){$2=4;}if($2>-1){var $5=wwtlib.AstroCalc.getPlanet($3,$2,0,0,-6378149);$4=wwtlib.Coordinates.raDecTo3dAu($5.RA,$5.dec,$5.distance);}if($0!==19){var $6=wwtlib.AstroCalc.getPlanet($3,$0,0,0,-6378149);wwtlib.Planets.$4[$0][$1]=wwtlib.Coordinates.raDecTo3dAu($6.RA,$6.dec,$6.distance);wwtlib.Planets.$4[$0][$1].subtract($4);}else{wwtlib.Planets.$4[$0][$1]=wwtlib.Vector3d.create(-$4.x,-$4.y,-$4.z);}wwtlib.Planets.$4[$0][$1].rotateX(wwtlib.Planets.$B);}wwtlib.Planets.$4[$0][wwtlib.Planets.$A-1]=wwtlib.Planets.$4[$0][0];}}wwtlib.Planets.dumpOrbitsFile();}}}finally{}}
wwtlib.Planets.readOrbits=function(){return false;return true;}
wwtlib.Planets.dumpOrbitsFile=function(){}
wwtlib.Planets.drawPlanets=function(renderContext,opacity){if(wwtlib.Planets.$0==null){wwtlib.Planets.$C();}var $0=wwtlib.Planets.$17(wwtlib.Planets.$14[9].RA,wwtlib.Planets.$14[9].dec,wwtlib.Planets.$14[0].RA,wwtlib.Planets.$14[0].dec);var $1=wwtlib.Planets.$14[9].RA-wwtlib.Planets.$14[0].RA;if(wwtlib.Planets.$14[9].RA<wwtlib.Planets.$14[0].RA){$1+=24;}var $2=wwtlib.Planets.$18($0,wwtlib.Planets.$14[9].distance,wwtlib.Planets.$14[0].distance);var $3=wwtlib.Planets.$19(wwtlib.Planets.$14[9].RA,wwtlib.Planets.$14[9].dec,wwtlib.Planets.$14[0].RA,wwtlib.Planets.$14[0].dec);if($1<12){$2+=180;}var $4=(Math.abs(wwtlib.Planets.$14[9].RA-wwtlib.Planets.$14[0].RA)*15)*Math.cos(wwtlib.Coordinates.degreesToRadians(wwtlib.Planets.$14[0].dec));var $5=Math.abs(wwtlib.Planets.$14[9].dec-wwtlib.Planets.$14[0].dec);var $6=Math.sqrt($4*$4+$5*$5);var $7=false;var $8=0;var $9=(wwtlib.Planets.$1[9]/2-$6);var $A=Math.min(32,parseInt(($6*32)));if($9>(wwtlib.Planets.$1[0]/4)){$7=true;$8=Math.min(1,($9-(wwtlib.Planets.$1[0]/2))/0.001);wwtlib.Planets.$15(renderContext,18,$8);}var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.Planets.$5));while($enum1.moveNext()){var $B=$enum1.current;var $C=wwtlib.Planets.$5[$B];wwtlib.Planets.$15(renderContext,$C,1);}return true;}
wwtlib.Planets.$C=function(){var $0='http://cdn.worldwidetelescope.org/webclient/images/';wwtlib.Planets.$0=new Array(20);wwtlib.Planets.$0[0]=wwtlib.Planets.loadPlanetTexture($0+'sun.jpg');wwtlib.Planets.$0[1]=wwtlib.Planets.loadPlanetTexture($0+'mercury.jpg');wwtlib.Planets.$0[2]=wwtlib.Planets.loadPlanetTexture($0+'venus.jpg');wwtlib.Planets.$0[3]=wwtlib.Planets.loadPlanetTexture($0+'mars.jpg');wwtlib.Planets.$0[4]=wwtlib.Planets.loadPlanetTexture($0+'jupiter.jpg');wwtlib.Planets.$0[5]=wwtlib.Planets.loadPlanetTexture($0+'saturn.png');wwtlib.Planets.$0[6]=wwtlib.Planets.loadPlanetTexture($0+'uranus.jpg');wwtlib.Planets.$0[7]=wwtlib.Planets.loadPlanetTexture($0+'neptune.jpg');wwtlib.Planets.$0[8]=wwtlib.Planets.loadPlanetTexture($0+'pluto.jpg');wwtlib.Planets.$0[9]=wwtlib.Planets.loadPlanetTexture($0+'moon.jpg');wwtlib.Planets.$0[10]=wwtlib.Planets.loadPlanetTexture($0+'io.jpg');wwtlib.Planets.$0[11]=wwtlib.Planets.loadPlanetTexture($0+'europa.jpg');wwtlib.Planets.$0[12]=wwtlib.Planets.loadPlanetTexture($0+'ganymede.jpg');wwtlib.Planets.$0[13]=wwtlib.Planets.loadPlanetTexture($0+'callisto.jpg');wwtlib.Planets.$0[14]=wwtlib.Planets.loadPlanetTexture($0+'sun.jpg');wwtlib.Planets.$0[15]=wwtlib.Planets.loadPlanetTexture($0+'sun.jpg');wwtlib.Planets.$0[16]=wwtlib.Planets.loadPlanetTexture($0+'sun.jpg');wwtlib.Planets.$0[17]=wwtlib.Planets.loadPlanetTexture($0+'sun.jpg');wwtlib.Planets.$0[18]=wwtlib.Planets.loadPlanetTexture('sunCorona.png');wwtlib.Planets.$0[19]=wwtlib.Planets.loadPlanetTexture('earth.jpg');}
wwtlib.Planets.drawPlanets3D=function(renderContext,opacity,centerPoint){wwtlib.Planets.initPlanetResources(renderContext);var $0=wwtlib.UiTools.solarSystemToMeters(renderContext.get_solarSystemCameraDistance());var $1=Math.min(1,Math.max(wwtlib._Util.$C($0)-7.3,0));var $2=Math.min(1,Math.max(wwtlib._Util.$C($0)-8.6,0));if(wwtlib.Settings.get_active().get_solarSystemOrbits()&&$2>0){for(var $5=1;$5<10;$5++){var $6=$5;if($5===9){$6=19;}var $7=Math.atan2(wwtlib.Planets.$6[$6].z,wwtlib.Planets.$6[$6].x);wwtlib.Planets.$E(renderContext,wwtlib.Planets.planetColors[$6],$6,centerPoint,$7,wwtlib.Planets.$6[$6],$2);}}Object.clearKeys(wwtlib.Planets.$D);var $3=renderContext.cameraPosition.copy();for(var $8=0;$8<14;$8++){if(!wwtlib.Planets.$14[$8].eclipsed){var $9=wwtlib.Vector3d.subtractVectors($3,wwtlib.Vector3d.subtractVectors(wwtlib.Planets.$6[$8],centerPoint));if(!Object.keyExists(wwtlib.Planets.$D,$9.length())){wwtlib.Planets.$D[$9.length()]=$8;}}}var $4=wwtlib.Vector3d.subtractVectors($3,wwtlib.Vector3d.subtractVectors(wwtlib.Planets.$6[19],centerPoint));if(!Object.keyExists(wwtlib.Planets.$D,$4.length())){wwtlib.Planets.$D[$4.length()]=19;}var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.Planets.$D));while($enum1.moveNext()){var $A=$enum1.current;var $B=wwtlib.Planets.$D[$A];wwtlib.Planets.$11(renderContext,$B,centerPoint);}return true;}
wwtlib.Planets.initPlanetResources=function(renderContext){}
wwtlib.Planets.$E=function($p0,$p1,$p2,$p3,$p4,$p5,$p6){if($p6<0.01){return;}if($p0.gl==null){var $0=wwtlib.Planets.$A;var $1=false;var $2=$p0.get_viewPoint();var $3=$p0.device;$3.save();$3.strokeStyle=$p1.toString();$3.lineWidth=2;$3.globalAlpha=1;var $4=new wwtlib.Vector3d();var $5=new wwtlib.Vector3d();var $6=new wwtlib.Vector3d();var $7=true;var $8=wwtlib.Matrix3d.translation(wwtlib.Vector3d.negate($p3));var $9=wwtlib.Matrix3d.multiplyMatrix($8,$p0.WVP);var $A=wwtlib.Matrix3d.multiplyMatrix($8,$p0.WV);for(var $B=0;$B<$0;$B++){var $C=wwtlib.Planets.$4[$p2][$B];var $D=(Math.atan2(wwtlib.Planets.$4[$p2][$B].z,wwtlib.Planets.$4[$p2][$B].x)+Math.PI*2-$p4)%(Math.PI*2);var $E=parseInt(($D/(Math.PI*2)*255));var $F=$E/255;if($E<2&&!$1){$C=$p5;$F=1;}$5=$A.transform($C);$4=$9.transform($C);if($5.z>0){if($7){$7=false;}else{$3.beginPath();$3.globalAlpha=$F*$p6;$3.moveTo($6.x,$6.y);$3.lineTo($4.x,$4.y);$3.stroke();}}$6=$4;}$3.restore();}else{}}
wwtlib.Planets.isPlanetInFrustum=function(renderContext,rad){var $0=renderContext.get_frustum();var $1=wwtlib.Vector3d.create(0,0,0);var $2=new wwtlib.Vector4d(0,0,0,1);for(var $3=0;$3<6;$3++){if($0[$3].dot($2)+rad<0){return false;}}return true;}
wwtlib.Planets.$11=function($p0,$p1,$p2){if($p1===0){}else{}var $0=wwtlib.Planets.getAdjustedPlanetRadius($p1);var $1=0;if($p1===19){$1=wwtlib.Coordinates.mstFromUTC2(wwtlib.SpaceTimeController.get_now(),0)/180*Math.PI;}else{$1=(((wwtlib.Planets.$7-2451545)/wwtlib.Planets.planetRotationPeriod[$p1])*Math.PI*2)%(Math.PI*2);}var $2=$p0.get_world();var $3=$p0.get_worldBase();var $4=$p0.get_worldBaseNonRotating();var $5=$p0.get_world().clone();var $6=$p0.get_world().clone();var $7=wwtlib.Vector3d.subtractVectors(wwtlib.Planets.$6[$p1],$p2);$5.scale(wwtlib.Vector3d.create($0,$0,$0));$5.$21(wwtlib.Matrix3d.$1C(-$1));$5.$21(wwtlib.Matrix3d.$1D((wwtlib.Planets.$3[$p1]*wwtlib.Planets.RC)));$5.$21(wwtlib.Matrix3d.translation($7));$6.scale(wwtlib.Vector3d.create($0,$0,$0));$6.$21(wwtlib.Matrix3d.$1D((wwtlib.Planets.$3[$p1]*wwtlib.Planets.RC)));$6.$21(wwtlib.Matrix3d.translation($7));$p0.set_world($5);$p0.set_worldBase($5.clone());$p0.set_worldBaseNonRotating($6);$p0.makeFrustum();var $8=1;if($p1===5){$8=3;}if(wwtlib.Planets.isPlanetInFrustum($p0,$8)){var $9=wwtlib.Planets.$6[0].copy();var $A=wwtlib.Planets.$6[$p1].copy();$9=$2.transform($9);$A=$2.transform($A);var $B=wwtlib.Vector3d.subtractVectors($9,$A);$B.normalize();$p0.set_sunPosition($B);var $C=wwtlib.Vector3d.subtractVectors(wwtlib.Planets.$6[$p1],$p2);$C.subtract($p0.cameraPosition);var $D=$C.length();var $E=(2*Math.atan(0.5*($0/$D)))/Math.PI*180;var $F=0;if($E>10.5){$F=0;}else if($E>3.9){$F=1;}else if($E>0.72){$F=2;}else if($E>0.05){$F=3;}else{$F=4;}if($p1===19&&$F<2){var $10=wwtlib.Settings.get_active().get_solarSystemScale()*1E-05;}if($F<3){var $11=$p0.lighting;if($p1===5){$p0.lighting=false;wwtlib.Planets.drawSaturnsRings($p0,false,$D);$p0.lighting=$11;}if(!$p1){$p0.lighting=false;}wwtlib.Planets.$1A($p0,$p1);if($p1===5){$p0.lighting=false;wwtlib.Planets.drawSaturnsRings($p0,true,$D);}$p0.lighting=$11;}else{if(!$p1){wwtlib.Planets.drawPointPlanet($p0,new wwtlib.Vector3d(),(10*wwtlib.Planets.$2[$p1]),wwtlib.Planets.planetColors[$p1],true);}else if($p1<9||$p1===19){var $12=(800*wwtlib.Planets.$2[$p1]);wwtlib.Planets.drawPointPlanet($p0,new wwtlib.Vector3d(),Math.max(0.05,Math.min(0.1,$12)),wwtlib.Planets.planetColors[$p1],true);}else if($E>0.002){var $13=(800*wwtlib.Planets.$2[$p1]);wwtlib.Planets.drawPointPlanet($p0,new wwtlib.Vector3d(),Math.max(0.05,Math.min(0.1,$13)),wwtlib.Planets.planetColors[$p1],true);}}}$p0.set_world($2);$p0.set_worldBase($3);$p0.set_worldBaseNonRotating($4);}
wwtlib.Planets.drawSaturnsRings=function(renderContext,front,distance){if(wwtlib.Planets.$12[0]==null){wwtlib.Planets.$13=document.createElement('img');var $0=wwtlib.Planets.$13;$0.crossOrigin='anonymous';wwtlib.Planets.$13.src='/webclient/images/saturnringsshadow.png';wwtlib.Planets.$12[0]=[];wwtlib.Planets.$12[1]=[];var $1=2.25;var $2=wwtlib.Vector3d.create(-$1,0,-$1);var $3=wwtlib.Vector3d.create($1,0,-$1);var $4=wwtlib.Vector3d.create(-$1,0,$1);var $5=wwtlib.Vector3d.create($1,0,$1);var $6=wwtlib.Vector3d.create(0,0,0);var $7=wwtlib.Vector3d.create(-$1,0,0);var $8=wwtlib.Vector3d.create(0,0,-$1);var $9=wwtlib.Vector3d.create(0,0,$1);var $A=wwtlib.Vector3d.create($1,0,0);var $B=6;var $C;$C=[];var $D=1024;var $E=1024;$C.add(wwtlib.PositionTexture.createPosSize($2,0,0,$D,$E));$C.add(wwtlib.PositionTexture.createPosSize($3,1,0,$D,$E));$C.add(wwtlib.PositionTexture.createPosSize($4,0,1,$D,$E));$C.add(wwtlib.PositionTexture.createPosSize($5,1,1,$D,$E));var $F=[];$F.add(wwtlib.wwtlib$7.$0(0,2,1));$F.add(wwtlib.wwtlib$7.$0(2,3,1));var $10=5;while($10-->1){var $12=[];var $enum1=ss.IEnumerator.getEnumerator($F);while($enum1.moveNext()){var $13=$enum1.current;$13.$2($12,$C);}$F=$12;}var $11=0.6/($D/256);var $enum2=ss.IEnumerator.getEnumerator($F);while($enum2.moveNext()){var $14=$enum2.current;var $15=$C[$14.a];var $16=$C[$14.b];var $17=$C[$14.c];wwtlib.Planets.$12[0].add(wwtlib.RenderTriangle.createWithMiter($15,$16,$17,wwtlib.Planets.$13,$B,$11));}}if(renderContext.gl==null){var $18=renderContext.cameraPosition;var $19=new wwtlib.Vector3d();var $1A=wwtlib.Matrix3d.multiplyMatrix(wwtlib.Matrix3d.$1C(Math.atan2(renderContext.get_sunPosition().x,renderContext.get_sunPosition().z)),renderContext.get_worldBaseNonRotating());var $1B=wwtlib.Matrix3d.multiplyMatrix($1A,renderContext.get_view());var $1C=wwtlib.Matrix3d.multiplyMatrix($1B,renderContext.get_projection());var $1D=renderContext.width;var $1E=renderContext.height;$1C.scale(wwtlib.Vector3d.create($1D/2,-$1E/2,1));$1C.translate(wwtlib.Vector3d.create($1D/2,$1E/2,0));var $1F=0;for(var $20=0;$20<2;$20++){var $enum3=ss.IEnumerator.getEnumerator(wwtlib.Planets.$12[0]);while($enum3.moveNext()){var $21=$enum3.current;$19=$1B.transform($21.a.position);$1F=$19.length();var $22=$1F>distance;if(front){$22=!$22;}if($22){$21.opacity=1;$21.draw(renderContext.device,$1C);}}wwtlib.RenderTriangle.cullInside=!wwtlib.RenderTriangle.cullInside;}}else{}}
wwtlib.Planets.drawPointPlanet=function(renderContext,location,size,color,zOrder){size=Math.max(2,size);var $0=location;var $1=size/2;var $2=renderContext.WVP.transform($0);if($2.z<0){return;}if(!zOrder){if(wwtlib.Vector3d.dot(renderContext.get_viewPoint(),$0)<0.55){return;}}if(renderContext.gl!=null){}else{var $3=renderContext.device;$3.save();$3.beginPath();$3.arc($2.x,$2.y,$1,0,Math.PI*2,true);$3.lineWidth=1;$3.fillStyle=color.toString();if(true){$3.fill();}$3.globalAlpha=1;$3.strokeStyle=color.toString();$3.stroke();$3.restore();}}
wwtlib.Planets.getAdjustedPlanetRadius=function(planetID){if(planetID>wwtlib.Planets.$2.length-1){planetID=19;}var $0=wwtlib.Planets.$2[planetID];var $1=($0/2);if(!!planetID){$1=$1*(1+(3*(wwtlib.Settings.get_active().get_solarSystemScale()-1)));}else{$1=$1*(1+(0.3*(wwtlib.Settings.get_active().get_solarSystemScale()-1)));}return $1;}
wwtlib.Planets.$15=function($p0,$p1,$p2){var $0=wwtlib.Planets.$14[$p1];if((($p1<14)&&wwtlib.Planets.$1[$p1]<($p0.viewCamera.zoom/6)/400)){if($p1<10||(($p1<14)&&wwtlib.Planets.$1[$p1]>($p0.viewCamera.zoom/6)/6400)){var $5=wwtlib.Coordinates.raDecTo3d($0.RA,$0.dec);wwtlib.Planets.drawPointPlanet($p0,$5,3,wwtlib.Planets.planetColors[$p1],false);}return;}var $1=null;if($p1<10||$p1===18){$1=wwtlib.Planets.$0[$p1].imageElement;}else if($p1<14){if(wwtlib.Planets.$14[$p1].eclipsed){$1=wwtlib.Planets.$0[15].imageElement;}else{if(wwtlib.Settings.get_active().get_showMoonsAsPointSource()){$1=wwtlib.Planets.$0[14].imageElement;}else{$1=wwtlib.Planets.$0[$p1].imageElement;}}}else{if(!wwtlib.Planets.$14[$p1].shadow){return;}$1=wwtlib.Planets.$0[15].imageElement;}var $2=wwtlib.Coordinates.raDecTo3d($0.RA,$0.dec);var $3=wwtlib.Planets.$1[$p1]/($p0.get_fovScale()/3600)/2;var $4=$p0.WVP.transform($2);if($4.z<0){return;}if(wwtlib.Vector3d.dot($p0.get_viewPoint(),$2)<0.55){return;}if($p0.gl!=null){}else{var $6=$p0.device;$6.save();$6.globalAlpha=$p2;$6.beginPath();$6.arc($4.x,$4.y,$3,0,Math.PI*2,true);$6.lineWidth=0;$6.closePath();$6.clip();$6.drawImage($1,$4.x-$3,$4.y-$3,$3*2,$3*2);$6.globalAlpha=1;$6.restore();}}
wwtlib.Planets.$16=function($p0,$p1,$p2,$p3,$p4){}
wwtlib.Planets.$17=function($p0,$p1,$p2,$p3){$p0=wwtlib.Coordinates.degreesToRadians($p0*15);$p2=wwtlib.Coordinates.degreesToRadians($p2*15);$p1=wwtlib.Coordinates.degreesToRadians($p1);$p3=wwtlib.Coordinates.degreesToRadians($p3);return wwtlib.Coordinates.radiansToDegrees(Math.acos(Math.sin($p3)*Math.sin($p1)+Math.cos($p3)*Math.cos($p1)*Math.cos($p2-$p0)));}
wwtlib.Planets.$18=function($p0,$p1,$p2){$p0=wwtlib.Coordinates.degreesToRadians($p0);return wwtlib.Coordinates.mapTo0To360Range(wwtlib.Coordinates.radiansToDegrees(Math.atan2($p2*Math.sin($p0),$p1-$p2*Math.cos($p0))));}
wwtlib.Planets.$19=function($p0,$p1,$p2,$p3){$p0=wwtlib.Coordinates.hoursToRadians($p0);$p2=wwtlib.Coordinates.hoursToRadians($p2);$p1=wwtlib.Coordinates.degreesToRadians($p1);$p3=wwtlib.Coordinates.degreesToRadians($p3);return wwtlib.Coordinates.mapTo0To360Range(wwtlib.Coordinates.radiansToDegrees(Math.atan2(Math.cos($p1)*Math.sin($p0-$p2),Math.sin($p1)*Math.cos($p3)-Math.cos($p1)*Math.sin($p3)*Math.cos($p0-$p2))));}
wwtlib.Planets.$1A=function($p0,$p1){var $0=wwtlib.Planets.getNameFrom3dId($p1);var $1=wwtlib.WWTControl.singleton.getImagesetByName($0);if($1==null){$1=wwtlib.WWTControl.singleton.getImagesetByName('Bing Maps Aerial');}if($1!=null){$p0.drawImageSet($1,100);if($p1===19){}return;}}
wwtlib.PlotTile=function(){this.$13=[];wwtlib.PlotTile.initializeBase(this);}
wwtlib.PlotTile.create=function(level,xc,yc,dataset,parent){var $0=new wwtlib.PlotTile();$0.parent=parent;$0.level=level;$0.tileX=xc;$0.tileY=yc;$0.dataset=dataset;$0.$F=!dataset.get_bottomsUp();if($0.tileX!==xc){alert('bad');}if(!!dataset.get_meanRadius()){$0.set_$4(dataset.get_meanRadius());}else{if(!dataset.get_dataSetType()){$0.set_$4(6371000);}else{$0.set_$4(3396010);}}$0.computeBoundingSphere();return $0;}
wwtlib.PlotTile.prototype={$F:true,bounds:null,backslash:false,$10:null,$11:null,demArray:null,computeBoundingSphere:function(){this.$16();this.topLeft=this.bounds[0+3*0].position.copy();this.bottomRight=this.bounds[2+3*2].position.copy();this.topRight=this.bounds[2+3*0].position.copy();this.bottomLeft=this.bounds[0+3*2].position.copy();this.calcSphere();},renderPart:function(renderContext,part,opacity,combine){if(renderContext.gl!=null){}else{if(!part){var $enum1=ss.IEnumerator.getEnumerator(this.$13);while($enum1.moveNext()){var $0=$enum1.current;var $1=25/Math.pow(1.6,$0.magnitude);wwtlib.Planets.drawPointPlanet(renderContext,$0.position,$1,$0.col,false);}}}},$12:null,requestImage:function(){if(!this.downloading&&!this.readyToRender){this.downloading=true;this.$12=new wwtlib.WebFile(wwtlib._Util.$3(this.get_URL()));this.$12.onStateChange=ss.Delegate.create(this,this.fileStateChange);this.$12.send();}},fileStateChange:function(){if(this.$12.get_state()===2){this.downloading=false;this.readyToRender=false;this.errored=true;this.requestPending=false;wwtlib.wwtlib$3.$9(this.get_key(),true);}else if(this.$12.get_state()===1){this.texReady=true;this.downloading=false;this.errored=false;this.readyToRender=this.texReady&&(this.demReady||!this.demTile);this.requestPending=false;wwtlib.wwtlib$3.$9(this.get_key(),true);this.$14(this.$12.getText());}},$14:function($p0){var $0=$p0.replaceAll('\r\n','\n').split('\n');var $1=true;var $2=0;var $3=null;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $4=$enum1.current;if($1){$1=false;continue;}if($4.trim().length>5){$3=new wwtlib.Star($4);$3.position=wwtlib.Coordinates.raDecTo3dAu($3.RA,$3.dec,1);this.$13.add($3);}}},isPointInTile:function(lat,lng){if(!this.level){return true;}if(this.level===1){if((lng>=0&&lng<=90)&&(!this.tileX&&this.tileY===1)){return true;}if((lng>90&&lng<=180)&&(this.tileX===1&&this.tileY===1)){return true;}if((lng<0&&lng>=-90)&&(!this.tileX&&!this.tileY)){return true;}if((lng<-90&&lng>=-180)&&(this.tileX===1&&!this.tileY)){return true;}return false;}if(!this.demReady||this.demData==null){return false;}var $0=wwtlib.Coordinates.geoTo3dDouble(-lat,lng);var $1=this.$15(this.topLeft.copy(),this.topRight.copy(),$0);var $2=this.$15(this.topRight.copy(),this.bottomRight.copy(),$0);var $3=this.$15(this.bottomRight.copy(),this.bottomLeft.copy(),$0);var $4=this.$15(this.bottomLeft.copy(),this.topLeft.copy(),$0);if($1&&$2&&$3&&$4){return true;}return false;},$15:function($p0,$p1,$p2){$p0.normalize();$p1.normalize();var $0=wwtlib.Vector3d.cross($p0,$p1);var $1=wwtlib.Vector3d.dot($0,$p2);return $1<0;},$16:function(){this.$10=[];this.$11=new Array(4);this.$11[0]=[];this.$11[1]=[];this.$11[2]=[];this.$11[3]=[];this.bounds=new Array(9);if(this.level>0){if(this.parent==null){this.parent=wwtlib.wwtlib$3.$2(this.level-1,this.tileX/2,this.tileY/2,this.dataset,null);}var $0=this.parent;var $1=this.tileX%2;var $2=this.tileY%2;if(this.level>1){this.backslash=$0.backslash;}else{this.backslash=($1===1^$2===1)===1;}this.bounds[0+3*0]=$0.bounds[$1+3*$2].copy();this.bounds[1+3*0]=this.$17($0.bounds[$1+3*$2],$0.bounds[$1+1+3*$2]);this.bounds[2+3*0]=$0.bounds[$1+1+3*$2].copy();this.bounds[0+3*1]=this.$17($0.bounds[$1+3*$2],$0.bounds[$1+3*($2+1)]);if(this.backslash){this.bounds[1+3*1]=this.$17($0.bounds[$1+3*$2],$0.bounds[$1+1+3*($2+1)]);}else{this.bounds[1+3*1]=this.$17($0.bounds[$1+1+3*$2],$0.bounds[$1+3*($2+1)]);}this.bounds[2+3*1]=this.$17($0.bounds[$1+1+3*$2],$0.bounds[$1+1+3*($2+1)]);this.bounds[0+3*2]=$0.bounds[$1+3*($2+1)].copy();this.bounds[1+3*2]=this.$17($0.bounds[$1+3*($2+1)],$0.bounds[$1+1+3*($2+1)]);this.bounds[2+3*2]=$0.bounds[$1+1+3*($2+1)].copy();this.bounds[0+3*0].tu=0*wwtlib.Tile.uvMultiple;this.bounds[0+3*0].tv=0*wwtlib.Tile.uvMultiple;this.bounds[1+3*0].tu=0.5*wwtlib.Tile.uvMultiple;this.bounds[1+3*0].tv=0*wwtlib.Tile.uvMultiple;this.bounds[2+3*0].tu=1*wwtlib.Tile.uvMultiple;this.bounds[2+3*0].tv=0*wwtlib.Tile.uvMultiple;this.bounds[0+3*1].tu=0*wwtlib.Tile.uvMultiple;this.bounds[0+3*1].tv=0.5*wwtlib.Tile.uvMultiple;this.bounds[1+3*1].tu=0.5*wwtlib.Tile.uvMultiple;this.bounds[1+3*1].tv=0.5*wwtlib.Tile.uvMultiple;this.bounds[2+3*1].tu=1*wwtlib.Tile.uvMultiple;this.bounds[2+3*1].tv=0.5*wwtlib.Tile.uvMultiple;this.bounds[0+3*2].tu=0*wwtlib.Tile.uvMultiple;this.bounds[0+3*2].tv=1*wwtlib.Tile.uvMultiple;this.bounds[1+3*2].tu=0.5*wwtlib.Tile.uvMultiple;this.bounds[1+3*2].tv=1*wwtlib.Tile.uvMultiple;this.bounds[2+3*2].tu=1*wwtlib.Tile.uvMultiple;this.bounds[2+3*2].tv=1*wwtlib.Tile.uvMultiple;}else{this.bounds[0+3*0]=wwtlib.PositionTexture.create(0,-1,0,0,0);this.bounds[1+3*0]=wwtlib.PositionTexture.create(0,0,1,0.5,0);this.bounds[2+3*0]=wwtlib.PositionTexture.create(0,-1,0,1,0);this.bounds[0+3*1]=wwtlib.PositionTexture.create(-1,0,0,0,0.5);this.bounds[1+3*1]=wwtlib.PositionTexture.create(0,1,0,0.5,0.5);this.bounds[2+3*1]=wwtlib.PositionTexture.create(1,0,0,1,0.5);this.bounds[0+3*2]=wwtlib.PositionTexture.create(0,-1,0,0,1);this.bounds[1+3*2]=wwtlib.PositionTexture.create(0,0,-1,0.5,1);this.bounds[2+3*2]=wwtlib.PositionTexture.create(0,-1,0,1,1);}},$17:function($p0,$p1){var $0=wwtlib.Vector3d.lerp($p0.position,$p1.position,0.5);var $1=wwtlib.Vector2d.lerp(wwtlib.Vector2d.create($p0.tu,$p0.tv),wwtlib.Vector2d.create($p1.tu,$p1.tv),0.5);$0.normalize();return wwtlib.PositionTexture.createPos($0,$1.x,$1.y);},$18:4,$19:false,createGeometry:function(renderContext){if(this.geometryCreated){return true;}this.geometryCreated=true;wwtlib.PlotTile.callBaseMethod(this, 'createGeometry',[renderContext]);return true;},cleanUp:function(removeFromParent){wwtlib.PlotTile.callBaseMethod(this, 'cleanUp',[removeFromParent]);if(this.$10!=null){this.$10=null;}if(this.$11!=null){this.$11=null;}this.$19=false;this.demArray=null;}}
wwtlib.RenderContext=function(){this.$0=new wwtlib.Vector3d();this.viewCamera=new wwtlib.CameraParameters();this.targetCamera=new wwtlib.CameraParameters();this.$13=wwtlib.Matrix3d.create(-0.4838350155,-0.0548755604,-0.8734370902,0,0.7469822445,0.4941094279,-0.44482963,0,0.4559837762,-0.867666149,-0.1980763734,0,0,0,0,1);this.customTrackingParams=new wwtlib.CameraParameters();this.$16=new wwtlib.Vector3d();this.$17=(Math.PI/4);this.perspectiveFov=Math.PI/4;this.$1A=new Array(6);for(var $0=0;$0<6;$0++){this.$1A[$0]=new wwtlib.PlaneD(0,0,0,0);}}
wwtlib.RenderContext.create=function(device){var $0=new wwtlib.RenderContext();$0.device=device;$0.viewCamera.zoom=700;$0.viewCamera.target=65536;return $0;}
wwtlib.RenderContext.$E=function($p0,$p1){var $0=1;switch($p0.get_projection()){case 0:$0=Math.pow(2,$p1);break;case 1:$0=(Math.pow(2,$p1)*(180/$p0.get_baseTileDegrees()));break;case 2:$0=Math.pow(2,$p1);break;case 4:$0=1;break;default:$0=Math.pow(2,$p1);break;}return $0;}
wwtlib.RenderContext.$F=function($p0,$p1){var $0=1;switch($p0.get_projection()){case 6:case 3:$0=Math.pow(2,$p1);break;case 0:$0=Math.pow(2,$p1)*parseInt(($p0.get_baseTileDegrees()/360));break;case 1:$0=Math.pow(2,$p1)*parseInt(($p0.get_baseTileDegrees()/90));$0=Math.pow(2,$p1)*parseInt((360/$p0.get_baseTileDegrees()));break;case 5:case 2:if($p0.get_widthFactor()===1){$0=Math.pow(2,$p1)*2;}else{$0=Math.pow(2,$p1);}break;case 4:$0=1;break;default:$0=Math.pow(2,$p1)*2;break;}return $0;}
wwtlib.RenderContext.prototype={device:null,gl:null,height:0,width:0,lighting:false,save:function(){if(this.gl!=null){}else{this.device.save();}},restore:function(){if(this.gl!=null){}else{this.device.restore();}},clear:function(){if(this.gl!=null){this.gl.viewport(0,0,parseInt(this.width),parseInt(this.height));this.gl.clear(16384|256);}else{this.device.save();this.device.fillStyle='black';this.device.fillRect(0,0,this.width,this.height);this.device.restore();}},get_viewPoint:function(){return this.$0;},get_RA:function(){return ((((180-(this.viewCamera.lng-180))/15)%24)+48)%24;},space:false,rAtoViewLng:function(ra){return 180-(ra/24*360)-180;},get_dec:function(){return this.viewCamera.lat;},$2:0,get_fovAngle:function(){return this.$2;},$3:0,get_fovScale:function(){return this.$3;},set_fovScale:function(value){this.$3=value;return value;},$4:null,get_view:function(){return this.$4;},set_view:function(value){this.$4=value;this.$19=true;return value;},$5:null,get_viewBase:function(){return this.$5;},set_viewBase:function(value){this.$5=value;return value;},$6:null,get_projection:function(){return this.$6;},set_projection:function(value){this.$6=value;this.$19=true;return value;},$7:null,get_world:function(){return this.$7;},set_world:function(value){this.$7=value;this.$19=true;return value;},$8:null,get_worldBase:function(){return this.$8;},set_worldBase:function(value){this.$8=value;return value;},$9:null,get_worldBaseNonRotating:function(){return this.$9;},set_worldBaseNonRotating:function(value){this.$9=value;return value;},$A:6378137,get_nominalRadius:function(){return this.$A;},set_nominalRadius:function(value){this.$A=value;return value;},$B:null,get_sunPosition:function(){return this.$B;},set_sunPosition:function(value){this.$B=value;return value;},viewMover:null,onTarget:function(place){return ((Math.abs(this.viewCamera.lat-this.targetCamera.lat)<1E-12&&Math.abs(this.viewCamera.lng-this.targetCamera.lng)<1E-12&&Math.abs(this.viewCamera.zoom-this.targetCamera.zoom)<1E-12)&&this.viewMover==null);},setTexture:function(texture){},alt:0,az:0,targetAlt:0,targetAz:0,$C:null,get_backgroundImageset:function(){return this.$C;},set_backgroundImageset:function(value){this.$C=value;return value;},$D:null,get_foregroundImageset:function(){return this.$D;},set_foregroundImageset:function(value){this.$D=value;return value;},drawImageSet:function(imageset,opacity){var $0=wwtlib.RenderContext.$F(imageset,imageset.get_baseLevel());var $1=wwtlib.RenderContext.$E(imageset,imageset.get_baseLevel());for(var $2=0;$2<$0;$2++){for(var $3=0;$3<$1;$3++){var $4=wwtlib.wwtlib$3.$2(imageset.get_baseLevel(),$2,$3,imageset,null);if($4!=null){$4.draw3D(this,opacity);}}}},getScaledAltitudeForLatLong:function(viewLat,viewLong){var $0=this.get_backgroundImageset();if($0==null){return 0;}var $1=wwtlib.RenderContext.$F($0,$0.get_baseLevel());var $2=wwtlib.RenderContext.$E($0,$0.get_baseLevel());for(var $3=0;$3<$1;$3++){for(var $4=0;$4<$2;$4++){var $5=wwtlib.wwtlib$3.$2($0.get_baseLevel(),$3,$4,$0,null);if($5!=null){if($5.isPointInTile(viewLat,viewLong)){return $5.getSurfacePointAltitude(viewLat,viewLong,false);}}}}return 0;},$10:1,targetAltitude:0,$11:function(){this.lighting=false;this.space=false;wwtlib.RenderTriangle.cullInside=false;var $0=wwtlib.Matrix3d.$1C(((this.viewCamera.lng-90)/180*Math.PI));$0.$21(wwtlib.Matrix3d.$1D(((-this.viewCamera.lat)/180*Math.PI)));this.set_world($0);this.set_worldBase($0.clone());this.$0=wwtlib.Coordinates.geoTo3d(this.viewCamera.lat,this.viewCamera.lng);var $1=0;if(this.$C.get_isMandelbrot()){$1=(4*(this.viewCamera.zoom/180))+1E-41;}else{$1=(4*(this.viewCamera.zoom/180))+1E-06;}this.$2=(this.viewCamera.zoom/343.774)/Math.PI*180;this.$3=(this.$2/this.height)*3600;if(this.gl!=null){this.targetAltitude=this.getScaledAltitudeForLatLong(this.viewCamera.lat,this.viewCamera.lng);var $8=1+this.targetAltitude;this.targetAltitude*=this.get_nominalRadius();if(this.$10<$8){this.$10=(((this.$10*2)+$8)/3);}else{this.$10=(((this.$10*9)+$8)/10);}}else{this.targetAltitude=0;this.$10=1;}var $2=this.viewCamera.rotation;this.cameraPosition=wwtlib.Vector3d.create((Math.sin($2)*Math.sin(this.viewCamera.angle)*$1),(Math.cos($2)*Math.sin(this.viewCamera.angle)*$1),(-this.$10-(Math.cos(this.viewCamera.angle)*$1)));var $3=wwtlib.Vector3d.create(0,0,-this.$10);var $4=this.cameraPosition.length();var $5=wwtlib.Vector3d.create(Math.sin($2)*Math.cos(this.viewCamera.angle),Math.cos($2)*Math.cos(this.viewCamera.angle),Math.sin(this.viewCamera.angle));this.set_view(wwtlib.Matrix3d.lookAtLH(this.cameraPosition,$3,$5));this.set_viewBase(this.get_view());var $6=Math.sqrt(($1+1)*($1+1)-1);$6=Math.max(0.5,$6);var $7=$1*0.05;$7=$1*0.05;this.set_projection(wwtlib.Matrix3d.perspectiveFovLH((Math.PI/4),this.width/this.height,$7,$6));this.$18();this.makeFrustum();},$12:true,$14:false,setupMatricesSpace3d:function(canvasWidth,canvasHeight){this.lighting=false;if(!this.$14){this.$13=wwtlib.Matrix3d.get_identity();this.$13.$21(wwtlib.Matrix3d.$1C(-(270-(17.7603329867975*15))/180*Math.PI));this.$13.$21(wwtlib.Matrix3d.$1D(-(-28.9361739586894)/180*Math.PI));this.$13.$21(wwtlib.Matrix3d.$1E(((31.422052860102)-90)/180*Math.PI));this.$14=true;}this.space=true;wwtlib.RenderTriangle.cullInside=true;var $0=wwtlib.Matrix3d.get_identity();if(wwtlib.Settings.get_active().get_galacticMode()){$0.$21(this.$13);$0.$21(wwtlib.Matrix3d.$1C(this.az/180*Math.PI));$0.$21(wwtlib.Matrix3d.$1D(-this.alt/180*Math.PI));var $5=wwtlib.Coordinates.galactictoJ2000(this.az,this.alt);this.$0=wwtlib.Coordinates.raDecTo3dAu($5[0]/15,$5[1],1);this.targetCamera.lng=this.rAtoViewLng($5[0]/15);this.targetCamera.lat=$5[1];this.viewCamera.lat=this.targetCamera.lat;this.viewCamera.lng=this.targetCamera.lng;}else{$0.$21(wwtlib.Matrix3d.$1C(-(this.viewCamera.lng-90)/180*Math.PI));$0.$21(wwtlib.Matrix3d.$1D(-this.viewCamera.lat/180*Math.PI));this.$0=wwtlib.Coordinates.raDecTo3dAu(this.get_RA(),this.get_dec(),1);}var $1=this.viewCamera.rotation;this.$2=(this.viewCamera.zoom/343.774)/Math.PI*180;this.$3=(this.$2/canvasHeight)*3600;if(wwtlib.Settings.get_active().get_localHorizonMode()&&this.$C.get_dataSetType()===2){var $6=new wwtlib.Coordinates(0,0);$6.set_az(0);$6.set_alt(0);var $7=wwtlib.Coordinates.horizonToEquitorial($6,wwtlib.SpaceTimeController.get_location(),wwtlib.SpaceTimeController.get_now());var $8=-(($7.get_RA()-6)/24*(Math.PI*2));var $9=-($7.get_dec()/360*(Math.PI*2));var $A=wwtlib.Coordinates.formatDMS($7.get_RA());$0=wwtlib.Matrix3d.$1C(-$8-Math.PI);$0.$21(wwtlib.Matrix3d.$1D($9));if(wwtlib.SpaceTimeController.get_location().get_lat()<0){$0.$21(wwtlib.Matrix3d.$1C((this.az/180*Math.PI)));$0.$21(wwtlib.Matrix3d.$1D((this.alt/180*Math.PI)));$1+=Math.PI;}else{$0.$21(wwtlib.Matrix3d.$1C(((-this.az)/180*Math.PI)));$0.$21(wwtlib.Matrix3d.$1D(((-this.alt)/180*Math.PI)));}var $B=wwtlib.Coordinates.horizonToEquitorial(wwtlib.Coordinates.fromLatLng(this.alt,this.az),wwtlib.SpaceTimeController.get_location(),wwtlib.SpaceTimeController.get_now());this.viewCamera.lat=this.targetCamera.lat=$B.get_dec();this.viewCamera.lng=this.targetCamera.lng=this.rAtoViewLng($B.get_RA());}this.set_world($0);this.set_worldBase($0.clone());var $2=this.viewCamera.zoom;var $3=($2/343.774)/Math.PI*180;this.cameraPosition=wwtlib.Vector3d.create(0,0,0);this.set_view(wwtlib.Matrix3d.lookAtLH(this.cameraPosition,wwtlib.Vector3d.create(0,0,-1),wwtlib.Vector3d.create(Math.sin($1),Math.cos($1),0)));this.set_viewBase(this.get_view().clone());var $4=0.1;this.nearPlane=0.1;this.set_projection(wwtlib.Matrix3d.perspectiveFovLH($2/343.774,canvasWidth/canvasHeight,0.1,-2));this.$18();this.makeFrustum();},get_solarSystemTrack:function(){return this.viewCamera.target;},set_solarSystemTrack:function(value){this.viewCamera.target=value;return value;},get_solarSystemCameraDistance:function(){return (4*(this.viewCamera.zoom/9))+1E-06;},get_sandboxMode:function(){if(this.$C==null){return false;}return this.$C.get_dataSetType()===5;},get_trackingFrame:function(){return this.viewCamera.targetReferenceFrame;},set_trackingFrame:function(value){this.viewCamera.targetReferenceFrame=value;return value;},$15:true,get_fovLocal:function(){return this.$17;},set_fovLocal:function(value){this.$17=value;return value;},setupMatricesSolarSystem:function(forStars){this.lighting=wwtlib.Settings.get_active().get_solarSystemLighting();this.space=false;if(this.get_solarSystemTrack()!==20&&this.get_solarSystemTrack()!==65536){this.viewCamera.viewTarget=wwtlib.Planets.getPlanetTargetPoint(this.get_solarSystemTrack(),this.viewCamera.lat,this.viewCamera.lng,0);}wwtlib.RenderTriangle.cullInside=false;var $0=this.get_solarSystemCameraDistance();var $1=wwtlib.Matrix3d.get_identity();$0-=1E-06;var $2=false;this.set_trackingFrame('');var $3=this.viewCamera.viewTarget;var $4=this.viewCamera.zoom*20;var $5=new wwtlib.Vector3d();var $6=wwtlib.Matrix3d.get_identity();$6.$21(wwtlib.Matrix3d.$1D(((-this.viewCamera.lat)/180*Math.PI)));$6.$21(wwtlib.Matrix3d.$1C(((-this.viewCamera.lng)/180*Math.PI)));var $7=wwtlib.Matrix3d.get_identity();var $8=false;var $9;if(this.$15&&!this.get_sandboxMode()){var $D=this.viewCamera.angle;if($0>0.0008){$D=0;}else if($0>1E-05){var $E=Math.min(1.903089987,wwtlib._Util.$C($0)+5)/1.903089987;$D=$D*Math.max(0,1-$E);}this.cameraPosition=wwtlib.Vector3d.create((Math.sin(-this.viewCamera.rotation)*Math.sin($D)*$0),(Math.cos(-this.viewCamera.rotation)*Math.sin($D)*$0),(Math.cos($D)*$0));$9=wwtlib.Vector3d.create(Math.sin(-this.viewCamera.rotation),Math.cos(-this.viewCamera.rotation),1E-05);}else{this.cameraPosition=wwtlib.Vector3d.create(0,0,$0);$9=wwtlib.Vector3d.create(Math.sin(-this.viewCamera.rotation),Math.cos(-this.viewCamera.rotation),0.0001);}this.cameraPosition=$6.transform(this.cameraPosition);this.$16=this.cameraPosition.copy();var $A=$1.clone();$A.invert();this.$16=wwtlib.Vector3d.$1(this.$16,$A);$9=$6.transform($9);this.set_world(wwtlib.Matrix3d.get_identity());this.set_worldBase(this.get_world().clone());this.set_view(wwtlib.Matrix3d.multiplyMatrix(wwtlib.Matrix3d.multiplyMatrix($1,wwtlib.Matrix3d.lookAtLH(this.cameraPosition,$5,$9)),$7));this.set_viewBase(this.get_view().clone());var $B=wwtlib.Vector3d.subtractVectors($5,this.cameraPosition);$B.normalize();$B=wwtlib.Vector3d.$1($B,$1);$B.normalize();this.$0=$B;var $C=wwtlib.Planets.getAdjustedPlanetRadius(this.get_solarSystemTrack());if($0<$C*2&&!forStars){this.nearPlane=$0*0.03;this.nearPlane=Math.max(this.nearPlane,1E-11);wwtlib.RenderContext.back=1900;}else{if(forStars){wwtlib.RenderContext.back=900056;wwtlib.RenderContext.back=($0>900056)?$0*3:900056;this.nearPlane=3E-05;}else{wwtlib.RenderContext.back=($0>1900)?$0+200:1900;if(wwtlib.Settings.get_active().get_solarSystemScale()<13){this.nearPlane=Math.min($0*0.03,0.01);}else{this.nearPlane=0.001;}}}this.set_projection(wwtlib.Matrix3d.perspectiveFovLH(this.$17,this.width/this.height,this.nearPlane,wwtlib.RenderContext.back));this.perspectiveFov=this.$17;this.$2=(this.viewCamera.zoom/343.774)/Math.PI*180;this.$3=(this.$2/this.height)*3600;this.$18();this.makeFrustum();},$18:function(){},nearPlane:0,$19:true,get_frustum:function(){return this.$1A;},cameraPosition:null,WVP:null,WV:null,makeFrustum:function(){this.WV=wwtlib.Matrix3d.multiplyMatrix(this.get_world(),this.get_view());var $0=wwtlib.Matrix3d.multiplyMatrix(this.WV,this.get_projection());this.WVP=$0.clone();var $1=this.get_world().clone();$1.invert();this.$1A[0].a=$0.get_m14()+$0.get_m11();this.$1A[0].b=$0.get_m24()+$0.get_m21();this.$1A[0].c=$0.get_m34()+$0.get_m31();this.$1A[0].d=$0.get_m44()+$0.get_m41();this.$1A[1].a=$0.get_m14()-$0.get_m11();this.$1A[1].b=$0.get_m24()-$0.get_m21();this.$1A[1].c=$0.get_m34()-$0.get_m31();this.$1A[1].d=$0.get_m44()-$0.get_m41();this.$1A[2].a=$0.get_m14()-$0.get_m12();this.$1A[2].b=$0.get_m24()-$0.get_m22();this.$1A[2].c=$0.get_m34()-$0.get_m32();this.$1A[2].d=$0.get_m44()-$0.get_m42();this.$1A[3].a=$0.get_m14()+$0.get_m12();this.$1A[3].b=$0.get_m24()+$0.get_m22();this.$1A[3].c=$0.get_m34()+$0.get_m32();this.$1A[3].d=$0.get_m44()+$0.get_m42();this.$1A[4].a=$0.get_m13();this.$1A[4].b=$0.get_m23();this.$1A[4].c=$0.get_m33();this.$1A[4].d=$0.get_m43();this.$1A[5].a=$0.get_m14()-$0.get_m13();this.$1A[5].b=$0.get_m24()-$0.get_m23();this.$1A[5].c=$0.get_m34()-$0.get_m33();this.$1A[5].d=$0.get_m44()-$0.get_m43();for(var $2=0;$2<6;$2++){this.$1A[$2].normalize();}this.$19=false;this.WVP.scale(wwtlib.Vector3d.create(this.width/2,-this.height/2,1));this.WVP.translate(wwtlib.Vector3d.create(this.width/2,this.height/2,0));this.$18();},$1B:'Blue',$1C:function(){if(this.gl==null){return;}wwtlib.Tile.uvMultiple=1;wwtlib.Tile.demEnabled=true;wwtlib.TileShader.init(this);}}
wwtlib.RenderTriangle=function(){this.a=new wwtlib.PositionTexture();this.b=new wwtlib.PositionTexture();this.c=new wwtlib.PositionTexture();this.normal=new wwtlib.Vector3d();this.ta=new wwtlib.Vector3d();this.tb=new wwtlib.Vector3d();this.tc=new wwtlib.Vector3d();this.$7=new wwtlib.Vector2d();this.$8=new wwtlib.Vector2d();this.$9=new wwtlib.Vector2d();}
wwtlib.RenderTriangle.create=function(a,b,c,img,level){var $0=new wwtlib.RenderTriangle();$0.a=a.copy();$0.b=b.copy();$0.c=c.copy();$0.$0=img;$0.tileLevel=level;$0.makeNormal();return $0;}
wwtlib.RenderTriangle.createWithMiter=function(a,b,c,img,level,expansion){var $0=new wwtlib.RenderTriangle();$0.expansionInPixels=expansion;$0.a=a.copy();$0.b=b.copy();$0.c=c.copy();$0.$0=img;$0.tileLevel=level;$0.makeNormal();return $0;}
wwtlib.RenderTriangle.$B=function($p0,$p1,$p2,$p3){var $0=wwtlib.Vector2d.subtractVector($p1,$p0);var $1=wwtlib.Vector2d.subtractVector($p2,$p0);$0.normalize();$1.normalize();var $2=wwtlib.Vector2d.create($0.x+$1.x,$0.y+$1.y);$2.normalize();var $3=wwtlib.Vector2d.create($0.x-$1.x,$0.y-$1.y);var $4=$3.get_length()/2;var $5=Math.min(2,$p3/$4);$2.extend($5);return wwtlib.Vector2d.create($p0.x-$2.x,$p0.y-$2.y);}
wwtlib.RenderTriangle.$C=function($p0,$p1,$p2,$p3,$p4,$p5,$p6){var $0=$p2-$p0;var $1=$p3-$p1;var $2=$p4-$p0;var $3=$p5-$p1;var $4=Math.sqrt($0*$0+$1*$1);if(!!$4){$0/=$4;$1/=$4;}$4=Math.sqrt($2*$2+$3*$3);if(!!$4){$2/=$4;$3/=$4;}var $5=$0+$2;var $6=$1+$3;$4=Math.sqrt($5*$5+$6*$6);if(!!$4){$5/=$4;$6/=$4;}var $7=$0-$2;var $8=$1-$3;$4=Math.sqrt($7*$7+$8*$8);var $9=$4/2;var $A=Math.min(2,$p6/$9);$5*=$A;$6*=$A;return wwtlib.Vector2d.create($p0-$5,$p1-$6);}
wwtlib.RenderTriangle.$D=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7){var $0=$p3-$p1;var $1=$p4-$p2;var $2=$p5-$p1;var $3=$p6-$p2;var $4=Math.sqrt($0*$0+$1*$1);if(!!$4){$0/=$4;$1/=$4;}$4=Math.sqrt($2*$2+$3*$3);if(!!$4){$2/=$4;$3/=$4;}var $5=$0+$2;var $6=$1+$3;$4=Math.sqrt($5*$5+$6*$6);if(!!$4){$5/=$4;$6/=$4;}var $7=$0-$2;var $8=$1-$3;$4=Math.sqrt($7*$7+$8*$8);var $9=$4/2;var $A=Math.min(2,$p7/$9);$5*=$A;$6*=$A;$p0.x=$p1-$5;$p0.y=$p2-$6;}
wwtlib.RenderTriangle.prototype={makeNormal:function(){var $0=this.a.position.copy();var $1=this.b.position.copy();var $2=this.c.position.copy();$0.normalize();$1.normalize();$2.normalize();var $3=$0.x+$1.x+$2.x;var $4=$0.y+$1.y+$2.y;var $5=$0.z+$1.z+$2.z;this.normal=wwtlib.Vector3d.create($3/3,$4/3,$5/3);this.normal.normalize();},$0:null,opacity:1,expansionInPixels:0.6,tileLevel:0,$6:function(){var $0=wwtlib.Vector3d.subtractVectors(this.ta,this.tb);var $1=wwtlib.Vector3d.subtractVectors(this.ta,this.tc);var $2=wwtlib.Vector3d.cross($0,$1);$2.normalize();return $2.z>=0;},draw:function(ctx,wvp){if(ctx==null){return;}wvp.$12(this.a.position,this.ta);wvp.$12(this.b.position,this.tb);wvp.$12(this.c.position,this.tc);if(this.$6()===wwtlib.RenderTriangle.cullInside){wwtlib.RenderTriangle.trianglesCulled++;return;}this.$A(ctx,this.$0,this.ta.x,this.ta.y,this.tb.x,this.tb.y,this.tc.x,this.tc.y,this.a.tu,this.a.tv,this.b.tu,this.b.tv,this.c.tu,this.c.tv);},$A:function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8,$p9,$p10,$p11,$p12,$p13){if(!this.intersects(0,wwtlib.RenderTriangle.width,0,wwtlib.RenderTriangle.height,$p2,$p3,$p4,$p5,$p6,$p7)){return false;}wwtlib.RenderTriangle.$D(this.$7,$p2,$p3,$p4,$p5,$p6,$p7,this.expansionInPixels);wwtlib.RenderTriangle.$D(this.$8,$p4,$p5,$p2,$p3,$p6,$p7,this.expansionInPixels);wwtlib.RenderTriangle.$D(this.$9,$p6,$p7,$p4,$p5,$p2,$p3,this.expansionInPixels);$p2=this.$7.x;$p3=this.$7.y;$p4=this.$8.x;$p5=this.$8.y;$p6=this.$9.x;$p7=this.$9.y;$p0.save();if(wwtlib.RenderTriangle.renderingOn){$p0.beginPath();$p0.moveTo($p2,$p3);$p0.lineTo($p4,$p5);$p0.lineTo($p6,$p7);$p0.closePath();$p0.clip();}var $0=$p8*($p13-$p11)-$p10*$p13+$p12*$p11+($p10-$p12)*$p9;var $1=-($p9*($p6-$p4)-$p11*$p6+$p13*$p4+($p11-$p13)*$p2)/$0;var $2=($p11*$p7+$p9*($p5-$p7)-$p13*$p5+($p13-$p11)*$p3)/$0;var $3=($p8*($p6-$p4)-$p10*$p6+$p12*$p4+($p10-$p12)*$p2)/$0;var $4=-($p10*$p7+$p8*($p5-$p7)-$p12*$p5+($p12-$p10)*$p3)/$0;var $5=($p8*($p13*$p4-$p11*$p6)+$p9*($p10*$p6-$p12*$p4)+($p12*$p11-$p10*$p13)*$p2)/$0;var $6=($p8*($p13*$p5-$p11*$p7)+$p9*($p10*$p7-$p12*$p5)+($p12*$p11-$p10*$p13)*$p3)/$0;$p0.transform($1,$2,$3,$4,$5,$6);if(wwtlib.RenderTriangle.renderingOn){$p0.globalAlpha=this.opacity;if(this.lighting<1){$p0.globalAlpha=1;$p0.fillStyle='Black';$p0.fillRect(0,0,wwtlib.RenderTriangle.width,wwtlib.RenderTriangle.height);$p0.globalAlpha=this.lighting*this.opacity;}$p0.drawImage($p1,0,0);}$p0.restore();return true;},lighting:1,intersects:function(l,r,t,b,x0,y0,x1,y1,x2,y2){if(x0>l&&x0<r&&y0>t&&y0<b){return true;}if(x1>l&&x1<r&&y1>t&&y1<b){return true;}if(x2>l&&x2<r&&y2>t&&y2<b){return true;}var $0=wwtlib.RenderTriangle.height*4;if(this.tileLevel<4&&((Math.abs(x0-x1)>$0)||(Math.abs(y0-y1)>$0)||(Math.abs(x2-x1)>$0)||(Math.abs(y2-y1)>$0)||(Math.abs(x0-x2)>$0)||(Math.abs(y0-y2)>$0))){return false;}return this.lineRectangleIntersect(l,r,t,b,x0,y0,x1,y1)||this.lineRectangleIntersect(l,r,t,b,x1,y1,x2,y2)||this.lineRectangleIntersect(l,r,t,b,x2,y2,x0,y0);},lineRectangleIntersect:function(l,r,t,b,x0,y0,x1,y1){var $0;var $1;var $2;var $3;var $4;var $5;$4=(y1-y0)/(x1-x0);$5=y0-($4*x0);if($4>0){$0=($4*l+$5);$1=($4*r+$5);}else{$0=($4*r+$5);$1=($4*l+$5);}if(y0<y1){$2=y0;$3=y1;}else{$2=y1;$3=y0;}var $6;var $7;$6=($0>$2)?$0:$2;$7=($1<$3)?$1:$3;return ($6<$7)&&(!(($7<t)||($6>b)));}}
wwtlib.ScriptInterface=function(){}
wwtlib.ScriptInterface.prototype={$0:false,add_ready:function(value){this.$1=ss.Delegate.combine(this.$1,value);},remove_ready:function(value){this.$1=ss.Delegate.remove(this.$1,value);},$1:null,$2:function(){if(this.$1!=null){this.$1(this,new ss.EventArgs());}else{this.$0=true;}},add_collectionLoaded:function(value){this.$3=ss.Delegate.combine(this.$3,value);},remove_collectionLoaded:function(value){this.$3=ss.Delegate.remove(this.$3,value);},$3:null,$4:function($p0){if(this.$3!=null){this.$3(this,new wwtlib.CollectionLoadedEventArgs($p0));}},add_arrived:function(value){this.$5=ss.Delegate.combine(this.$5,value);},remove_arrived:function(value){this.$5=ss.Delegate.remove(this.$5,value);},$5:null,add_clicked:function(value){this.$6=ss.Delegate.combine(this.$6,value);},remove_clicked:function(value){this.$6=ss.Delegate.remove(this.$6,value);},$6:null,add_annotationClicked:function(value){this.$7=ss.Delegate.combine(this.$7,value);},remove_annotationClicked:function(value){this.$7=ss.Delegate.remove(this.$7,value);},$7:null,add_imageryLoaded:function(value){this.$8=ss.Delegate.combine(this.$8,value);},remove_imageryLoaded:function(value){this.$8=ss.Delegate.remove(this.$8,value);},$8:null,add_tourReady:function(value){this.$9=ss.Delegate.combine(this.$9,value);},remove_tourReady:function(value){this.$9=ss.Delegate.remove(this.$9,value);},$9:null,add_tourEnded:function(value){this.$A=ss.Delegate.combine(this.$A,value);},remove_tourEnded:function(value){this.$A=ss.Delegate.remove(this.$A,value);},$A:null,add_slideChanged:function(value){this.$B=ss.Delegate.combine(this.$B,value);},remove_slideChanged:function(value){this.$B=ss.Delegate.remove(this.$B,value);},$B:null,$C:function(){if(this.$9!=null){this.$9(this,new ss.EventArgs());}},$D:function(){if(this.$A!=null){this.$A(this,new ss.EventArgs());}},$E:function(){if(this.$8!=null){this.$8(this,new ss.EventArgs());}},$F:function($p0,$p1){if(this.$6!=null){this.$6(this,new wwtlib.ArrivedEventArgs($p0,$p1,wwtlib.WWTControl.singleton.renderContext.viewCamera.zoom));}},$10:function($p0,$p1,$p2){if(this.$5!=null){this.$5(this,new wwtlib.ArrivedEventArgs($p0,$p1,$p2));}},$11:function($p0,$p1,$p2){try{if(this.$7!=null){this.$7(this,new wwtlib.AnnotationClickEventArgs($p0,$p1,$p2));}}catch($0){}},$12:function($p0){try{if(this.$B!=null){this.$B(this,new wwtlib.SlideChangedEventArgs($p0));}}catch($0){}},endInit:function(){if(this.$0){this.$2();}},gotoRaDecZoom:function(ra,dec,zoom,instant){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.gotoRADecZoom(ra/15,dec,zoom*6,instant);}},setBackgroundImageByName:function(name){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.setBackgroundImageByName(name);}},setForegroundImageByName:function(name){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.setForegroundImageByName(name);wwtlib.WWTControl.singleton.renderContext.viewCamera.opacity=100;}},setForegroundOpacity:function(opacity){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.renderContext.viewCamera.opacity=opacity;}},hideUI:function(hide){},loadTour:function(url){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.playTour(url);}},hideTourFeedback:false,get_hideTourFeedback:function(){return this.hideTourFeedback;},set_hideTourFeedback:function(value){this.hideTourFeedback=value;return value;},playTour:function(){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.playCurrentTour();}},stopTour:function(){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.stopCurrentTour();}},$13:null,$14:null,loadImageCollection:function(url){this.$14=url;this.$13=new wwtlib.Folder();this.$13.loadFromUrl(url,ss.Delegate.create(this,function(){
wwtlib._Wtml.$1(this.$13);this.$4(url);}));},$15:function(){this.$4(this.$14);},zoom:function(factor){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.zoom(factor);}return;},getRA:function(){if(wwtlib.WWTControl.singleton!=null){return wwtlib.WWTControl.singleton.renderContext.get_RA();}return 0;},getDec:function(){if(wwtlib.WWTControl.singleton!=null){return wwtlib.WWTControl.singleton.renderContext.get_dec();}return 0;},createFolder:function(){var $0=new wwtlib.Folder();return $0;},createPolygon:function(fill){var $0=new wwtlib.Poly();$0.set_fill(fill);return $0;},createPolyLine:function(fill){return new wwtlib.PolyLine();},createCircle:function(fill){var $0=new wwtlib.Circle();$0.set_fill(fill);return $0;},addAnnotation:function(annotation){if(annotation!=null&&Type.canCast(annotation,wwtlib.Annotation)){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.$1(annotation);}}},removeAnnotation:function(annotation){if(annotation!=null){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.$2(annotation);}}},clearAnnotations:function(){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.$3();}},$16:false,get_smoothAnimation:function(){return this.$16;},set_smoothAnimation:function(value){this.$16=value;return value;},$17:true,get_showCaptions:function(){return this.$17;},set_showCaptions:function(value){this.$17=value;return value;},loadVOTable:function(url,useCurrentView){},get_fov:function(){if(wwtlib.WWTControl.singleton!=null){return wwtlib.WWTControl.singleton.renderContext.viewCamera.zoom/6;}return 60;},settings:null}
wwtlib.SlideChangedEventArgs=function(caption){wwtlib.SlideChangedEventArgs.initializeBase(this);this.set_caption(caption);}
wwtlib.SlideChangedEventArgs.prototype={$1_0:null,get_caption:function(){return this.$1_0;},set_caption:function(value){this.$1_0=value;return value;}}
wwtlib.ArrivedEventArgs=function(ra,dec,zoom){wwtlib.ArrivedEventArgs.initializeBase(this);this.set_RA(ra*15);this.set_dec(dec);this.set_zoom(zoom/6);}
wwtlib.ArrivedEventArgs.prototype={ra:0,get_RA:function(){return this.ra;},set_RA:function(value){this.ra=value;return value;},$1_0:0,get_dec:function(){return this.$1_0;},set_dec:function(value){this.$1_0=value;return value;},$1_1:0,get_zoom:function(){return this.$1_1;},set_zoom:function(value){this.$1_1=value;return value;}}
wwtlib.AnnotationClickEventArgs=function(ra,dec,id){wwtlib.AnnotationClickEventArgs.initializeBase(this);this.set_RA(ra*15);this.set_dec(dec);this.set_id(id);}
wwtlib.AnnotationClickEventArgs.prototype={ra:0,get_RA:function(){return this.ra;},set_RA:function(value){this.ra=value;return value;},$1_0:0,get_dec:function(){return this.$1_0;},set_dec:function(value){this.$1_0=value;return value;},id:null,get_id:function(){return this.id;},set_id:function(value){this.id=value;return value;}}
wwtlib.CollectionLoadedEventArgs=function(url){wwtlib.CollectionLoadedEventArgs.initializeBase(this);this.$1_0=url;}
wwtlib.CollectionLoadedEventArgs.prototype={$1_0:null,get_url:function(){return this.$1_0;},set_url:function(value){this.$1_0=value;return value;}}
wwtlib.Settings=function(){this.$D=-122.0858;this.$34=new wwtlib.ConstellationFilter();this.$35=new wwtlib.ConstellationFilter();this.$36=new wwtlib.ConstellationFilter();this.$37=new wwtlib.ConstellationFilter();}
wwtlib.Settings.get_current=function(){if(wwtlib.Settings.$0==null){wwtlib.Settings.$0=new wwtlib.Settings();}return wwtlib.Settings.$0;}
wwtlib.Settings.get_global=function(){if(wwtlib.Settings.$0==null){wwtlib.Settings.$0=new wwtlib.Settings();}return wwtlib.Settings.$0;}
wwtlib.Settings.get_active=function(){if(wwtlib.Settings.$0==null){wwtlib.Settings.$0=new wwtlib.Settings();}if(wwtlib.Settings.tourSettings!=null){return wwtlib.Settings.tourSettings;}return wwtlib.Settings.$0;}
wwtlib.Settings.prototype={autoRepeatTour:false,$1:false,$2:false,$3:'blue',$4:'yellow',$5:'red',$6:true,$7:true,$8:true,$9:true,$A:'white',$B:false,$C:47.717,$E:100,$F:false,$10:true,$11:0,$12:0,$13:0,$14:false,$15:false,$16:true,$17:false,$18:true,$19:true,$1A:true,$1B:true,$1C:true,$1D:true,$1E:true,$1F:true,$20:true,$21:1,$22:true,get_constellationFigureColor:function(){return this.$5;},set_constellationFigureColor:function(value){this.$5=value;return value;},get_constellationBoundryColor:function(){return this.$3;},set_constellationBoundryColor:function(value){this.$3=value;return value;},get_constellationSelectionColor:function(){return this.$4;},set_constellationSelectionColor:function(value){this.$4=value;return value;},get_showCrosshairs:function(){return this.$9;},set_showCrosshairs:function(value){this.$9=value;return value;},get_smoothPan:function(){return this.$22;},set_smoothPan:function(value){this.$22=value;return value;},get_crosshairsColor:function(){return this.$A;},set_crosshairsColor:function(value){this.$A=value;return value;},get_actualPlanetScale:function(){return this.$10;},get_fovCamera:function(){return this.$11;},get_fovEyepiece:function(){return this.$12;},get_fovTelescope:function(){return this.$13;},get_locationAltitude:function(){return this.$E;},set_locationAltitude:function(value){this.$E=value;return value;},get_locationLat:function(){return this.$C;},set_locationLat:function(value){this.$C=value;return value;},get_locationLng:function(){return this.$D;},set_locationLng:function(value){this.$D=value;return value;},get_showClouds:function(){return this.$14;},get_showConstellationBoundries:function(){return this.$7;},set_showConstellationBoundries:function(value){this.$7=value;return value;},get_showConstellationFigures:function(){return this.$6;},set_showConstellationFigures:function(value){this.$6=value;return value;},get_showConstellationSelection:function(){return this.$8;},set_showConstellationSelection:function(value){this.$8=value;return value;},get_showEcliptic:function(){return this.$B;},set_showEcliptic:function(value){this.$B=value;return value;},get_showElevationModel:function(){return false;},get_showFieldOfView:function(){return this.$F;},get_showGrid:function(){return this.$15;},set_showGrid:function(value){this.$15=value;return value;},get_showHorizon:function(){return this.$16;},set_showHorizon:function(value){this.$16=value;return value;},get_showHorizonPanorama:function(){return this.$17;},get_showMoonsAsPointSource:function(){return this.$18;},get_showSolarSystem:function(){return this.$19;},get_localHorizonMode:function(){return this.$1;},set_localHorizonMode:function(value){this.$1=value;return value;},get_galacticMode:function(){return this.$2;},set_galacticMode:function(value){this.$2=value;return value;},get_solarSystemStars:function(){return this.$1A;},set_solarSystemStars:function(value){this.$1A=value;return value;},get_solarSystemMilkyWay:function(){return this.$1B;},set_solarSystemMilkyWay:function(value){this.$1B=value;return value;},get_solarSystemCosmos:function(){return this.$1C;},set_solarSystemCosmos:function(value){this.$1C=value;return value;},get_solarSystemOrbits:function(){return this.$1D;},set_solarSystemOrbits:function(value){this.$1D=value;return value;},get_solarSystemOverlays:function(){return this.$1E;},set_solarSystemOverlays:function(value){this.$1E=value;return value;},get_solarSystemLighting:function(){return this.$1F;},set_solarSystemLighting:function(value){this.$1F=value;return value;},get_solarSystemMultiRes:function(){return true;},set_solarSystemMultiRes:function(value){this.$20=value;return value;},get_solarSystemScale:function(){return this.$21;},set_solarSystemScale:function(value){this.$21=value;return value;},$23:false,get_showEquatorialGridText:function(){return this.$23;},set_showEquatorialGridText:function(value){this.$23=value;return value;},$24:false,get_showGalacticGrid:function(){return this.$24;},set_showGalacticGrid:function(value){this.$24=value;return value;},$25:false,get_showGalacticGridText:function(){return this.$25;},set_showGalacticGridText:function(value){this.$25=value;return value;},$26:false,get_showEclipticGrid:function(){return this.$26;},set_showEclipticGrid:function(value){this.$26=value;return value;},$27:false,get_showEclipticGridText:function(){return this.$27;},set_showEclipticGridText:function(value){this.$27=value;return value;},$28:false,get_showEclipticOverviewText:function(){return this.$28;},set_showEclipticOverviewText:function(value){this.$28=value;return value;},$29:false,get_showAltAzGrid:function(){return this.$29;},set_showAltAzGrid:function(value){this.$29=value;return value;},$2A:false,get_showAltAzGridText:function(){return this.$2A;},set_showAltAzGridText:function(value){this.$2A=value;return value;},$2B:false,get_showPrecessionChart:function(){return this.$2B;},set_showPrecessionChart:function(value){this.$2B=value;return value;},$2C:false,get_showConstellationPictures:function(){return this.$2C;},set_showConstellationPictures:function(value){this.$2C=value;return value;},$2D:false,get_showConstellationLabels:function(){return this.$2D;},set_showConstellationLabels:function(value){this.$2D=value;return value;},$2E:true,get_solarSystemCMB:function(){return this.$2E;},set_solarSystemCMB:function(value){this.$2E=value;return value;},$2F:false,get_solarSystemMinorPlanets:function(){return this.$2F;},set_solarSystemMinorPlanets:function(value){this.$2F=value;return value;},$30:true,get_solarSystemPlanets:function(){return this.$30;},set_solarSystemPlanets:function(value){this.$30=value;return value;},$31:true,get_showEarthSky:function(){return this.$31;},set_showEarthSky:function(value){this.$31=value;return value;},$32:false,get_solarSystemMinorOrbits:function(){return this.$32;},set_solarSystemMinorOrbits:function(value){this.$32=value;return value;},$33:'',get_constellationsEnabled:function(){return this.$33;},set_constellationsEnabled:function(value){this.$33=value;return value;},get_constellationFiguresFilter:function(){return this.$34;},set_constellationFiguresFilter:function(value){this.$34=value;return value;},get_constellationBoundariesFilter:function(){return this.$35;},set_constellationBoundariesFilter:function(value){this.$35=value;return value;},get_constellationNamesFilter:function(){return this.$36;},set_constellationNamesFilter:function(value){this.$36=value;return value;},get_constellationArtFilter:function(){return this.$37;},set_constellationArtFilter:function(value){this.$37=value;return value;},$38:true,get_showSkyOverlays:function(){return this.$38;},set_showSkyOverlays:function(value){this.$38=value;return value;},$39:true,get_showConstellations:function(){return this.$39;},set_showConstellations:function(value){this.$39=value;return value;},$3A:true,get_showSkyNode:function(){return this.$3A;},set_showSkyNode:function(value){this.$3A=value;return value;},$3B:true,get_showSkyGrids:function(){return this.$3B;},set_showSkyGrids:function(value){this.$3B=value;return value;},$3C:true,get_showSkyOverlaysIn3d:function(){return this.$3C;},set_showSkyOverlaysIn3d:function(value){this.$3C=value;return value;},$3D:false,get_earthCutawayView:function(){return this.$3D;},set_earthCutawayView:function(value){this.$3D=value;return value;},$3E:false,get_showISSModel:function(){return this.$3E;},set_showISSModel:function(value){this.$3E=value;return value;},$3F:false,get_milkyWayModel:function(){return this.$3F;},set_milkyWayModel:function(value){this.$3F=value;return value;},$40:255,get_minorPlanetsFilter:function(){return this.$40;},set_minorPlanetsFilter:function(value){this.$40=value;return value;},$41:2147483647,get_planetOrbitsFilter:function(){return this.$41;},set_planetOrbitsFilter:function(value){this.$41=value;return value;},getSetting:function(type){return new wwtlib.SettingParameter(false,1,false,null);}}
wwtlib.SkyImageTile=function(){wwtlib.SkyImageTile.initializeBase(this);}
wwtlib.SkyImageTile.create=function(level,x,y,dataset,parent){var $0=new wwtlib.SkyImageTile();$0.parent=parent;$0.level=level;$0.tileX=x;$0.tileY=y;$0.dataset=dataset;$0.$F();$0.computeMatrix();$0.sphereCenter=$0.geoTo3dTan(0,0);$0.radius=1.25;return $0;}
wwtlib.SkyImageTile.prototype={matrix:null,computeMatrix:function(){this.matrix=wwtlib.Matrix3d.get_identity();this.matrix.$21(wwtlib.Matrix3d.$1D((this.rotation/180*Math.PI)));this.matrix.$21(wwtlib.Matrix3d.$1E((this.latCenter/180*Math.PI)));this.matrix.$21(wwtlib.Matrix3d.$1C(((360-this.lngCenter)/180*Math.PI)));},pixelCenterX:0,pixelCenterY:0,latCenter:0,lngCenter:0,rotation:0,scaleX:0.01,scaleY:0.01,height:0,width:0,$F:function(){this.pixelCenterX=this.dataset.get_offsetX();this.pixelCenterY=this.dataset.get_offsetY();this.latCenter=this.dataset.get_centerY();this.lngCenter=this.dataset.get_centerX();this.rotation=this.dataset.get_rotation();this.scaleX=-(this.scaleY=this.dataset.get_baseTileDegrees());if(this.dataset.get_bottomsUp()){this.scaleX=-this.scaleX;this.rotation=360-this.rotation;}},geoTo3dTan:function(lat,lng){lng=-lng;var $0=this.dataset.get_baseTileDegrees();var $1=Math.tan($0*wwtlib.Tile.RC);return this.matrix.transform(wwtlib.Vector3d.create(1,(lat/$0*$1),(lng/$0*$1)));},$10:null,$11:null,createGeometry:function(renderContext){wwtlib.SkyImageTile.callBaseMethod(this, 'createGeometry',[renderContext]);if(this.geometryCreated){return true;}this.geometryCreated=true;for(var $9=0;$9<4;$9++){this.$0[$9]=[];}this.computeMatrix();this.height=this.texture.naturalHeight;this.width=this.texture.naturalWidth;var $0=0+(this.scaleY*(this.height-this.pixelCenterY));var $1=0-(this.scaleY*this.pixelCenterY);var $2=0+(this.scaleX*this.pixelCenterX);var $3=0-(this.scaleX*(this.width-this.pixelCenterX));this.topLeft=this.geoTo3dTan($0,$2);this.bottomRight=this.geoTo3dTan($1,$3);this.topRight=this.geoTo3dTan($0,$3);this.bottomLeft=this.geoTo3dTan($1,$2);var $4=wwtlib.Vector3d.lerp(this.topLeft,this.topRight,0.5);var $5=wwtlib.Vector3d.lerp(this.bottomLeft,this.bottomRight,0.5);var $6=wwtlib.Vector3d.lerp($4,$5,0.5);var $7=wwtlib.Vector3d.lerp(this.topRight,this.bottomRight,0.5);var $8=wwtlib.Vector3d.lerp(this.topLeft,this.bottomLeft,0.5);if(renderContext.gl==null){this.$10=[];this.$10.add(wwtlib.PositionTexture.createPosSize(this.topLeft,0,0,this.width,this.height));this.$10.add(wwtlib.PositionTexture.createPosSize(this.topRight,1,0,this.width,this.height));this.$10.add(wwtlib.PositionTexture.createPosSize(this.bottomLeft,0,1,this.width,this.height));this.$10.add(wwtlib.PositionTexture.createPosSize(this.bottomRight,1,1,this.width,this.height));this.$11=[];if(this.dataset.get_bottomsUp()){this.$11.add(wwtlib.wwtlib$7.$0(0,1,2));this.$11.add(wwtlib.wwtlib$7.$0(2,1,3));}else{this.$11.add(wwtlib.wwtlib$7.$0(0,2,1));this.$11.add(wwtlib.wwtlib$7.$0(2,3,1));}var $A=3;while($A-->1){var $C=[];var $enum1=ss.IEnumerator.getEnumerator(this.$11);while($enum1.moveNext()){var $D=$enum1.current;$D.$1($C,this.$10);}this.$11=$C;}var $B=0.6/(this.width/256);var $enum2=ss.IEnumerator.getEnumerator(this.$11);while($enum2.moveNext()){var $E=$enum2.current;var $F=this.$10[$E.a];var $10=this.$10[$E.b];var $11=this.$10[$E.c];this.$0[0].add(wwtlib.RenderTriangle.createWithMiter($F,$10,$11,this.texture,this.level,$B));}}else{this.$2=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34962,this.$2);var $12=new Float32Array(9*5);var $13=$12;var $14=0;$14=this.addVertex($13,$14,wwtlib.PositionTexture.createPos($5,0.5,1));$14=this.addVertex($13,$14,wwtlib.PositionTexture.createPos(this.bottomLeft,0,1));$14=this.addVertex($13,$14,wwtlib.PositionTexture.createPos(this.bottomRight,1,1));$14=this.addVertex($13,$14,wwtlib.PositionTexture.createPos($6,0.5,0.5));$14=this.addVertex($13,$14,wwtlib.PositionTexture.createPos($8,0,0.5));$14=this.addVertex($13,$14,wwtlib.PositionTexture.createPos($7,1,0.5));$14=this.addVertex($13,$14,wwtlib.PositionTexture.createPos($4,0.5,0));$14=this.addVertex($13,$14,wwtlib.PositionTexture.createPos(this.topLeft,0,0));$14=this.addVertex($13,$14,wwtlib.PositionTexture.createPos(this.topRight,1,0));wwtlib.Tile.prepDevice.bufferData(34962,$12,35044);for(var $15=0;$15<4;$15++){$14=0;this.triangleCount=2;var $16=new Uint16Array(this.triangleCount*3);var $17=$16;switch($15){case 0:$17[$14++]=7;$17[$14++]=4;$17[$14++]=6;$17[$14++]=4;$17[$14++]=3;$17[$14++]=6;break;case 1:$17[$14++]=6;$17[$14++]=5;$17[$14++]=8;$17[$14++]=6;$17[$14++]=3;$17[$14++]=5;break;case 2:$17[$14++]=4;$17[$14++]=0;$17[$14++]=3;$17[$14++]=4;$17[$14++]=1;$17[$14++]=0;break;case 3:$17[$14++]=3;$17[$14++]=2;$17[$14++]=5;$17[$14++]=3;$17[$14++]=0;$17[$14++]=2;break;}this.$1[$15]=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34963,this.$1[$15]);wwtlib.Tile.prepDevice.bufferData(34963,$16,35044);}}return true;}}
wwtlib.Text3dBatch=function(height){this.items=[];this.$0=-1;this.viewTransform=wwtlib.Matrix3d.get_identity();this.$2=new wwtlib.TextObject();this.height=(height*3);}
wwtlib.Text3dBatch.prototype={height:128,add:function(newItem){this.items.add(newItem);},draw:function(renderContext,opacity,color){if(renderContext.gl==null){var $0=wwtlib.Vector3d.$1(renderContext.get_viewPoint(),this.viewTransform);var $1=(this.height/renderContext.get_fovAngle())*renderContext.height/180;var $enum1=ss.IEnumerator.getEnumerator(this.items);while($enum1.moveNext()){var $2=$enum1.current;var $3=renderContext.WVP.transform($2.center);if($3.z<0){continue;}if(wwtlib.Vector3d.dot($0,$2.center)<0.55){continue;}var $4=renderContext.WVP.transform($2.top);var $5=Math.atan2($3.x-$4.x,$3.y-$4.y);var $6=renderContext.device;$6.save();$6.translate($3.x,$3.y);$6.rotate(-$5);$6.globalAlpha=opacity;$6.fillStyle=color.toString();$6.font='normal'+' '+((false)?'bold':'normal')+' '+Math.round($1*1.2).toString()+'px '+'Arial';$6.textBaseline='top';var $7=$6.measureText($2.text);$6.fillText($2.text,-$7.width/2,-$1/2);$6.restore();}}else{if(this.$1==null||this.$1.get_version()>this.$0){this.prepareBatch();}if(!this.$1.ready){return;}wwtlib.TextShader.use(renderContext,this.$3.$3,this.$1.get_texture().texture2d);renderContext.gl.drawArrays(4,0,this.$3.$0);}},$1:null,$3:null,prepareBatch:function(){if(this.$1==null){this.$1=wwtlib.GlyphCache.getCache(this.height);}if(!this.$1.ready){return;}this.$2.text='';this.$2.fontSize=this.height*0.5;var $0=[];var $enum1=ss.IEnumerator.getEnumerator(this.items);while($enum1.moveNext()){var $2=$enum1.current;var $3=$2.text;var $4=wwtlib.Vector2d.create(1000,100);var $5=0.6666;$2.width=$4.x*$2.scale*$5;$2.height=$4.y*$2.scale*$5;var $6=0;var $7=0;var $8=this.$2.fontSize/128;var $9=$3.length;for(var $A=0;$A<$9;$A++){var $B=this.$1.getGlyphItem($3.substr($A,1));var $C=wwtlib.Rectangle.create($6*$2.scale*$5,0*$2.scale*$5,$B.extents.x*$8*$2.scale*$5,$B.extents.y*$8*$2.scale*$5);$6+=($B.extents.x*$8);$2.addGlyphPoints($0,$B.size,$C,$B.uvRect);}}this.$4=$0.length;this.$3=new wwtlib.wwtlib$B(this.$4);var $1=this.$3.$2();for(var $D=0;$D<this.$4;$D++){$1[$D]=$0[$D];}this.$3.$4();this.$0=this.$1.get_version();},$4:0,cleanUp:function(){if(this.$3!=null){this.$3=null;}this.items.clear();}}
wwtlib.GlyphItem=function(glyph){this.glyph=glyph;this.uvRect=new wwtlib.Rectangle();this.size=new wwtlib.Vector2d();this.referenceCount=1;}
wwtlib.GlyphItem.create=function(glyph,uv,size,extents){var $0=new wwtlib.GlyphItem(glyph);$0.glyph=glyph;$0.uvRect=uv;$0.size=size;$0.extents=extents;$0.referenceCount=1;return $0;}
wwtlib.GlyphItem.$0=function($p0){var $0=$p0.attributes.getNamedItem('Glyph').nodeValue;var $1=new wwtlib.GlyphItem($0);$1.uvRect=wwtlib.Rectangle.create(parseFloat($p0.attributes.getNamedItem('UVLeft').nodeValue),parseFloat($p0.attributes.getNamedItem('UVTop').nodeValue),parseFloat($p0.attributes.getNamedItem('UVWidth').nodeValue),parseFloat($p0.attributes.getNamedItem('UVHeight').nodeValue));$1.size=wwtlib.Vector2d.create(parseFloat($p0.attributes.getNamedItem('SizeWidth').nodeValue),parseFloat($p0.attributes.getNamedItem('SizeHeight').nodeValue));$1.extents=wwtlib.Vector2d.create(parseFloat($p0.attributes.getNamedItem('ExtentsWidth').nodeValue),parseFloat($p0.attributes.getNamedItem('ExtentsHeight').nodeValue));return $1;}
wwtlib.GlyphItem.prototype={addRef:function(){this.referenceCount++;},release:function(){this.referenceCount--;},glyph:null,uvRect:null,size:null,extents:null,referenceCount:0}
wwtlib.GlyphCache=function(height){this.$8={};this.textObject=new wwtlib.TextObject();this.$2=height;this.$1=wwtlib.Planets.loadPlanetTexture('/webclient/images/glyphs1.png');this.$4=new wwtlib.WebFile('/webclient/images/glyphs1.xml');this.$4.onStateChange=ss.Delegate.create(this,this.$5);this.$4.send();}
wwtlib.GlyphCache.getCache=function(height){if(!Object.keyExists(wwtlib.GlyphCache.$0,height)){wwtlib.GlyphCache.$0[height]=new wwtlib.GlyphCache(height);}return wwtlib.GlyphCache.$0[height];}
wwtlib.GlyphCache.cleanUpAll=function(){Object.clearKeys(wwtlib.GlyphCache.$0);}
wwtlib.GlyphCache.prototype={$1:null,$2:128,get_height:function(){return this.$2;},$3:8,$4:null,$5:function(){if(this.$4.get_state()===2){alert(this.$4.get_message());}else if(this.$4.get_state()===1){this.$6(this.$4.getXml());}},ready:false,$6:function($p0){var $0=wwtlib._Util.$6($p0,'GlyphItems');var $enum1=ss.IEnumerator.getEnumerator($0.childNodes);while($enum1.moveNext()){var $1=$enum1.current;if($1.nodeName==='GlyphItem'){var $2=wwtlib.GlyphItem.$0($1);this.$8[$2.glyph]=$2;wwtlib.GlyphCache.$E=wwtlib.GlyphCache.$E+$2.glyph;}}this.ready=true;},get_texture:function(){return this.$1;},$7:function(){this.$A(true);},getGlyphItem:function(glyph){if(this.$B){this.$9();}return this.$8[glyph];},$9:function(){this.$A(false);},$A:function($p0){},$B:true,$C:true,$D:0,get_version:function(){return this.$D;},set_version:function(value){this.$D=value;return value;},addGlyph:function(glyph){if(!Object.keyExists(this.$8,glyph)){var $0=new wwtlib.GlyphItem(glyph);this.$8[glyph]=$0;this.$B=true;this.$C=true;this.$D++;wwtlib.GlyphCache.$E=wwtlib.GlyphCache.$E+glyph;}else{this.$8[glyph].addRef();}},cleanUp:function(){this.$B=true;this.$1=null;},dispose:function(){this.cleanUp();},get_dirty:function(){return this.$B;},set_dirty:function(value){this.$B=value;return value;}}
wwtlib.Text3d=function(center,up,text,fontsize,scale){this.color=wwtlib.Colors.get_white();this.alignment=0;this.text=text;this.up=up;this.center=center;this.scale=scale;this.top=wwtlib.Vector3d.addVectors(center,wwtlib.Vector3d.scale(up,scale));if(fontsize<0){this.sky=false;}}
wwtlib.Text3d.prototype={rotation:0,tilt:0,bank:0,$0:null,$1:false,sky:true,center:null,up:null,top:null,scale:0,opacity:1,text:'',width:1,height:1,addGlyphPoints:function(pointList,size,position,uv){var $0=new Array(6);for(var $A=0;$A<6;$A++){$0[$A]=new wwtlib.PositionTexture();}var $1=wwtlib.Vector3d.cross(this.center,this.up);var $2=wwtlib.Vector3d.cross(this.up,this.center);$1.normalize();$2.normalize();this.up.normalize();var $3=wwtlib.Vector3d.cross(this.center,$2);$3.normalize();if(!this.alignment){$1.multiply(this.width-position.get_left()*2);$2.multiply(this.width-((this.width*2)-position.get_right()*2));}else if(this.alignment===1){$1.multiply(-position.get_left()*2);$2.multiply(position.get_right()*2);}var $4=$3.copy();var $5=wwtlib.Vector3d.subtractVectors(wwtlib.Vector3d.get_empty(),$3);$4.multiply(this.height-position.get_top()*2);$5.multiply(this.height-((this.height*2)-position.get_bottom()*2));var $6=this.center.copy();$6.add($4);if(this.sky){$6.add($1);}else{$6.subtract($1);}var $7=this.center.copy();$7.add($4);if(this.sky){$7.add($2);}else{$7.subtract($2);}var $8=this.center.copy();if(this.sky){$8.add($1);}else{$8.subtract($1);}$8.add($5);var $9=this.center.copy();if(this.sky){$9.add($2);}else{$9.subtract($2);}$9.add($5);$0[0].position=$6.copy();$0[0].tu=uv.get_left();$0[0].tv=uv.get_top();$0[2].tu=uv.get_left();$0[2].tv=uv.get_bottom();$0[2].position=$8.copy();$0[1].tu=uv.get_right();$0[1].tv=uv.get_top();$0[1].position=$7.copy();$0[3].tu=uv.get_right();$0[3].tv=uv.get_bottom();$0[3].position=$9.copy();$0[5].tu=uv.get_right();$0[5].tv=uv.get_top();$0[5].position=$7.copy();$0[4].tu=uv.get_left();$0[4].tv=uv.get_bottom();$0[4].position=$8.copy();if(!!this.rotation||!!this.tilt||!!this.bank){if(!this.$1){var $B=wwtlib.Matrix3d.lookAtLH(this.center,new wwtlib.Vector3d(),this.up);var $C=$B.clone();$C.invert();this.$0=wwtlib.Matrix3d.multiplyMatrix(wwtlib.Matrix3d.multiplyMatrix(wwtlib.Matrix3d.multiplyMatrix(wwtlib.Matrix3d.multiplyMatrix($B,wwtlib.Matrix3d.$1E(-this.rotation/180*Math.PI)),wwtlib.Matrix3d.$1D(-this.tilt/180*Math.PI)),wwtlib.Matrix3d.$1C(-this.bank/180*Math.PI)),$C);this.$1=true;}for(var $D=0;$D<6;$D++){$0[$D].position=wwtlib.Vector3d.$1($0[$D].position,this.$0);}}pointList.addRange($0);}}
wwtlib.SpaceTimeController=function(){}
wwtlib.SpaceTimeController.updateClock=function(){if(wwtlib.SpaceTimeController.$2){var $0=Date.get_now();if(wwtlib.SpaceTimeController.$3!==1){var $1=$0.getTime()-wwtlib.SpaceTimeController.last.getTime();var $2=($1*wwtlib.SpaceTimeController.$3);wwtlib.SpaceTimeController.$0+=$2;}wwtlib.SpaceTimeController.last=$0;try{wwtlib.SpaceTimeController.$1=new Date($0.getTime()+wwtlib.SpaceTimeController.$0);}catch($3){wwtlib.SpaceTimeController.$1=new Date(1,12,25,23,59,59);wwtlib.SpaceTimeController.$0=wwtlib.SpaceTimeController.$1-Date.get_now();}if(wwtlib.SpaceTimeController.$1.getFullYear()>4000){wwtlib.SpaceTimeController.$1=new Date(4000,12,31,23,59,59);wwtlib.SpaceTimeController.$0=wwtlib.SpaceTimeController.$1-Date.get_now();}if(wwtlib.SpaceTimeController.$1.getFullYear()<1){wwtlib.SpaceTimeController.$1=new Date(0,12,25,23,59,59);wwtlib.SpaceTimeController.$0=wwtlib.SpaceTimeController.$1-Date.get_now();}}}
wwtlib.SpaceTimeController.getTimeForFutureTime=function(delta){try{if(wwtlib.SpaceTimeController.$2){var $0=new Date((wwtlib.SpaceTimeController.get_now().getTime()+(delta*1000)*wwtlib.SpaceTimeController.$3));return $0;}else{return wwtlib.SpaceTimeController.get_now();}}catch($1){return wwtlib.SpaceTimeController.get_now();}}
wwtlib.SpaceTimeController.getJNowForFutureTime=function(delta){try{if(wwtlib.SpaceTimeController.$2){var $0=new Date(wwtlib.SpaceTimeController.get_now().getTime()+parseInt((delta*1000*wwtlib.SpaceTimeController.$3)));return wwtlib.SpaceTimeController.utcToJulian($0);}else{return wwtlib.SpaceTimeController.utcToJulian(wwtlib.SpaceTimeController.get_now());}}catch($1){return wwtlib.SpaceTimeController.utcToJulian(wwtlib.SpaceTimeController.get_now());}}
wwtlib.SpaceTimeController.get_now=function(){return wwtlib.SpaceTimeController.$1;}
wwtlib.SpaceTimeController.set_now=function(value){wwtlib.SpaceTimeController.$1=value;wwtlib.SpaceTimeController.$0=wwtlib.SpaceTimeController.$1-Date.get_now();wwtlib.SpaceTimeController.last=Date.get_now();return value;}
wwtlib.SpaceTimeController.syncTime=function(){wwtlib.SpaceTimeController.$0=0;wwtlib.SpaceTimeController.$1=Date.get_now();wwtlib.SpaceTimeController.$2=true;}
wwtlib.SpaceTimeController.get_jNow=function(){return wwtlib.SpaceTimeController.utcToJulian(wwtlib.SpaceTimeController.get_now());}
wwtlib.SpaceTimeController.get_syncToClock=function(){return wwtlib.SpaceTimeController.$2;}
wwtlib.SpaceTimeController.set_syncToClock=function(value){if(wwtlib.SpaceTimeController.$2!==value){wwtlib.SpaceTimeController.$2=value;if(value){wwtlib.SpaceTimeController.last=Date.get_now();wwtlib.SpaceTimeController.$0=wwtlib.SpaceTimeController.$1-Date.get_now();}else{wwtlib.SpaceTimeController.$1=new Date(Date.get_now().getTime()+wwtlib.SpaceTimeController.$0);}}return value;}
wwtlib.SpaceTimeController.get_timeRate=function(){return wwtlib.SpaceTimeController.$3;}
wwtlib.SpaceTimeController.set_timeRate=function(value){wwtlib.SpaceTimeController.$3=value;return value;}
wwtlib.SpaceTimeController.get_altitude=function(){return wwtlib.SpaceTimeController.$5;}
wwtlib.SpaceTimeController.set_altitude=function(value){wwtlib.SpaceTimeController.$5=value;return value;}
wwtlib.SpaceTimeController.get_location=function(){wwtlib.SpaceTimeController.$4=wwtlib.Coordinates.fromLatLng(wwtlib.Settings.get_active().get_locationLat(),wwtlib.Settings.get_active().get_locationLng());wwtlib.SpaceTimeController.$5=wwtlib.Settings.get_active().get_locationAltitude();return wwtlib.SpaceTimeController.$4;}
wwtlib.SpaceTimeController.set_location=function(value){if(wwtlib.Settings.get_global().get_locationLat()!==value.get_lat()){wwtlib.Settings.get_global().set_locationLat(value.get_lat());}if(wwtlib.Settings.get_global().get_locationLng()!==value.get_lng()){wwtlib.Settings.get_global().set_locationLng(value.get_lng());}wwtlib.SpaceTimeController.$4=value;return value;}
wwtlib.SpaceTimeController.$6=function($p0){var $0=parseInt($p0.substring(0,1))<6;var $1=parseInt((($0)?' 20':'19')+$p0.substring(0,2));var $2=parseFloat($p0.substring(2,3));var $3=parseFloat($p0.substr(5));var $4=new Date($1,0,1,0,0);return wwtlib.SpaceTimeController.utcToJulian($4)+($2-1+$3);}
wwtlib.SpaceTimeController.utcToJulian=function(utc){var $0=utc.getUTCFullYear();var $1=utc.getUTCMonth()+1;var $2=utc.getUTCDate();var $3=utc.getUTCHours();var $4=utc.getUTCMinutes();var $5=utc.getUTCSeconds()+utc.getUTCMilliseconds()/1000;var $6=$2+($3/24)+($4/1440)+($5/86400);return wwtlib.AstroCalc.getJulianDay($0,$1,$6);}
wwtlib.SpaceTimeController.dateToJD=function(Year,Month,Day,bGregorianCalendar){var $0=Year;var $1=Month;if($1<3){$0=$0-1;$1=$1+12;}var $2=0;var $3=0;if(bGregorianCalendar){$2=parseInt(($0/100));$3=2-$2+parseInt(($2/4));}return parseInt((365.25*($0+4716)))+parseInt((30.6001*($1+1)))+Day+$3-1524.5;}
wwtlib.Star=function(input){var $0=input.split(',');this.id=$0[0];this.RA=parseFloat($0[1])/15;this.dec=parseFloat($0[2]);if($0.length>3){try{this.magnitude=parseFloat($0[3]);}catch($1){}}if($0.length>4){try{this.col=wwtlib.Color.load($0[4]);}catch($2){}}}
wwtlib.Star.prototype={magnitude:0,RA:0,dec:0,BMV:0,get_name:function(){return 'HIP'+this.id;},get_coordinates:function(){return wwtlib.Coordinates.fromRaDec(this.RA,this.dec);},id:null,absoluteMagnitude:0,par:0,distance:0,col:null,position:null,get_asPlace:function(){var $0=wwtlib.Place.create(this.get_name(),this.dec,this.RA,1,wwtlib.Constellations.containment.findConstellationForPoint(this.RA,this.dec),4,-1);$0.set_magnitude(this.magnitude);$0.set_distance(this.distance);return $0;}}
wwtlib.TangentTile=function(){wwtlib.TangentTile.initializeBase(this);}
wwtlib.TangentTile.create=function(level,x,y,dataset,parent){var $0=new wwtlib.TangentTile();$0.parent=parent;$0.level=level;$0.tileX=x;$0.tileY=y;$0.dataset=dataset;$0.$F=!dataset.get_bottomsUp();$0.computeBoundingSphere();return $0;}
wwtlib.TangentTile.prototype={$F:true,computeBoundingSphere:function(){if(!this.$F){this.computeBoundingSphereBottomsUp();return;}var $0=this.dataset.get_baseTileDegrees()/Math.pow(2,this.level);var $1=((this.dataset.get_baseTileDegrees()/2-((this.tileY)*$0))+this.dataset.get_offsetY());var $2=((this.dataset.get_baseTileDegrees()/2-(((this.tileY+1))*$0))+this.dataset.get_offsetY());var $3=(((this.tileX*$0)-this.dataset.get_baseTileDegrees()/this.dataset.get_widthFactor())+this.dataset.get_offsetX());var $4=(((((this.tileX+1))*$0)-this.dataset.get_baseTileDegrees()/this.dataset.get_widthFactor())+this.dataset.get_offsetX());var $5=($1+$2)/2;var $6=($3+$4)/2;this.sphereCenter=this.geoTo3dTan($5,$6);this.topLeft=this.geoTo3dTan($1,$3);this.bottomRight=this.geoTo3dTan($2,$4);this.topRight=this.geoTo3dTan($1,$4);this.bottomLeft=this.geoTo3dTan($2,$3);var $7=this.geoTo3dTan($1,$3);$0=$4-$3;$7.subtract(this.sphereCenter);this.sphereRadius=$7.length();},geoTo3dTan:function(lat,lng){lng=-lng;var $0=this.dataset.get_baseTileDegrees()/2;var $1=Math.tan($0*wwtlib.Tile.RC);return this.dataset.get_matrix().transform(wwtlib.Vector3d.create(1,(lat/$0*$1),(lng/$0*$1)));},computeBoundingSphereBottomsUp:function(){var $0=this.dataset.get_baseTileDegrees()/(Math.pow(2,this.level));var $1=(this.dataset.get_baseTileDegrees()/2+(((this.tileY+1))*$0))+this.dataset.get_offsetY();var $2=(this.dataset.get_baseTileDegrees()/2+((this.tileY)*$0))+this.dataset.get_offsetY();var $3=((this.tileX*$0)-this.dataset.get_baseTileDegrees()/this.dataset.get_widthFactor())+this.dataset.get_offsetX();var $4=((((this.tileX+1))*$0)-this.dataset.get_baseTileDegrees()/this.dataset.get_widthFactor())+this.dataset.get_offsetX();var $5=($1+$2)/2;var $6=($3+$4)/2;this.topLeft=this.geoTo3dTan($1,$3);this.bottomRight=this.geoTo3dTan($2,$4);this.topRight=this.geoTo3dTan($1,$4);this.bottomLeft=this.geoTo3dTan($2,$3);var $7=this.topLeft;$0=$4-$3;},createGeometry:function(renderContext){wwtlib.TangentTile.callBaseMethod(this, 'createGeometry',[renderContext]);if(this.geometryCreated){return true;}this.geometryCreated=true;for(var $E=0;$E<4;$E++){this.$0[$E]=[];}var $0=this.dataset.get_baseTileDegrees()/Math.pow(2,this.level);var $1=((this.dataset.get_baseTileDegrees()/2-((this.tileY)*$0))+this.dataset.get_offsetY());var $2=((this.dataset.get_baseTileDegrees()/2-(((this.tileY+1))*$0))+this.dataset.get_offsetY());var $3=(((this.tileX*$0)-this.dataset.get_baseTileDegrees()/this.dataset.get_widthFactor())+this.dataset.get_offsetX());var $4=(((((this.tileX+1))*$0)-this.dataset.get_baseTileDegrees()/this.dataset.get_widthFactor())+this.dataset.get_offsetX());var $5=$4-$3;var $6=$2-$1;this.topLeft=this.geoTo3dTan($1,$3);this.bottomRight=this.geoTo3dTan($2,$4);this.topRight=this.geoTo3dTan($1,$4);this.bottomLeft=this.geoTo3dTan($2,$3);var $7=($1+$2)/2;var $8=($3+$4)/2;var $9=wwtlib.Vector3d.midPoint(this.topLeft,this.bottomRight);var $A=wwtlib.Vector3d.midPoint(this.topLeft,this.bottomLeft);var $B=wwtlib.Vector3d.midPoint(this.topRight,this.bottomRight);var $C=wwtlib.Vector3d.midPoint(this.topLeft,this.topRight);var $D=wwtlib.Vector3d.midPoint(this.bottomLeft,this.bottomRight);if(renderContext.gl==null){this.$0[0].add(wwtlib.RenderTriangle.create(wwtlib.PositionTexture.createPos(this.topLeft,0,0),wwtlib.PositionTexture.createPos($A,0,0.5),wwtlib.PositionTexture.createPos($C,0.5,0),this.texture,this.level));this.$0[0].add(wwtlib.RenderTriangle.create(wwtlib.PositionTexture.createPos($A,0,0.5),wwtlib.PositionTexture.createPos($9,0.5,0.5),wwtlib.PositionTexture.createPos($C,0.5,0),this.texture,this.level));this.$0[1].add(wwtlib.RenderTriangle.create(wwtlib.PositionTexture.createPos($C,0.5,0),wwtlib.PositionTexture.createPos($B,1,0.5),wwtlib.PositionTexture.createPos(this.topRight,1,0),this.texture,this.level));this.$0[1].add(wwtlib.RenderTriangle.create(wwtlib.PositionTexture.createPos($C,0.5,0),wwtlib.PositionTexture.createPos($9,0.5,0.5),wwtlib.PositionTexture.createPos($B,1,0.5),this.texture,this.level));this.$0[2].add(wwtlib.RenderTriangle.create(wwtlib.PositionTexture.createPos($A,0,0.5),wwtlib.PositionTexture.createPos($D,0.5,1),wwtlib.PositionTexture.createPos($9,0.5,0.5),this.texture,this.level));this.$0[2].add(wwtlib.RenderTriangle.create(wwtlib.PositionTexture.createPos($A,0,0.5),wwtlib.PositionTexture.createPos(this.bottomLeft,0,1),wwtlib.PositionTexture.createPos($D,0.5,1),this.texture,this.level));this.$0[3].add(wwtlib.RenderTriangle.create(wwtlib.PositionTexture.createPos($9,0.5,0.5),wwtlib.PositionTexture.createPos(this.bottomRight,1,1),wwtlib.PositionTexture.createPos($B,1,0.5),this.texture,this.level));this.$0[3].add(wwtlib.RenderTriangle.create(wwtlib.PositionTexture.createPos($9,0.5,0.5),wwtlib.PositionTexture.createPos($D,0.5,1),wwtlib.PositionTexture.createPos(this.bottomRight,1,1),this.texture,this.level));}else{this.$2=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34962,this.$2);var $F=new Float32Array(9*5);var $10=$F;var $11=0;$11=this.addVertex($10,$11,wwtlib.PositionTexture.createPos($D,0.5,1));$11=this.addVertex($10,$11,wwtlib.PositionTexture.createPos(this.bottomLeft,0,1));$11=this.addVertex($10,$11,wwtlib.PositionTexture.createPos(this.bottomRight,1,1));$11=this.addVertex($10,$11,wwtlib.PositionTexture.createPos($9,0.5,0.5));$11=this.addVertex($10,$11,wwtlib.PositionTexture.createPos($A,0,0.5));$11=this.addVertex($10,$11,wwtlib.PositionTexture.createPos($B,1,0.5));$11=this.addVertex($10,$11,wwtlib.PositionTexture.createPos($C,0.5,0));$11=this.addVertex($10,$11,wwtlib.PositionTexture.createPos(this.topLeft,0,0));$11=this.addVertex($10,$11,wwtlib.PositionTexture.createPos(this.topRight,1,0));wwtlib.Tile.prepDevice.bufferData(34962,$F,35044);for(var $12=0;$12<4;$12++){$11=0;this.triangleCount=2;var $13=new Uint16Array(this.triangleCount*3);var $14=$13;switch($12){case 0:$14[$11++]=7;$14[$11++]=4;$14[$11++]=6;$14[$11++]=4;$14[$11++]=3;$14[$11++]=6;break;case 1:$14[$11++]=6;$14[$11++]=5;$14[$11++]=8;$14[$11++]=6;$14[$11++]=3;$14[$11++]=5;break;case 2:$14[$11++]=4;$14[$11++]=0;$14[$11++]=3;$14[$11++]=4;$14[$11++]=1;$14[$11++]=0;break;case 3:$14[$11++]=3;$14[$11++]=2;$14[$11++]=5;$14[$11++]=3;$14[$11++]=0;$14[$11++]=2;break;}this.$1[$12]=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34963,this.$1[$12]);wwtlib.Tile.prepDevice.bufferData(34963,$13,35044);}}return true;}}
wwtlib.Tile=function(){this.$0=new Array(4);this.$1=new Array(4);this.children=[null,null,null,null];this.localCenter=new wwtlib.Vector3d();this.demSize=33*33;this.$8=new wwtlib.Vector3d();this.$9=new wwtlib.Vector3d();this.$A=new wwtlib.Vector3d();this.$B=new wwtlib.Vector3d();this.sphereCenter=new wwtlib.Vector3d();this.$E=new Array(4);for(var $0=0;$0<4;$0++){this.$E[$0]=wwtlib.BlendState.create(false,500);}}
wwtlib.Tile.getFrustumList=function(){try{return wwtlib.Tile.frustumList;}catch($0){return null;}}
wwtlib.Tile.get_subDivisions=function(){return 32;}
wwtlib.Tile.prototype={$2:null,getIndexBuffer:function(index,accomidation){return this.$1[index];},level:0,tileX:0,tileY:0,texture:null,texture2d:null,readyToRender:false,inViewFrustum:true,topLeft:null,bottomRight:null,topRight:null,bottomLeft:null,isPointInTile:function(lat,lng){return false;},getSurfacePointAltitude:function(lat,lng,meters){return 0;},parent:null,renderedAtOrBelowGeneration:0,makeTexture:function(){if(wwtlib.Tile.prepDevice!=null){try{this.texture2d=wwtlib.Tile.prepDevice.createTexture();wwtlib.Tile.prepDevice.bindTexture(3553,this.texture2d);wwtlib.Tile.prepDevice.texParameteri(3553,10242,33071);wwtlib.Tile.prepDevice.texParameteri(3553,10243,33071);wwtlib.Tile.prepDevice.texImage2D(3553,0,6408,6408,5121,this.texture);wwtlib.Tile.prepDevice.texParameteri(3553,10241,9985);wwtlib.Tile.prepDevice.generateMipmap(3553);wwtlib.Tile.prepDevice.bindTexture(3553,null);}catch($0){this.errored=true;}}},addVertex:function(buffer,index,p){buffer[index++]=p.position.x;buffer[index++]=p.position.y;buffer[index++]=p.position.z;buffer[index++]=p.tu;buffer[index++]=p.tv;return index;},geoTo3dWithAlt:function(lat,lng,useLocalCenter,rev){lat=Math.max(Math.min(90,lat),-90);lng=Math.max(Math.min(180,lng),-180);if(!wwtlib.Tile.demEnabled||this.demData==null){return this.geoTo3d(lat,lng,useLocalCenter);}if(rev){lng-=180;}var $0=this.demData[this.demIndex];var $1=this.geoTo3dWithAltitude(lat,lng,$0,useLocalCenter);return $1;},geoTo3dWithAltitude:function(lat,lng,altitude,useLocalCenter){var $0=1+(altitude/this.get_$4());var $1=wwtlib.Vector3d.create((Math.cos(lng*wwtlib.Tile.RC)*Math.cos(lat*wwtlib.Tile.RC)*$0),(Math.sin(lat*wwtlib.Tile.RC)*$0),(Math.sin(lng*wwtlib.Tile.RC)*Math.cos(lat*wwtlib.Tile.RC)*$0));if(useLocalCenter){$1.subtract(this.localCenter);}return $1;},$3:6371000,get_$4:function(){return this.$3;},set_$4:function($p0){this.$3=$p0;return $p0;},requestImage:function(){if(!this.downloading&&!this.readyToRender){this.downloading=true;this.texture=document.createElement('img');var $0=this.texture;this.texture.addEventListener('load',ss.Delegate.create(this,function($p1_0){
this.texReady=true;this.downloading=false;this.errored=false;this.readyToRender=this.texReady&&(this.demReady||!this.demTile);this.requestPending=false;wwtlib.wwtlib$3.$9(this.get_key(),true);this.makeTexture();}),false);this.texture.addEventListener('error',ss.Delegate.create(this,function($p1_0){
this.downloading=false;this.readyToRender=false;this.errored=true;this.requestPending=false;wwtlib.wwtlib$3.$9(this.get_key(),true);}),false);$0.crossOrigin='anonymous';this.texture.src=this.get_URL().replaceAll('cdn.','www.');}},demFile:null,demIndex:0,demData:null,demAverage:0,demReady:false,texReady:false,demTile:false,demDownloading:false,createDemFromParent:function(){return false;},$5:function(){if(this.demFile==null){return this.createDemFromParent();}this.demData=this.demFile;if(this.demFile.length!==1089&&this.demFile.length!==513){return this.createDemFromParent();}var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.demData);while($enum1.moveNext()){var $1=$enum1.current;$0+=$1;}this.demAverage/=this.demData.length;return true;},requestDem:function(){if(!this.readyToRender&&!this.demDownloading){this.demTile=true;this.demDownloading=true;wwtlib.Tile.callCount++;var $0=new XMLHttpRequest();$0.addEventListener('load',ss.Delegate.create(this,function($p1_0){
this.demReady=true;this.demDownloading=false;this.readyToRender=this.texReady&&(this.demReady||!this.demTile);this.requestPending=false;try{this.demFile=new Float32Array($0.response);}catch($1_0){}wwtlib.wwtlib$3.$9(this.get_key(),true);}),false);$0.addEventListener('error',ss.Delegate.create(this,function($p1_0){
this.demDownloading=false;this.demReady=false;this.readyToRender=false;this.errored=true;this.requestPending=false;wwtlib.wwtlib$3.$9(this.get_key(),true);}),false);$0.open('GET',this.get_demURL(),true);$0.responseType='arraybuffer';$0.send();}},draw3D:function(renderContext,opacity){this.renderedGeneration=wwtlib.Tile.currentRenderGeneration;wwtlib.Tile.tilesTouched++;this.accessCount=wwtlib.wwtlib$3.$F++;if(this.errored){return false;}var $0=2;this.inViewFrustum=true;if(!this.readyToRender){wwtlib.wwtlib$3.$8(this);return false;}var $1=false;var $2=0;var $3=0;if(this.dataset.get_mercator()||this.dataset.get_bottomsUp()){$3=1;}var $4=0;var $5=false;var $6=false;for(var $7=0;$7<2;$7++){for(var $8=0;$8<$0;$8++){if(this.level<this.dataset.get_levels()){if(this.children[$2]==null){this.children[$2]=wwtlib.wwtlib$3.$2(this.level+1,this.tileX*2+(($8+$4)%2),this.tileY*2+(($7+$3)%2),this.dataset,this);}if(this.children[$2].isTileInFrustum(renderContext.get_frustum())){this.inViewFrustum=true;if(this.children[$2].isTileBigEnough(renderContext)){this.$E[$2].set_targetState(!this.children[$2].draw3D(renderContext,opacity));if(this.$E[$2].get_targetState()){$6=true;}}else{this.$E[$2].set_targetState(true);}}else{this.$E[$2].set_targetState(this.$E[$2].set_state(false));}if(this.$E[$2].get_targetState()!==this.$E[$2].get_state()){$1=true;}}else{this.$E[$2].set_state(true);}if(!!this.$E[$2].get_state()){$5=true;}$2++;}}if($6||$5){this.renderedAtOrBelowGeneration=wwtlib.Tile.currentRenderGeneration;if(this.parent!=null){this.parent.renderedAtOrBelowGeneration=this.renderedAtOrBelowGeneration;}}if(!$5){return true;}if(!this.createGeometry(renderContext)){return false;}wwtlib.Tile.tilesInView++;this.accomidation=this.$6();for(var $9=0;$9<4;$9++){if(this.$E[$9].get_targetState()){this.renderPart(renderContext,$9,(opacity/100),false);}}return true;},renderedGeneration:0,accomidation:0,$6:function(){var $0=0;if(!wwtlib.Tile.useAccomidation){return 0;}var $1=wwtlib.wwtlib$3.$3(this.level,this.tileX,this.tileY+1,this.dataset,this);if($1==null||$1.renderedAtOrBelowGeneration<wwtlib.Tile.currentRenderGeneration-2){$0+=1;}var $2=wwtlib.wwtlib$3.$3(this.level,this.tileX+1,this.tileY,this.dataset,this);if($2==null||$2.renderedAtOrBelowGeneration<wwtlib.Tile.currentRenderGeneration-2){$0+=2;}var $3=wwtlib.wwtlib$3.$3(this.level,this.tileX,this.tileY-1,this.dataset,this);if($3==null||$3.renderedAtOrBelowGeneration<wwtlib.Tile.currentRenderGeneration-2){$0+=4;}var $4=wwtlib.wwtlib$3.$3(this.level,this.tileX-1,this.tileY,this.dataset,this);if($4==null||$4.renderedAtOrBelowGeneration<wwtlib.Tile.currentRenderGeneration-2){$0+=8;}return $0;},renderPart:function(renderContext,part,opacity,combine){if(wwtlib.Tile.prepDevice==null){var $0=renderContext.lighting&&renderContext.get_sunPosition()!=null;var $enum1=ss.IEnumerator.getEnumerator(this.$0[part]);while($enum1.moveNext()){var $1=$enum1.current;$1.opacity=opacity;if($0){var $2=$1.normal.copy();renderContext.get_world().multiplyVector($2);$2.normalize();var $3=wwtlib.Vector3d.dot($2,renderContext.get_sunPosition());if($3<0){$3=0;}else{$3=Math.min(1,($3*1));}$1.lighting=$3;}else{$1.lighting=1;}$1.draw(renderContext.device,renderContext.WVP);}}else{wwtlib.TileShader.use(renderContext,this.$2,this.getIndexBuffer(part,this.accomidation),this.texture2d);renderContext.gl.drawElements(4,this.triangleCount*3,5123,0);}},cleanUp:function(removeFromParent){this.readyToRender=false;this.demData=null;this.demFile=null;this.demDownloading=false;this.texReady=false;this.demReady=false;this.errored=false;if(this.texture!=null){this.texture=null;}this.$0=new Array(4);this.geometryCreated=false;if(removeFromParent&&this.parent!=null){this.parent.removeChild(this);this.parent=null;}if(wwtlib.Tile.prepDevice!=null){var $enum1=ss.IEnumerator.getEnumerator(this.$1);while($enum1.moveNext()){var $0=$enum1.current;wwtlib.Tile.prepDevice.deleteBuffer($0);}this.$1=new Array(4);if(this.$2!=null){wwtlib.Tile.prepDevice.deleteBuffer(this.$2);this.$2=null;}if(this.texture2d!=null){wwtlib.Tile.prepDevice.deleteTexture(this.texture2d);this.texture2d=null;}}},removeChild:function(child){for(var $0=0;$0<4;$0++){if(this.children[$0]===child){this.children[$0]=null;return;}}},accessCount:0,downloading:false,geometryCreated:false,createGeometry:function(renderContext){if(wwtlib.Tile.demEnabled&&this.demReady&&this.demData==null){if(!this.$5()){return false;}}if(wwtlib.Tile.demEnabled&&this.demData==null){return false;}this.readyToRender=true;return true;},calcSphere:function(){var $0=new Array(4);$0[0]=this.topLeft;$0[1]=this.bottomRight;$0[2]=this.topRight;$0[3]=this.bottomLeft;var $1=wwtlib.ConvexHull.findEnclosingSphere($0);this.sphereCenter=$1.center;this.sphereRadius=$1.radius;},$7:false,isTileBigEnough:function(renderContext){var $0=renderContext.WVP;$0.$12(this.topLeft,this.$8);$0.$12(this.bottomRight,this.$9);$0.$12(this.topRight,this.$A);$0.$12(this.bottomLeft,this.$B);var $1=this.$8;$1.subtract(this.$A);var $2=$1.length();var $3=this.$B;$3.subtract(this.$9);var $4=$3.length();var $5=this.$B;$5.subtract(this.$8);var $6=$5.length();var $7=this.$9;$7.subtract(this.$A);var $8=$7.length();var $9=Math.max(Math.max($8,$6),Math.max($4,$2));if($9<300){return false;}else{wwtlib.Tile.deepestLevel=(this.level>wwtlib.Tile.deepestLevel)?this.level:wwtlib.Tile.deepestLevel;}return true;},isTileInFrustum:function(frustum){if(this.level<2&&(!this.dataset.get_projection()||this.dataset.get_projection()===3)){}this.inViewFrustum=false;var $0=new wwtlib.Vector4d(this.sphereCenter.x,this.sphereCenter.y,this.sphereCenter.z,1);for(var $1=0;$1<6;$1++){if(frustum[$1].dot($0)<-this.sphereRadius){return false;}}this.inViewFrustum=true;return true;},sphereRadius:0,get_sphereRadius:function(){return this.sphereRadius;},localOrigin:null,get_sphereCenter:function(){return this.sphereCenter;},radius:1,geoTo3d:function(lat,lng,useLocalCenter){if(this.dataset.get_dataSetType()===3){var $0=wwtlib.Vector3d.create(-(Math.cos(lng*wwtlib.Tile.RC)*Math.cos(lat*wwtlib.Tile.RC)*this.radius),(Math.sin(lat*wwtlib.Tile.RC)*this.radius),(Math.sin(lng*wwtlib.Tile.RC)*Math.cos(lat*wwtlib.Tile.RC)*this.radius));return $0;}else{lng-=180;var $1=wwtlib.Vector3d.create((Math.cos(lng*wwtlib.Tile.RC)*Math.cos(lat*wwtlib.Tile.RC)*this.radius),(Math.sin(lat*wwtlib.Tile.RC)*this.radius),(Math.sin(lng*wwtlib.Tile.RC)*Math.cos(lat*wwtlib.Tile.RC)*this.radius));return $1;}},triangleCount:0,onCreateVertexBuffer:function(sender,e){},requestHits:0,requestPending:false,errored:false,dataset:null,get_dataset:function(){return this.dataset;},set_dataset:function(value){this.dataset=value;return value;},get_key:function(){return this.dataset.get_imageSetID().toString()+'\\'+this.level.toString()+'\\'+this.tileY.toString()+'_'+this.tileX.toString();},get_URL:function(){var $0=this.dataset.get_url();if(this.dataset.get_url().indexOf('{1}')>-1){if(!this.dataset.get_projection()&&!String.isNullOrEmpty(this.dataset.get_quadTreeTileMap())){$0=String.format(this.dataset.get_url(),this.getServerID(),this.getTileID());if($0.indexOf('virtualearth.net')>-1){$0+='&n=z';}return $0;}else{return String.format(this.dataset.get_url(),this.dataset.get_imageSetID(),this.level,this.tileX,this.tileY);}}$0=$0.replaceAll('{X}',this.tileX.toString());$0=$0.replaceAll('{Y}',this.tileY.toString());$0=$0.replaceAll('{L}',this.level.toString());var $1=0;if($0.indexOf('{S:0}')>-1){$1=0;$0=$0.replaceAll('{S:0}','{S}');}if($0.indexOf('{S:1}')>-1){$1=1;$0=$0.replaceAll('{S:1}','{S}');}if($0.indexOf('{S:2}')>-1){$1=2;$0=$0.replaceAll('{S:2}','{S}');}if($0.indexOf('{S:3}')>-1){$1=3;$0=$0.replaceAll('{S:3}','{S}');}if($0.indexOf('a{S}')>-1){$0=$0.replaceAll('a{S}','r{S}');}if($0.indexOf('h{S}')>-1){$0=$0.replaceAll('h{S}','r{S}');}if($0.indexOf('http://r{S}.ortho.tiles.virtualearth.net')>-1){$0=$0.replaceAll('http://r{S}.ortho.tiles.virtualearth.net','http://ecn.t{S}.tiles.virtualearth.net');}var $2=this.getTileID();var $3='';if(!$2.length){$3=$1.toString();}else{$3=$2.substr($2.length-1,1);}$0=$0.replaceAll('{Q}',$2);$0=$0.replaceAll('{S}',$3);if($0.indexOf('virtualearth.net')>-1){$0+='&n=z';}return $0;},get_demURL:function(){if(!this.dataset.get_projection()){var $4='http://cdn.worldwidetelescope.org/wwtweb/demtile.aspx?q={0},{1},{2},M';if(!String.isNullOrEmpty(this.dataset.get_demUrl())){$4=this.dataset.get_demUrl();}}if(this.dataset.get_demUrl().indexOf('{1}')>-1){return String.format(this.dataset.get_demUrl()+'&new',this.level,this.tileX,this.tileY);}var $0=this.dataset.get_demUrl();$0=$0.replaceAll('{X}',this.tileX.toString());$0=$0.replaceAll('{Y}',this.tileY.toString());$0=$0.replaceAll('{L}',this.level.toString());var $1=0;if($0.indexOf('{S:0}')>-1){$1=0;$0=$0.replaceAll('{S:0}','{S}');}if($0.indexOf('{S:1}')>-1){$1=1;$0=$0.replaceAll('{S:1}','{S}');}if($0.indexOf('{S:2}')>-1){$1=2;$0=$0.replaceAll('{S:2}','{S}');}if($0.indexOf('{S:3}')>-1){$1=3;$0=$0.replaceAll('{S:3}','{S}');}var $2=this.getTileID();var $3='';if(!$2.length){$3=$1.toString();}else{$3=$2.substr($2.length-1,1);}$0=$0.replaceAll('{Q}',$2);$0=$0.replaceAll('{S}',$3);return $0;},getServerID:function(){var $0=(this.tileX&1)+((this.tileY&1)<<1);return $0;},$C:null,getTileID:function(){if(this.$C!=null){return this.$C;}var $0=this.level;var $1=this.tileX;var $2=this.tileY;if(this.dataset.get_projection()===1){$0++;}var $3=this.dataset.get_quadTreeTileMap();if(!String.isNullOrEmpty($3)){var $4=new ss.StringBuilder();for(var $5=$0;$5>0;--$5){var $6=1<<($5-1);var $7=0;if(!!($1&$6)){$7=1;}if(!!($2&$6)){$7+=2;}$4.append($3.substr($7,1));}this.$C=$4.toString();return this.$C;}else{this.$C='0';return this.$C;}},$D:0,get_vertexCount:function(){return this.$D;},set_vertexCount:function(value){this.$D=value;return value;},$E:null}
wwtlib.wwtlib$3=function(){}
wwtlib.wwtlib$3.$2=function($p0,$p1,$p2,$p3,$p4){var $0=null;var $1=wwtlib.Imageset.getTileKey($p3,$p0,$p1,$p2);if(!Object.keyExists(wwtlib.wwtlib$3.$1,$1)){$0=wwtlib.Imageset.getNewTile($p3,$p0,$p1,$p2,$p4);wwtlib.wwtlib$3.$1[$1]=$0;}else{$0=wwtlib.wwtlib$3.$1[$1];}var $2=0;return $0;}
wwtlib.wwtlib$3.$3=function($p0,$p1,$p2,$p3,$p4){if($p0<$p3.get_baseLevel()){return null;}var $0=null;var $1=wwtlib.Imageset.getTileKey($p3,$p0,$p1,$p2);try{if(!Object.keyExists(wwtlib.wwtlib$3.$1,$1)){return null;}else{$0=wwtlib.wwtlib$3.$1[$1];}}catch($2){}return $0;}
wwtlib.wwtlib$3.$4=function(){var $0=[];var $1=[];try{try{var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.wwtlib$3.$1));while($enum1.moveNext()){var $2=$enum1.current;var $3=wwtlib.wwtlib$3.$1[$2];if($3.renderedGeneration<(wwtlib.Tile.currentRenderGeneration-10)&&!($3.requestPending||$3.downloading)){if($3.readyToRender){$1.add($3);}else{$0.add($3);}}}}catch($4){}return $1.length;}catch($5){return -1;}}
wwtlib.wwtlib$3.$7=function($p0){while(Object.getKeyCount(wwtlib.wwtlib$3.$0)>0&&wwtlib.wwtlib$3.$6>0){var $0=100000;var $1=false;var $2=null;var $3=1000;var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.wwtlib$3.$0));while($enum1.moveNext()){var $4=$enum1.current;var $5=wwtlib.wwtlib$3.$0[$4];if(!$5.requestPending&&$5.inViewFrustum){var $6=wwtlib.Vector3d.makeCopy($5.get_sphereCenter());$6.$0($p0.get_world());if($p0.space){$6.subtract(wwtlib.Vector3d.create(0,0,-1));}else{$6.subtract($p0.cameraPosition);}var $7=Math.max(0,$6.length()-$5.get_sphereRadius());var $8=($5.get_dataset().get_projection()===2)||($5.get_dataset().get_projection()===5);if($7<$0&&(!$1||$8)){$0=$7;$2=$5.get_key();$3=$5.level;$1=$8;}}}if($2!=null){var $9=wwtlib.wwtlib$3.$0[$2];$9.requestPending=true;wwtlib.wwtlib$3.$6--;if(wwtlib.wwtlib$3.$6<0){wwtlib.wwtlib$3.$6=0;}$9.requestImage();if($9.get_dataset().get_elevationModel()){$9.requestDem();}}else{return;}}}
wwtlib.wwtlib$3.$8=function($p0){var $0;$0=256;if(!$p0.downloading&&!$p0.readyToRender){if(Object.keyExists(wwtlib.wwtlib$3.$0,$p0.get_key())){wwtlib.wwtlib$3.$0[$p0.get_key()].requestHits+=$0;}else{$p0.requestHits=$0;wwtlib.wwtlib$3.$0[$p0.get_key()]=$p0;}}return true;}
wwtlib.wwtlib$3.$9=function($p0,$p1){if($p1){var $0=wwtlib.wwtlib$3.$0[$p0];if($0!=null){$0.requestPending=false;delete wwtlib.wwtlib$3.$0[$0.get_key()];}wwtlib.wwtlib$3.$6++;}delete wwtlib.wwtlib$3.$0[$p0];}
wwtlib.wwtlib$3.$A=function(){Object.clearKeys(wwtlib.wwtlib$3.$1);}
wwtlib.wwtlib$3.$B=function(){Object.clearKeys(wwtlib.wwtlib$3.$0);}
wwtlib.wwtlib$3.$11=function(){if(Object.getKeyCount(wwtlib.wwtlib$3.$1)<wwtlib.wwtlib$3.$E){return;}var $0=[];var $1=[];try{try{var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.wwtlib$3.$1));while($enum1.moveNext()){var $2=$enum1.current;var $3=wwtlib.wwtlib$3.$1[$2];if($3.renderedGeneration<(wwtlib.Tile.currentRenderGeneration-10)&&!($3.requestPending||$3.downloading)){if($3.readyToRender){$1.add($3);}else{$0.add($3);}}}}catch($4){}wwtlib.wwtlib$3.$C=$1.length;if($1.length>wwtlib.wwtlib$3.$E){$1.sort(function($p1_0,$p1_1){
return ($p1_1.accessCount<$p1_0.accessCount)?1:(($p1_1.accessCount===$p1_0.accessCount)?0:-1);});var $5=$1.length-wwtlib.wwtlib$3.$E;var $enum3=ss.IEnumerator.getEnumerator($1);while($enum3.moveNext()){var $6=$enum3.current;if($5<1){break;}$6.cleanUp(false);$5--;}}if(Object.getKeyCount(wwtlib.wwtlib$3.$1)<wwtlib.wwtlib$3.$D){return;}if($0.length>wwtlib.wwtlib$3.$D){$0.sort(function($p1_0,$p1_1){
return ($p1_1.accessCount<$p1_0.accessCount)?1:(($p1_1.accessCount===$p1_0.accessCount)?0:-1);});var $7=$0.length-wwtlib.wwtlib$3.$D;if($7>20){$7=20;}var $enum4=ss.IEnumerator.getEnumerator($0);while($enum4.moveNext()){var $8=$enum4.current;if($7<1){break;}$8.cleanUp(true);delete wwtlib.wwtlib$3.$1[$8.get_key()];$7--;}}}catch($9){}finally{}return;}
wwtlib.wwtlib$3.$12=function(){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.wwtlib$3.$0));while($enum1.moveNext()){var $1=$enum1.current;var $2=wwtlib.wwtlib$3.$0[$1];if(!$2.requestPending){$2.requestHits=$2.requestHits/2;try{if($2.requestHits<2){$0.add($2);}else if(!$2.inViewFrustum){$0.add($2);}}catch($3){}}}var $enum3=ss.IEnumerator.getEnumerator($0);while($enum3.moveNext()){var $4=$enum3.current;delete wwtlib.wwtlib$3.$0[$4.get_key()];}}
wwtlib.ToastTile=function(){wwtlib.ToastTile.initializeBase(this);}
wwtlib.ToastTile.$13=function($p0){var $0=$p0.length;var $1=new Uint16Array($0);var $2=$1;for(var $3=0;$3<$0;$3++){$2[$3]=$p0[$3];}return $2;}
wwtlib.ToastTile.create=function(level,xc,yc,dataset,parent){var $0=new wwtlib.ToastTile();$0.parent=parent;$0.level=level;$0.tileX=xc;$0.tileY=yc;$0.dataset=dataset;$0.$F=!dataset.get_bottomsUp();if($0.tileX!==xc){alert('bad');}if(!!dataset.get_meanRadius()){$0.set_$4(dataset.get_meanRadius());}else{if(!dataset.get_dataSetType()){$0.set_$4(6371000);}else{$0.set_$4(3396010);}}$0.computeBoundingSphere();return $0;}
wwtlib.ToastTile.prototype={$F:true,bounds:null,backslash:false,$10:null,$11:null,demArray:null,computeBoundingSphere:function(){this.$16();this.topLeft=this.bounds[0+3*0].position.copy();this.bottomRight=this.bounds[2+3*2].position.copy();this.topRight=this.bounds[2+3*0].position.copy();this.bottomLeft=this.bounds[0+3*2].position.copy();this.calcSphere();},getIndexBuffer:function(index,accomidation){if(!this.level){return wwtlib.ToastTile.rootIndexBuffer[index];}if(this.backslash){return wwtlib.ToastTile.backSlashIndexBuffer[index*16+accomidation];}else{return wwtlib.ToastTile.slashIndexBuffer[index*16+accomidation];}},$12:function($p0,$p1){if(!this.level){wwtlib.ToastTile.rootIndexBuffer[$p1]=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34963,wwtlib.ToastTile.rootIndexBuffer[$p1]);wwtlib.Tile.prepDevice.bufferData(34963,$p0,35044);return;}for(var $0=0;$0<16;$0++){var $1=wwtlib.ToastTile.$13($p0);this.$14($1,$0);if(this.backslash){wwtlib.ToastTile.backSlashIndexBuffer[$p1*16+$0]=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34963,wwtlib.ToastTile.backSlashIndexBuffer[$p1*16+$0]);wwtlib.Tile.prepDevice.bufferData(34963,$1,35044);}else{wwtlib.ToastTile.slashIndexBuffer[$p1*16+$0]=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34963,wwtlib.ToastTile.slashIndexBuffer[$p1*16+$0]);wwtlib.Tile.prepDevice.bufferData(34963,$1,35044);}}},$14:function($p0,$p1){var $0={};var $1={};var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $3=$enum1.current;var $4=this.$10[$3];var $5=parseInt(($4.tu*16+0.5));var $6=parseInt(($4.tv*16+0.5));var $7=($6<<8)+$5;if(!Object.keyExists($1,$7)){$1[$7]=$3;}}var $2=16;if(($p1&1)===1){for(var $8=1;$8<$2;$8+=2){var $9=$2;var $A=($9<<8)+$8;var $B=($9<<8)+$8+1;if(Object.keyExists($1,$A)){$0[$1[$A]]=$1[$B];}}}if(($p1&2)===2){for(var $C=1;$C<$2;$C+=2){var $D=$2;var $E=($C<<8)+$D;var $F=(($C+1)<<8)+$D;if(Object.keyExists($1,$E)){$0[$1[$E]]=$1[$F];}}}if(($p1&4)===4){for(var $10=1;$10<$2;$10+=2){var $11=0;var $12=($11<<8)+$10;var $13=($11<<8)+$10+1;if(Object.keyExists($1,$12)){$0[$1[$12]]=$1[$13];}}}if(($p1&8)===8){for(var $14=1;$14<$2;$14+=2){var $15=0;var $16=($14<<8)+$15;var $17=(($14+1)<<8)+$15;if(Object.keyExists($1,$16)){$0[$1[$16]]=$1[$17];}}}if(!Object.getKeyCount($0)){return;}for(var $18=0;$18<$p0.length;$18++){if(Object.keyExists($0,$p0[$18])){$p0[$18]=$0[$p0[$18]];}}},calculateFullSphere:function(list){var $0=wwtlib.ConvexHull.findEnclosingSphere(list);this.sphereCenter=$0.center;this.sphereRadius=$0.radius;},isPointInTile:function(lat,lng){if(!this.level){return true;}if(this.level===1){if((lng>=0&&lng<=90)&&(!this.tileX&&this.tileY===1)){return true;}if((lng>90&&lng<=180)&&(this.tileX===1&&this.tileY===1)){return true;}if((lng<0&&lng>=-90)&&(!this.tileX&&!this.tileY)){return true;}if((lng<-90&&lng>=-180)&&(this.tileX===1&&!this.tileY)){return true;}return false;}if(!this.demReady||this.demData==null){return false;}var $0=wwtlib.Coordinates.geoTo3dDouble(-lat,lng);var $1=this.$15(this.topLeft.copy(),this.topRight.copy(),$0);var $2=this.$15(this.topRight.copy(),this.bottomRight.copy(),$0);var $3=this.$15(this.bottomRight.copy(),this.bottomLeft.copy(),$0);var $4=this.$15(this.bottomLeft.copy(),this.topLeft.copy(),$0);if($1&&$2&&$3&&$4){return true;}return false;},$15:function($p0,$p1,$p2){$p0.normalize();$p1.normalize();var $0=wwtlib.Vector3d.cross($p0,$p1);var $1=wwtlib.Vector3d.dot($0,$p2);return $1<0;},getSurfacePointAltitude:function(lat,lng,meters){if(this.level<wwtlib.Tile.lastDeepestLevel){for(var $8=0;$8<4;$8++){var $9=this.children[$8];if($9!=null){if($9.isPointInTile(lat,lng)){var $A=$9.getSurfacePointAltitude(lat,lng,meters);if(!!$A){return $A;}else{break;}}}}}wwtlib.Tile.tileTargetLevel=this.level;wwtlib.Tile.tileTargetX=this.tileX;wwtlib.Tile.tileTargetY=this.tileY;var $0=wwtlib.Coordinates.geoTo3dDouble(-lat,lng);$0=wwtlib.Vector3d.subtractVectors(new wwtlib.Vector3d(),$0);var $1=wwtlib.wwtlib$2.$1(this.topLeft.copy(),this.topRight.copy(),this.bottomLeft.copy(),this.bottomRight.copy(),$0.copy());var $2=Math.max(0,Math.min(16,($1.x*16)));var $3=Math.max(0,Math.min(16,($1.y*16)));var $4=Math.max(0,Math.min(15,parseInt(($1.x*16))));var $5=Math.max(0,Math.min(15,parseInt(($1.y*16))));var $6=$2-$4;var $7=$3-$5;if(this.demArray!=null){var $B=this.demArray[$4+17*$5];var $C=this.demArray[($4+1)+17*$5];var $D=this.demArray[$4+17*($5+1)];var $E=this.demArray[($4+1)+17*($5+1)];var $F=$B*(1-$6)+$6*$C;var $10=$D*(1-$6)+$6*$E;var $11=$F*(1-$7)+$7*$10;return $11/this.get_$4();}return this.demAverage/this.get_$4();},$16:function(){this.$10=[];this.$11=new Array(4);this.$11[0]=[];this.$11[1]=[];this.$11[2]=[];this.$11[3]=[];this.bounds=new Array(9);if(this.level>0){if(this.parent==null){this.parent=wwtlib.wwtlib$3.$2(this.level-1,this.tileX/2,this.tileY/2,this.dataset,null);}var $0=this.parent;var $1=this.tileX%2;var $2=this.tileY%2;if(this.level>1){this.backslash=$0.backslash;}else{this.backslash=($1===1^$2===1)===1;}this.bounds[0+3*0]=$0.bounds[$1+3*$2].copy();this.bounds[1+3*0]=this.$17($0.bounds[$1+3*$2],$0.bounds[$1+1+3*$2]);this.bounds[2+3*0]=$0.bounds[$1+1+3*$2].copy();this.bounds[0+3*1]=this.$17($0.bounds[$1+3*$2],$0.bounds[$1+3*($2+1)]);if(this.backslash){this.bounds[1+3*1]=this.$17($0.bounds[$1+3*$2],$0.bounds[$1+1+3*($2+1)]);}else{this.bounds[1+3*1]=this.$17($0.bounds[$1+1+3*$2],$0.bounds[$1+3*($2+1)]);}this.bounds[2+3*1]=this.$17($0.bounds[$1+1+3*$2],$0.bounds[$1+1+3*($2+1)]);this.bounds[0+3*2]=$0.bounds[$1+3*($2+1)].copy();this.bounds[1+3*2]=this.$17($0.bounds[$1+3*($2+1)],$0.bounds[$1+1+3*($2+1)]);this.bounds[2+3*2]=$0.bounds[$1+1+3*($2+1)].copy();this.bounds[0+3*0].tu=0*wwtlib.Tile.uvMultiple;this.bounds[0+3*0].tv=0*wwtlib.Tile.uvMultiple;this.bounds[1+3*0].tu=0.5*wwtlib.Tile.uvMultiple;this.bounds[1+3*0].tv=0*wwtlib.Tile.uvMultiple;this.bounds[2+3*0].tu=1*wwtlib.Tile.uvMultiple;this.bounds[2+3*0].tv=0*wwtlib.Tile.uvMultiple;this.bounds[0+3*1].tu=0*wwtlib.Tile.uvMultiple;this.bounds[0+3*1].tv=0.5*wwtlib.Tile.uvMultiple;this.bounds[1+3*1].tu=0.5*wwtlib.Tile.uvMultiple;this.bounds[1+3*1].tv=0.5*wwtlib.Tile.uvMultiple;this.bounds[2+3*1].tu=1*wwtlib.Tile.uvMultiple;this.bounds[2+3*1].tv=0.5*wwtlib.Tile.uvMultiple;this.bounds[0+3*2].tu=0*wwtlib.Tile.uvMultiple;this.bounds[0+3*2].tv=1*wwtlib.Tile.uvMultiple;this.bounds[1+3*2].tu=0.5*wwtlib.Tile.uvMultiple;this.bounds[1+3*2].tv=1*wwtlib.Tile.uvMultiple;this.bounds[2+3*2].tu=1*wwtlib.Tile.uvMultiple;this.bounds[2+3*2].tv=1*wwtlib.Tile.uvMultiple;this.$10.add(this.bounds[0+3*0]);this.$10.add(this.bounds[1+3*0]);this.$10.add(this.bounds[2+3*0]);this.$10.add(this.bounds[0+3*1]);this.$10.add(this.bounds[1+3*1]);this.$10.add(this.bounds[2+3*1]);this.$10.add(this.bounds[0+3*2]);this.$10.add(this.bounds[1+3*2]);this.$10.add(this.bounds[2+3*2]);if(this.backslash){this.$11[0].add(wwtlib.wwtlib$7.$0(4,1,0));this.$11[0].add(wwtlib.wwtlib$7.$0(3,4,0));this.$11[1].add(wwtlib.wwtlib$7.$0(5,2,1));this.$11[1].add(wwtlib.wwtlib$7.$0(4,5,1));this.$11[2].add(wwtlib.wwtlib$7.$0(7,4,3));this.$11[2].add(wwtlib.wwtlib$7.$0(6,7,3));this.$11[3].add(wwtlib.wwtlib$7.$0(8,5,4));this.$11[3].add(wwtlib.wwtlib$7.$0(7,8,4));}else{this.$11[0].add(wwtlib.wwtlib$7.$0(3,1,0));this.$11[0].add(wwtlib.wwtlib$7.$0(4,1,3));this.$11[1].add(wwtlib.wwtlib$7.$0(4,2,1));this.$11[1].add(wwtlib.wwtlib$7.$0(5,2,4));this.$11[2].add(wwtlib.wwtlib$7.$0(6,4,3));this.$11[2].add(wwtlib.wwtlib$7.$0(7,4,6));this.$11[3].add(wwtlib.wwtlib$7.$0(7,5,4));this.$11[3].add(wwtlib.wwtlib$7.$0(8,5,7));}}else{this.bounds[0+3*0]=wwtlib.PositionTexture.create(0,-1,0,0,0);this.bounds[1+3*0]=wwtlib.PositionTexture.create(0,0,1,0.5,0);this.bounds[2+3*0]=wwtlib.PositionTexture.create(0,-1,0,1,0);this.bounds[0+3*1]=wwtlib.PositionTexture.create(-1,0,0,0,0.5);this.bounds[1+3*1]=wwtlib.PositionTexture.create(0,1,0,0.5,0.5);this.bounds[2+3*1]=wwtlib.PositionTexture.create(1,0,0,1,0.5);this.bounds[0+3*2]=wwtlib.PositionTexture.create(0,-1,0,0,1);this.bounds[1+3*2]=wwtlib.PositionTexture.create(0,0,-1,0.5,1);this.bounds[2+3*2]=wwtlib.PositionTexture.create(0,-1,0,1,1);this.$10.add(this.bounds[0+3*0]);this.$10.add(this.bounds[1+3*0]);this.$10.add(this.bounds[2+3*0]);this.$10.add(this.bounds[0+3*1]);this.$10.add(this.bounds[1+3*1]);this.$10.add(this.bounds[2+3*1]);this.$10.add(this.bounds[0+3*2]);this.$10.add(this.bounds[1+3*2]);this.$10.add(this.bounds[2+3*2]);this.$11[0].add(wwtlib.wwtlib$7.$0(3,1,0));this.$11[0].add(wwtlib.wwtlib$7.$0(4,1,3));this.$11[1].add(wwtlib.wwtlib$7.$0(5,2,1));this.$11[1].add(wwtlib.wwtlib$7.$0(4,5,1));this.$11[2].add(wwtlib.wwtlib$7.$0(7,4,3));this.$11[2].add(wwtlib.wwtlib$7.$0(6,7,3));this.$11[3].add(wwtlib.wwtlib$7.$0(7,5,4));this.$11[3].add(wwtlib.wwtlib$7.$0(8,5,7));}},$17:function($p0,$p1){var $0=wwtlib.Vector3d.lerp($p0.position,$p1.position,0.5);var $1=wwtlib.Vector2d.lerp(wwtlib.Vector2d.create($p0.tu,$p0.tv),wwtlib.Vector2d.create($p1.tu,$p1.tv),0.5);$0.normalize();return wwtlib.PositionTexture.createPos($0,$1.x,$1.y);},$18:4,$19:false,createGeometry:function(renderContext){if(this.geometryCreated){return true;}this.geometryCreated=true;wwtlib.ToastTile.callBaseMethod(this, 'createGeometry',[renderContext]);if(!this.$19){if(this.$10==null){this.$16();}if(wwtlib.Tile.uvMultiple===256){if(!this.dataset.get_dataSetType()||this.dataset.get_dataSetType()===1){this.$18=Math.min(5,Math.max(0,5-this.level));}else{this.$18=Math.min(5,Math.max(0,5-this.level));}}else{if(this.demTile&&this.level>1){this.demArray=new Array(17*17);this.demSize=17*17;if(this.backslash){if(wwtlib.ToastTile.$1D==null){this.$21=new Array(this.demSize);this.$20=new Array(this.demSize);}}else{if(wwtlib.ToastTile.$1B==null){this.$1F=new Array(this.demSize);this.$1E=new Array(this.demSize);}}}}for(var $0=0;$0<4;$0++){var $1=this.$18;while($1-->1){var $2=[];var $enum1=ss.IEnumerator.getEnumerator(this.$11[$0]);while($enum1.moveNext()){var $3=$enum1.current;$3.$1($2,this.$10);}this.$11[$0]=$2;}}if(renderContext.gl==null){for(var $4=0;$4<4;$4++){this.$0[$4]=[];var $enum2=ss.IEnumerator.getEnumerator(this.$11[$4]);while($enum2.moveNext()){var $5=$enum2.current;var $6=this.$10[$5.c];var $7=this.$10[$5.b];var $8=this.$10[$5.a];this.$0[$4].add(wwtlib.RenderTriangle.create($6,$7,$8,this.texture,this.level));}}}else{this.$2=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34962,this.$2);var $9=new Float32Array(this.$10.length*5);var $A=$9;var $B=0;var $enum3=ss.IEnumerator.getEnumerator(this.$10);while($enum3.moveNext()){var $C=$enum3.current;if(this.demTile){$B=this.addVertex($A,$B,this.$22($C));this.demIndex++;}else{$B=this.addVertex($A,$B,$C);}}if(this.demTile){if(this.backslash){if(this.$20!=null){wwtlib.ToastTile.$1C=this.$20;wwtlib.ToastTile.$1D=this.$21;this.$20=null;this.$21=null;}}else{if(this.$1F!=null){wwtlib.ToastTile.$1A=this.$1E;wwtlib.ToastTile.$1B=this.$1F;this.$1F=null;this.$1E=null;}}}wwtlib.Tile.prepDevice.bufferData(34962,$9,35044);for(var $D=0;$D<4;$D++){this.triangleCount=this.$11[$D].length;if(this.getIndexBuffer($D,0)==null){var $E=new Uint16Array(this.triangleCount*3);var $F=$E;$B=0;var $enum4=ss.IEnumerator.getEnumerator(this.$11[$D]);while($enum4.moveNext()){var $10=$enum4.current;$F[$B++]=$10.c;$F[$B++]=$10.b;$F[$B++]=$10.a;}this.$12($F,$D);}}}this.$19=true;}return true;},$1E:null,$1F:null,$20:null,$21:null,$22:function($p0){var $0=new wwtlib.PositionTexture();var $1=wwtlib.Coordinates.cartesianToSpherical2($p0.position);if($1.get_lng()<-180){$1.set_lng($1.get_lng()+360);}if($1.get_lng()>180){$1.set_lng($1.get_lng()-360);}if(this.level>1){var $3=parseInt(($p0.tu*16+0.5));var $4=parseInt(($p0.tv*16+0.5));this.demArray[$3+$4*17]=this.demData[this.demIndex];if(this.backslash){if(this.$21!=null){this.$20[this.demIndex]=$3;this.$21[this.demIndex]=$4;}}else{if(this.$1F!=null){this.$1E[this.demIndex]=$3;this.$1F[this.demIndex]=$4;}}}var $2=this.geoTo3dWithAlt($1.get_lat(),$1.get_lng(),false,false);$0.tu=$p0.tu;$0.tv=$p0.tv;$2.subtract(this.localCenter);$0.position=$2;return $0;},cleanUp:function(removeFromParent){wwtlib.ToastTile.callBaseMethod(this, 'cleanUp',[removeFromParent]);if(this.$10!=null){this.$10=null;}if(this.$11!=null){this.$11=null;}this.$19=false;this.demArray=null;},$23:function($p0,$p1){return this.demArray[(16-$p1)*17+$p0];},createDemFromParent:function(){var $0=Type.safeCast(this.parent,wwtlib.ToastTile);if($0==null){return false;}var $1=(((this.tileX%2)===1)?8:0);var $2=((!(this.tileY%2))?8:0);this.demArray=new Array(17*17);for(var $3=0;$3<17;$3+=2){var $4=true;for(var $5=0;$5<17;$5++){if($4){this.demArray[(16-$3)*17+$5]=$0.$23(($5/2)+$1,($3/2)+$2);}else{this.demArray[(16-$3)*17+$5]=(($0.$23(($5/2)+$1,($3/2)+$2)+$0.$23((($5/2)+$1)+1,($3/2)+$2))/2);}$4=!$4;}}for(var $6=1;$6<17;$6+=2){for(var $7=0;$7<17;$7++){this.demArray[(16-$6)*17+$7]=((this.$23($7,$6-1)+this.$23($7,$6+1))/2);}}this.demData=new Array(this.demSize);for(var $8=0;$8<this.demSize;$8++){if(this.backslash){this.demData[$8]=this.demArray[wwtlib.ToastTile.$1C[$8]+wwtlib.ToastTile.$1D[$8]*17];}else{this.demData[$8]=this.demArray[wwtlib.ToastTile.$1A[$8]+wwtlib.ToastTile.$1B[$8]*17];}this.demAverage+=this.demData[$8];}this.demAverage/=this.demData.length;this.demReady=true;return true;}}
wwtlib.wwtlib$2=function(){}
wwtlib.wwtlib$2.$0=function($p0,$p1,$p2){var $0=wwtlib.Vector3d.subtractVectors($p1,$p0);var $1=wwtlib.Vector3d.subtractVectors($p2,$p0);var $2=wwtlib.Vector3d.cross($1,$0).length()/$0.length();return $2;}
wwtlib.wwtlib$2.$1=function($p0,$p1,$p2,$p3,$p4){$p0.normalize();$p1.normalize();$p2.normalize();$p3.normalize();$p4.normalize();var $0=wwtlib.wwtlib$2.$0($p0,$p1,$p4);var $1=wwtlib.wwtlib$2.$0($p2,$p3,$p4);var $2=$0+$1;var $3=wwtlib.wwtlib$2.$0($p1,$p3,$p4);var $4=wwtlib.wwtlib$2.$0($p0,$p2,$p4);var $5=$3+$4;return wwtlib.Vector2d.create($4/$5,$0/$2);}
wwtlib.Tour=function(){}
wwtlib.Tour.$0=function($p0){var $0=new wwtlib.Tour();if($p0.attributes.getNamedItem('ID')!=null){$0.id=$p0.attributes.getNamedItem('ID').nodeValue;}if($p0.attributes.getNamedItem('TourUrl')!=null){$0.$3=$p0.attributes.getNamedItem('TourUrl').nodeValue;}if($p0.attributes.getNamedItem('Title')!=null){$0.title=$p0.attributes.getNamedItem('Title').nodeValue;}if($p0.attributes.getNamedItem('Description')!=null){$0.description=$p0.attributes.getNamedItem('Description').nodeValue;}if($p0.attributes.getNamedItem('Classification')!=null){switch($p0.attributes.getNamedItem('Classification').nodeValue){case 'Star':$0.classification=1;break;case 'Supernova':$0.classification=2;break;case 'BlackHole':$0.classification=4;break;case 'NeutronStar':$0.classification=8;break;case 'DoubleStar':$0.classification=16;break;case 'MultipleStars':$0.classification=32;break;case 'Asterism':$0.classification=64;break;case 'Constellation':$0.classification=128;break;case 'OpenCluster':$0.classification=256;break;case 'GlobularCluster':$0.classification=512;break;case 'NebulousCluster':$0.classification=1024;break;case 'Nebula':$0.classification=2048;break;case 'EmissionNebula':$0.classification=4096;break;case 'PlanetaryNebula':$0.classification=8192;break;case 'ReflectionNebula':$0.classification=16384;break;case 'DarkNebula':$0.classification=32768;break;case 'GiantMolecularCloud':$0.classification=65536;break;case 'SupernovaRemnant':$0.classification=131072;break;case 'InterstellarDust':$0.classification=262144;break;case 'Quasar':$0.classification=524288;break;case 'Galaxy':$0.classification=1048576;break;case 'SpiralGalaxy':$0.classification=2097152;break;case 'IrregularGalaxy':$0.classification=4194304;break;case 'EllipticalGalaxy':$0.classification=8388608;break;case 'Knot':$0.classification=16777216;break;case 'PlateDefect':$0.classification=33554432;break;case 'ClusterOfGalaxies':$0.classification=67108864;break;case 'OtherNGC':$0.classification=134217728;break;case 'Unidentified':$0.classification=268435456;break;case 'SolarSystem':$0.classification=536870912;break;case 'Unfiltered':$0.classification=1073741823;break;case 'Stellar':$0.classification=63;break;case 'StellarGroupings':$0.classification=2032;break;case 'Nebulae':$0.classification=523264;break;case 'Galactic':$0.classification=133693440;break;case 'Other':$0.classification=436207616;break;default:break;}}if($p0.attributes.getNamedItem('AuthorEmail')!=null){$0.authorEmail=$p0.attributes.getNamedItem('AuthorEmail').nodeValue;}if($p0.attributes.getNamedItem('Author')!=null){$0.author=$p0.attributes.getNamedItem('Author').nodeValue;}if($p0.attributes.getNamedItem('AuthorURL')!=null){$0.authorURL=$p0.attributes.getNamedItem('AuthorURL').nodeValue;}if($p0.attributes.getNamedItem('AuthorImageUrl')!=null){$0.authorImageUrl=$p0.attributes.getNamedItem('AuthorImageUrl').nodeValue;}if($p0.attributes.getNamedItem('AverageRating')!=null){$0.averageRating=parseFloat($p0.attributes.getNamedItem('AverageRating').nodeValue);}if($p0.attributes.getNamedItem('LengthInSecs')!=null){$0.lengthInSecs=parseFloat($p0.attributes.getNamedItem('LengthInSecs').nodeValue);}if($p0.attributes.getNamedItem('OrganizationUrl')!=null){$0.organizationUrl=$p0.attributes.getNamedItem('OrganizationUrl').nodeValue;}if($p0.attributes.getNamedItem('OrganizationName')!=null){$0.organizationName=$p0.attributes.getNamedItem('OrganizationName').nodeValue;}if($p0.attributes.getNamedItem('RelatedTours')!=null){$0.relatedTours=$p0.attributes.getNamedItem('RelatedTours').nodeValue;}if($p0.attributes.getNamedItem('Keywords')!=null){$0.keywords=$p0.attributes.getNamedItem('Keywords').nodeValue;}return $0;}
wwtlib.Tour.prototype={userLevel:0,title:null,taxonomy:null,organizationName:null,organizationUrl:null,id:null,description:null,classification:0,authorEmail:null,author:null,tourDuration:null,authorURL:null,averageRating:0,lengthInSecs:0,tourAttributionAndCredits:null,authorImageUrl:null,keywords:null,relatedTours:null,get_name:function(){return this.title;},$1:null,get_thumbnail:function(){return this.$1;},set_thumbnail:function(value){this.$1=value;return value;},$2:'',get_thumbnailUrl:function(){if(!String.isNullOrEmpty(this.$2)){return this.$2;}else{return String.format('http://cdn.worldwidetelescope.org/wwtweb/GetTourThumbnail.aspx?GUID={0}',this.id);}},set_thumbnailUrl:function(value){this.$2=value;return value;},$3:null,get_tourUrl:function(){if(String.isNullOrEmpty(this.$3)){return String.format('http://cdn.worldwidetelescope.org/wwtweb/GetTour.aspx?GUID={0}',this.id);}else{return this.$3;}},set_tourUrl:function(value){this.$3=value;return value;},$4:null,get_bounds:function(){return this.$4;},set_bounds:function(value){this.$4=value;return value;},get_isImage:function(){return false;},get_isTour:function(){return true;},get_isFolder:function(){return false;},get_isCloudCommunityItem:function(){return false;},get_readOnly:function(){return false;},get_children:function(){return [];}}
wwtlib.SettingParameter=function(edgeTrigger,opacity,targetState,filter){this.edgeTrigger=edgeTrigger;this.opacity=opacity;this.targetState=targetState;this.filter=filter;}
wwtlib.SettingParameter.prototype={targetState:false,edgeTrigger:false,opacity:0,filter:null}
wwtlib.Overlay=function(){this.id=(wwtlib.Overlay.nextId++).toString();this.$9=new wwtlib.Color();this.$10=wwtlib.Colors.get_white();this.$14=5;}
wwtlib.Overlay.$15=function($p0,$p1){if($p1.attributes==null){return null;}if($p1.attributes.getNamedItem('Type')==null){return null;}var $0=$p1.attributes.getNamedItem('Type').nodeValue;var $1=$0.replaceAll('TerraViewer.','');var $2=null;switch($1){case 'AudioOverlay':$2=new wwtlib.AudioOverlay();break;case 'BitmapOverlay':$2=new wwtlib.BitmapOverlay();break;case 'FlipBookOverlay':$2=new wwtlib.FlipbookOverlay();break;case 'ShapeOverlay':$2=new wwtlib.ShapeOverlay();break;case 'TextOverlay':$2=new wwtlib.TextOverlay();break;default:return null;}$2.$1=$p0;$2.$16($p1);return $2;}
wwtlib.Overlay.prototype={isDesignTimeOnly:false,$0:null,get_name:function(){return this.$0;},set_name:function(value){this.$0=value;return value;},$1:null,get_owner:function(){return this.$1;},set_owner:function(value){this.$1=value;return value;},$2:'',get_url:function(){return this.$2;},set_url:function(value){this.$2=value;return value;},$3:'',get_linkID:function(){return this.$3;},set_linkID:function(value){this.$3=value;return value;},play:function(){},pause:function(){},stop:function(){},seek:function(time){},draw3D:function(renderContext,designTime){},cleanUp:function(){if(this.texture!=null){this.texture=null;}},initializeTexture:function(){},cleanUpGeometry:function(){this.currentRotation=0;},initiaizeGeometry:function(){},updateRotation:function(){},$4:false,get_animate:function(){return this.$4;},set_animate:function(value){if(this.$4!==value){this.$4=value;if(this.$4){this.$6=this.x;this.$7=this.y;this.$C=this.$12;this.$9=this.$10;this.$A=this.$E;this.$B=this.$F;this.cleanUpGeometry();}else{this.$6=this.x=this.get_x();this.$7=this.y=this.get_y();this.$C=this.$12=this.get_rotationAngle();this.$9=this.$10=this.get_color();this.$A=this.$E=this.get_width();this.$B=this.$F=this.get_height();this.cleanUpGeometry();this.$5=0;}}return value;},$5:0,get_tweenFactor:function(){return this.$5;},set_tweenFactor:function(value){if(!this.$4){this.$5=0;}else{if(this.$5!==value){this.$5=value;this.cleanUpGeometry();}}return value;},$6:0,$7:0,$8:0,$A:0,$B:0,$C:0,$D:0,get_anchor:function(){return this.$D;},set_anchor:function(value){this.$D=value;return value;},get_position:function(){return wwtlib.Vector2d.create(this.get_x(),this.get_y());},set_position:function(value){this.set_x(value.x);this.set_y(value.y);return value;},x:0,get_x:function(){return (this.x*(1-this.$5))+(this.$6*this.$5);},set_x:function(value){if(this.$5<0.5){if(this.x!==value){this.x=value;this.cleanUpGeometry();}}else{if(this.$6!==value){this.$6=value;this.cleanUpGeometry();}}return value;},y:0,get_y:function(){return (this.y*(1-this.$5))+(this.$7*this.$5);},set_y:function(value){if(this.$5<0.5){if(this.y!==value){this.y=value;this.cleanUpGeometry();}}else{if(this.$7!==value){this.$7=value;this.cleanUpGeometry();}}return value;},$E:0,get_width:function(){return (this.$E*(1-this.$5))+(this.$A*this.$5);},set_width:function(value){if(value<5&&!!value){value=5;}if(this.$5<0.5){if(this.$E!==value){this.$E=value;this.cleanUpGeometry();}}else{if(this.$A!==value){this.$A=value;this.cleanUpGeometry();}}return value;},$F:0,get_height:function(){return (this.$F*(1-this.$5))+(this.$B*this.$5);},set_height:function(value){if(value<5&&!!value){value=5;}if(this.$5<0.5){if(this.$F!==value){this.$F=value;this.cleanUpGeometry();}}else{if(this.$B!==value){this.$B=value;this.cleanUpGeometry();}}return value;},get_color:function(){var $0=parseInt(((this.$10.r*(1-this.$5))+(this.$9.r*this.$5)));var $1=parseInt(((this.$10.g*(1-this.$5))+(this.$9.g*this.$5)));var $2=parseInt(((this.$10.b*(1-this.$5))+(this.$9.b*this.$5)));var $3=parseInt(((this.$10.a*(1-this.$5))+(this.$9.a*this.$5)));return wwtlib.Color.fromArgb(Math.max(0,Math.min(255,$3)),Math.max(0,Math.min(255,$0)),Math.max(0,Math.min(255,$1)),Math.max(0,Math.min(255,$2)));},set_color:function(value){if(this.$5<0.5){if(this.$10!==value){this.$10=value;this.cleanUpGeometry();}}else{if(this.$9!==value){this.$9=value;this.cleanUpGeometry();}}return value;},$11:0.5,get_opacity:function(){return this.get_color().a/255;},set_opacity:function(value){var $0=this.get_color();this.set_color(wwtlib.Color.fromArgb(Math.min(255,parseInt((value*255))),$0.r,$0.g,$0.b));this.$11=value;return value;},$12:0,currentRotation:0,get_rotationAngle:function(){return (this.$12*(1-this.$5))+(this.$C*this.$5);},set_rotationAngle:function(value){if(this.$5<0.5){if(this.$12!==value){this.$12=value;this.cleanUpGeometry();}}else{if(this.$C!==value){this.$C=value;this.cleanUpGeometry();}}return value;},texture:null,hitTest:function(pntTest){return false;},$13:null,get_bounds:function(){return this.$13;},set_bounds:function(value){this.$13=value;return value;},get_interpolationType:function(){return this.$14;},set_interpolationType:function(value){this.$14=value;return value;},$16:function($p0){this.id=$p0.attributes.getNamedItem('Id').nodeValue;this.set_name($p0.attributes.getNamedItem('Name').nodeValue);this.x=parseFloat($p0.attributes.getNamedItem('X').nodeValue);this.y=parseFloat($p0.attributes.getNamedItem('Y').nodeValue);this.$E=parseFloat($p0.attributes.getNamedItem('Width').nodeValue);this.$F=parseFloat($p0.attributes.getNamedItem('Height').nodeValue);this.$12=parseFloat($p0.attributes.getNamedItem('Rotation').nodeValue);this.$10=wwtlib.Color.load($p0.attributes.getNamedItem('Color').nodeValue);if($p0.attributes.getNamedItem('Url')!=null){this.set_url($p0.attributes.getNamedItem('Url').nodeValue);}if($p0.attributes.getNamedItem('LinkID')!=null){this.set_linkID($p0.attributes.getNamedItem('LinkID').nodeValue);}if($p0.attributes.getNamedItem('Animate')!=null){this.$4=Boolean.parse($p0.attributes.getNamedItem('Animate').nodeValue);if(this.$4){this.$6=parseFloat($p0.attributes.getNamedItem('EndX').nodeValue);this.$7=parseFloat($p0.attributes.getNamedItem('EndY').nodeValue);this.$9=wwtlib.Color.load($p0.attributes.getNamedItem('EndColor').nodeValue);this.$A=parseFloat($p0.attributes.getNamedItem('EndWidth').nodeValue);this.$B=parseFloat($p0.attributes.getNamedItem('EndHeight').nodeValue);this.$C=parseFloat($p0.attributes.getNamedItem('EndRotation').nodeValue);if($p0.attributes.getNamedItem('InterpolationType')!=null){switch($p0.attributes.getNamedItem('InterpolationType').nodeValue){case 'Linear':this.set_interpolationType(0);break;case 'EaseIn':this.set_interpolationType(1);break;case 'EaseOut':this.set_interpolationType(2);break;case 'EaseInOut':this.set_interpolationType(3);break;case 'Exponential':this.set_interpolationType(4);break;case 'Default':this.set_interpolationType(5);break;default:break;}}}}this.initializeFromXml($p0);},initializeFromXml:function(node){},toString:function(){return this.get_name();}}
wwtlib.BitmapOverlay=function(){wwtlib.BitmapOverlay.initializeBase(this);}
wwtlib.BitmapOverlay.create=function(renderContext,owner,image){var $0=new wwtlib.BitmapOverlay();$0.set_owner(owner);$0.$17=(wwtlib.Overlay.nextId++).toString()+'.png';$0.set_name(owner.getNextDefaultName('Image'));$0.set_x(0);$0.set_y(0);return $0;}
wwtlib.BitmapOverlay.prototype={$17:null,copy:function(owner){var $0=new wwtlib.BitmapOverlay();$0.set_owner(owner);$0.$17=this.$17;$0.set_x(this.get_x());$0.set_y(this.get_y());$0.set_width(this.get_width());$0.set_height(this.get_height());$0.set_color(this.get_color());$0.set_opacity(this.get_opacity());$0.set_rotationAngle(this.get_rotationAngle());$0.set_name(this.get_name()+' - Copy');return $0;},cleanUp:function(){this.texture=null;},$18:false,initializeTexture:function(){try{this.texture=this.get_owner().get_owner().getCachedTexture(this.$17,ss.Delegate.create(this,function(){
this.$18=true;}));if(!this.get_width()&&!this.get_height()){}}catch($0){}},$19:null,draw3D:function(renderContext,designTime){if(this.texture==null){this.initializeTexture();}if(!this.$18){return;}var $0=renderContext.device;$0.save();$0.translate(this.get_x(),this.get_y());$0.rotate(this.get_rotationAngle()*wwtlib.Overlay.RC);$0.globalAlpha=this.get_opacity();$0.drawImage(this.texture,-this.get_width()/2,-this.get_height()/2,this.get_width(),this.get_height());$0.restore();},initializeFromXml:function(node){var $0=wwtlib._Util.$6(node,'Bitmap');this.$17=$0.attributes.getNamedItem('Filename').nodeValue;}}
wwtlib.TextOverlay=function(){wwtlib.TextOverlay.initializeBase(this);}
wwtlib.TextOverlay.prototype={textObject:null,get_color:function(){return wwtlib.TextOverlay.callBaseMethod(this, 'get_color');},set_color:function(value){if(this.textObject.forgroundColor!==value){this.textObject.forgroundColor=value;wwtlib.TextOverlay.callBaseMethod(this, 'set_color',[value]);this.cleanUp();}return value;},draw3D:function(renderContext,designTime){var $0=renderContext.device;$0.save();$0.translate(this.get_x(),this.get_y());$0.rotate(this.get_rotationAngle()*wwtlib.Overlay.RC);$0.globalAlpha=this.get_opacity();$0.fillStyle=this.textObject.forgroundColor.toString();$0.font=((this.textObject.italic)?'italic':'normal')+' '+((this.textObject.bold)?'bold':'normal')+' '+Math.round(this.textObject.fontSize*1.2).toString()+'px '+this.textObject.fontName;$0.textBaseline='top';var $1=this.textObject.text;if($1.indexOf('{$')>-1){if($1.indexOf('{$DATE}')>-1){var $5=wwtlib.SpaceTimeController.get_now().format('yyyy/MM/dd');$1=$1.replaceAll('{$DATE}',$5);}if($1.indexOf('{$TIME}')>-1){var $6=wwtlib.SpaceTimeController.get_now().format('HH:mm:ss');$1=$1.replaceAll('{$TIME}',$6);}$1=$1.replaceAll('{$LAT}',wwtlib.Coordinates.formatDMS(wwtlib.WWTControl.singleton.renderContext.viewCamera.lat));$1=$1.replaceAll('{$LNG}',wwtlib.Coordinates.formatDMS(wwtlib.WWTControl.singleton.renderContext.viewCamera.lat));$1=$1.replaceAll('{$RA}',wwtlib.Coordinates.formatDMS(wwtlib.WWTControl.singleton.renderContext.viewCamera.get_RA()));$1=$1.replaceAll('{$DEC}',wwtlib.Coordinates.formatDMS(wwtlib.WWTControl.singleton.renderContext.viewCamera.get_dec()));$1=$1.replaceAll('{$FOV}',wwtlib.Coordinates.formatDMS(wwtlib.WWTControl.singleton.renderContext.get_fovAngle()));}var $2=$1.split('\n');var $3=-(this.get_height()/2);var $4=this.textObject.fontSize*1.7;var $enum1=ss.IEnumerator.getEnumerator($2);while($enum1.moveNext()){var $7=$enum1.current;var $8=wwtlib._Util.$8($0,$7,this.get_width());var $enum2=ss.IEnumerator.getEnumerator($8);while($enum2.moveNext()){var $9=$enum2.current;$0.fillText($9,-this.get_width()/2,$3);$3+=$4;}}$0.restore();},initializeTexture:function(){},initializeFromXml:function(node){var $0=wwtlib._Util.$6(node,'Text');this.textObject=wwtlib.TextObject.$0(wwtlib._Util.$6($0,'TextObject'));},initiaizeGeometry:function(){}}
wwtlib.ShapeOverlay=function(){this.$17=1;wwtlib.ShapeOverlay.initializeBase(this);}
wwtlib.ShapeOverlay.prototype={get_shapeType:function(){return this.$17;},set_shapeType:function(value){this.$17=value;this.cleanUpGeometry();return value;},draw3D:function(renderContext,designTime){switch(this.$17){case 0:this.$1E(renderContext);break;case 1:this.$1A(renderContext);break;case 6:this.$19(renderContext);break;case 2:this.$1B(renderContext);break;case 3:this.$1D(renderContext);break;case 4:this.$1C(renderContext);break;case 5:this.$18(renderContext);break;default:break;}},initiaizeGeometry:function(){},$18:function($p0){var $0=$p0.device;$0.save();var $1=this.get_width()/2;$0.translate(this.get_x(),this.get_y());$0.rotate(this.get_rotationAngle()*wwtlib.Overlay.RC);$0.moveTo(-$1,0);$0.lineTo($1,0);$0.lineWidth=9;$0.strokeStyle=this.get_color().toString();$0.globalAlpha=this.get_opacity();$0.stroke();$0.restore();},$19:function($p0){var $0=$p0.device;$0.save();$0.translate(this.get_x(),this.get_y());$0.rotate(this.get_rotationAngle()*wwtlib.Overlay.RC);$0.beginPath();$0.moveTo(-this.get_width()/2,-this.get_height()/2);$0.lineTo(this.get_width()/2,-this.get_height()/2);$0.lineTo(this.get_width()/2,this.get_height()/2);$0.lineTo(-this.get_width()/2,this.get_height()/2);$0.closePath();$0.lineWidth=9;$0.strokeStyle=this.get_color().toString();$0.globalAlpha=this.get_opacity();$0.stroke();$0.restore();},$1A:function($p0){var $0=$p0.device;$0.save();$0.translate(this.get_x(),this.get_y());$0.rotate(this.get_rotationAngle()*wwtlib.Overlay.RC);$0.beginPath();$0.moveTo(-this.get_width()/2,-this.get_height()/2);$0.lineTo(this.get_width()/2,-this.get_height()/2);$0.lineTo(this.get_width()/2,this.get_height()/2);$0.lineTo(-this.get_width()/2,this.get_height()/2);$0.closePath();$0.lineWidth=0;$0.fillStyle=this.get_color().toString();$0.globalAlpha=this.get_opacity();$0.fill();$0.restore();},$1B:function($p0){var $0=$p0.device;$0.save();$0.translate(this.get_x(),this.get_y());$0.rotate(this.get_rotationAngle()*wwtlib.Overlay.RC);$0.beginPath();var $1=0;var $2=0;var $3=this.get_width()/2;var $4=(Math.PI*2)/5;var $5=true;for(var $6=0;$6<5;$6++){var $7=$6*$4-(Math.PI/2);if($5){$5=false;$0.moveTo($1+Math.cos($7)*(this.get_width()/2),$2+Math.sin($7)*(this.get_height()/2));}else{$0.lineTo($1+Math.cos($7)*(this.get_width()/2),$2+Math.sin($7)*(this.get_height()/2));}var $8=$6*$4+($4/2)-(Math.PI/2);$0.lineTo($1+Math.cos($8)*(this.get_width()/5.3),$2+Math.sin($8)*(this.get_height()/5.3));}$0.closePath();$0.lineWidth=0;$0.fillStyle=this.get_color().toString();$0.globalAlpha=this.get_opacity();$0.fill();$0.restore();},$1C:function($p0){var $0=$p0.device;$0.save();$0.translate(this.get_x(),this.get_y());$0.rotate(this.get_rotationAngle()*wwtlib.Overlay.RC);$0.beginPath();$0.moveTo((-(this.get_width()/2)),(-(this.get_height()/4)));$0.lineTo((this.get_width()/4),(-(this.get_height()/4)));$0.lineTo((this.get_width()/4),(-(this.get_height()/2)));$0.lineTo((this.get_width()/2),0);$0.lineTo((this.get_width()/4),(this.get_height()/2));$0.lineTo((this.get_width()/4),(this.get_height()/4));$0.lineTo((-(this.get_width()/2)),(this.get_height()/4));$0.closePath();$0.lineWidth=0;$0.fillStyle=this.get_color().toString();$0.globalAlpha=this.get_opacity();$0.fill();$0.restore();},$1D:function($p0){var $0=$p0.device;$0.save();$0.translate(this.get_x(),this.get_y());$0.scale(1,this.get_height()/this.get_width());$0.rotate(this.get_rotationAngle()*wwtlib.Overlay.RC);$0.beginPath();$0.arc(0,0,this.get_width()/2,0,Math.PI*2,false);$0.closePath();$0.lineWidth=9;$0.strokeStyle=this.get_color().toString();$0.globalAlpha=this.get_opacity();$0.stroke();$0.restore();},$1E:function($p0){var $0=$p0.device;$0.save();$0.scale(1,this.get_width()/this.get_height());$0.translate(this.get_x(),this.get_y());$0.rotate(this.get_rotationAngle()*wwtlib.Overlay.RC);$0.beginPath();$0.arc(0,0,this.get_width(),0,Math.PI*2,false);$0.closePath();$0.lineWidth=0;$0.fillStyle=this.get_color().toString();$0.globalAlpha=this.get_opacity();$0.fill();$0.restore();},initializeTexture:function(){},cleanUpGeometry:function(){wwtlib.ShapeOverlay.callBaseMethod(this, 'cleanUpGeometry');this.cleanUp();},initializeFromXml:function(node){var $0=wwtlib._Util.$6(node,'Shape');switch($0.attributes.getNamedItem('ShapeType').nodeValue){case 'Circle':this.$17=0;break;case 'Rectagle':this.$17=1;break;case 'Star':this.$17=2;break;case 'Donut':this.$17=3;break;case 'Arrow':this.$17=4;break;case 'Line':this.$17=5;break;case 'OpenRectagle':default:this.$17=6;break;}}}
wwtlib.AudioOverlay=function(){this.$1E=0;wwtlib.AudioOverlay.initializeBase(this);this.isDesignTimeOnly=true;}
wwtlib.AudioOverlay.prototype={$17:null,$18:null,$19:100,$1A:false,get_mute:function(){return this.$1A;},set_mute:function(value){this.$1A=value;this.set_volume(this.get_volume());return value;},get_volume:function(){return this.$19;},set_volume:function(value){this.$19=value;if(this.$18!=null){this.$18.volume=(this.$1A)?0:(this.$19/100);}return value;},play:function(){if(this.$18==null){this.initializeTexture();}if(this.$18!=null&&this.$1C){this.$18.play();this.set_volume(this.get_volume());}},pause:function(){if(this.$18==null){this.initializeTexture();}if(this.$18!=null&&this.$1C){this.$18.pause();}},stop:function(){if(this.$18==null){this.initializeTexture();}if(this.$18!=null&&this.$1C){this.$18.pause();}},$1B:0,seek:function(time){this.$1B=time;if(this.$18==null){this.initializeTexture();}if(this.$1C){if(this.$18.duration<time){this.$18.pause();}else{this.$18.currentTime=this.$1B;}}},$1C:false,initializeTexture:function(){if(this.$18==null){this.$18=document.createElement('audio');this.$18.src=this.get_owner().get_owner().getFileStream(this.$17);this.$18.addEventListener('canplaythrough',ss.Delegate.create(this,function(){
this.$1C=true;this.$1D();this.$18.play();}),false);}},cleanUp:function(){wwtlib.AudioOverlay.callBaseMethod(this, 'cleanUp');if(this.$18!=null){this.$18.pause();this.$18.src=null;this.$18=null;}},$1D:function(){this.$18.currentTime=this.$1B;this.$18.volume=(this.$1A)?0:(this.$19/100);},get_trackType:function(){return this.$1E;},set_trackType:function(value){this.$1E=value;return value;},initializeFromXml:function(node){var $0=wwtlib._Util.$6(node,'Audio');this.$17=$0.attributes.getNamedItem('Filename').nodeValue;if($0.attributes.getNamedItem('Volume')!=null){this.$19=parseInt($0.attributes.getNamedItem('Volume').nodeValue);}if($0.attributes.getNamedItem('Mute')!=null){this.$1A=Boolean.parse($0.attributes.getNamedItem('Mute').nodeValue);}if($0.attributes.getNamedItem('TrackType')!=null){switch($0.attributes.getNamedItem('TrackType').nodeValue){case 'Music':this.$1E=0;break;case 'Voice':default:this.$1E=1;break;}}}}
wwtlib.FlipbookOverlay=function(){this.$18=1;this.$1A=[];this.$23=Date.get_now();wwtlib.FlipbookOverlay.initializeBase(this);}
wwtlib.FlipbookOverlay.prototype={$17:null,get_loopType:function(){return this.$18;},set_loopType:function(value){this.$18=value;return value;},$19:0,get_startFrame:function(){return this.$19;},set_startFrame:function(value){this.$19=value;return value;},$1B:null,get_frameSequence:function(){return this.$1B;},set_frameSequence:function(value){if(this.$1B!==value){this.$1B=value;this.$1A=[];if(!String.isNullOrEmpty(this.$1B)){try{var $0=this.$1B.split(',');var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;var $2=parseInt($1.trim());this.$1A.add($2);}}catch($3){}}}return value;},$1C:1,get_frames:function(){return this.$1C;},set_frames:function(value){this.$1C=value;return value;},$1D:8,get_framesX:function(){return this.$1D;},set_framesX:function(value){this.$1D=value;return value;},$1E:8,get_framesY:function(){return this.$1E;},set_framesY:function(value){this.$1E=value;return value;},copy:function(owner){var $0=new wwtlib.FlipbookOverlay();$0.set_owner(owner);$0.$17=this.$17;$0.set_x(this.get_x());$0.set_y(this.get_y());$0.set_width(this.get_width());$0.set_height(this.get_height());$0.set_color(this.get_color());$0.set_opacity(this.get_opacity());$0.set_rotationAngle(this.get_rotationAngle());$0.set_name(this.get_name()+' - Copy');$0.set_startFrame(this.get_startFrame());$0.set_frames(this.get_frames());$0.set_loopType(this.get_loopType());$0.set_frameSequence(this.get_frameSequence());$0.set_framesX(this.get_framesX());$0.set_framesY(this.get_framesY());return $0;},cleanUp:function(){this.texture=null;},$1F:false,initializeTexture:function(){try{var $0=this.$17.toLowerCase().endsWith('.jpg');this.texture=this.get_owner().get_owner().getCachedTexture(this.$17,ss.Delegate.create(this,function(){
this.$1F=true;}));}catch($1){}},initializeFromXml:function(node){var $0=wwtlib._Util.$6(node,'Flipbook');this.$17=$0.attributes.getNamedItem('Filename').nodeValue;this.$1C=parseInt($0.attributes.getNamedItem('Frames').nodeValue);switch($0.attributes.getNamedItem('Loop').nodeValue){case 'Loop':this.$18=0;break;case 'UpDown':this.$18=1;break;case 'Down':this.$18=2;break;case 'UpDownOnce':this.$18=3;break;case 'Once':this.$18=4;break;case 'Begin':this.$18=5;break;case 'End':this.$18=6;break;default:break;}if($0.attributes.getNamedItem('FramesX')!=null){this.set_framesX(parseInt($0.attributes.getNamedItem('FramesX').nodeValue));}if($0.attributes.getNamedItem('FramesY')!=null){this.set_framesY(parseInt($0.attributes.getNamedItem('FramesY').nodeValue));}if($0.attributes.getNamedItem('StartFrame')!=null){this.set_startFrame(parseInt($0.attributes.getNamedItem('StartFrame').nodeValue));}if($0.attributes.getNamedItem('FrameSequence')!=null){this.set_frameSequence($0.attributes.getNamedItem('FrameSequence').nodeValue);}},$20:0,$21:256,$22:256,$24:true,play:function(){this.$24=true;this.$23=Date.get_now();},pause:function(){this.$24=false;},stop:function(){this.$24=false;this.$20=0;},initiaizeGeometry:function(){var $0=this.$1C;if(!String.isNullOrEmpty(this.$1B)){$0=this.$1A.length;}if(this.$24){var $1=Date.get_now()-this.$23;switch(this.$18){case 0:this.$20=parseInt((($1/1000*24)%$0))+this.$19;break;case 1:this.$20=Math.abs(parseInt((($1/1000*24+$0)%($0*2-1)))-($0-1))+this.$19;if(this.$20<0||this.$20>$0-1){var $3=0;}break;case 2:this.$20=Math.max(0,$0-parseInt((($1/1000*24)%$0)))+this.$19;break;case 3:var $2=Math.min($1/1000*24,$0*2+1)+$0;this.$20=Math.abs(($2%($0*2-1))-($0-1))+this.$19;break;case 4:this.$20=Math.min($0-1,parseInt(($1/1000*24)));break;case 5:this.$20=this.$19;break;case 6:this.$20=($0-1)+this.$19;break;default:this.$20=this.$19;break;}}if(!String.isNullOrEmpty(this.$1B)){if(this.$20<this.$1A.length&&this.$20>-1){this.$20=this.$1A[this.$20];}else{this.$20=0;}}this.currentRotation=0;}}
wwtlib.TextObject=function(){}
wwtlib.TextObject.create=function(text,bold,italic,underline,fontSize,fontName,forgroundColor,backgroundColor,borderStyle){var $0=new wwtlib.TextObject();$0.text=text;$0.bold=bold;$0.italic=italic;$0.underline=underline;$0.fontSize=fontSize;$0.fontName=fontName;$0.forgroundColor=forgroundColor;$0.backgroundColor=backgroundColor;$0.borderStyle=borderStyle;return $0;}
wwtlib.TextObject.$0=function($p0){var $0=new wwtlib.TextObject();$0.text=wwtlib._Util.$7($p0);$0.borderStyle=0;$0.bold=Boolean.parse($p0.attributes.getNamedItem('Bold').nodeValue);$0.italic=Boolean.parse($p0.attributes.getNamedItem('Italic').nodeValue);$0.underline=Boolean.parse($p0.attributes.getNamedItem('Underline').nodeValue);$0.fontSize=parseFloat($p0.attributes.getNamedItem('FontSize').nodeValue);$0.fontName=$p0.attributes.getNamedItem('FontName').nodeValue;$0.forgroundColor=wwtlib.Color.load($p0.attributes.getNamedItem('ForgroundColor').nodeValue);$0.backgroundColor=wwtlib.Color.load($p0.attributes.getNamedItem('BackgroundColor').nodeValue);if($p0.attributes.getNamedItem('BorderStyle')!=null){switch($p0.attributes.getNamedItem('BorderStyle').nodeValue){case 'None':$0.borderStyle=0;break;case 'Tight':$0.borderStyle=1;break;case 'Small':$0.borderStyle=2;break;case 'Medium':$0.borderStyle=3;break;case 'Large':$0.borderStyle=4;break;default:break;}}return $0;}
wwtlib.TextObject.prototype={text:null,bold:false,italic:false,underline:false,fontSize:0,fontName:null,forgroundColor:null,backgroundColor:null,borderStyle:0,toString:function(){return this.text;}}
wwtlib.TourDocument=function(){this.explicitTourLinks=[];this.implicitTourLinks=[];this.$1E=[];this.$1F=-1;this.id=wwtlib.Guid.newGuid().toString();}
wwtlib.TourDocument.get_baseWorkingDirectory=function(){return '';}
wwtlib.TourDocument.fromUrl=function(url,callMe){var $0=new wwtlib.TourDocument();$0.url=url;$0.$3=callMe;$0.$2=new wwtlib.WebFile(wwtlib._Util.$5(url,'master'));$0.$2.onStateChange=ss.Delegate.create($0,$0.$4);$0.$2.send();return $0;}
wwtlib.TourDocument.prototype={$0:0,get_tourDirty:function(){return this.$0>0;},set_tourDirty:function(value){if(value){this.$0++;}else{this.$0=0;}return value;},$1:'',get_workingDirectory:function(){if(String.isNullOrEmpty(this.$1)){this.$1=wwtlib.TourDocument.get_baseWorkingDirectory()+this.id+'\\';}return this.$1;},set_workingDirectory:function(value){this.$1=value;return value;},url:'',$2:null,$3:null,$4:function(){if(this.$2.get_state()===2){alert(this.$2.get_message());}else if(this.$2.get_state()===1){this.fromXml(this.$2.getXml());this.$3();}},fromXml:function(doc){var $0=wwtlib._Util.$6(doc,'Tour');this.id=$0.attributes.getNamedItem('ID').nodeValue;this.set_title($0.attributes.getNamedItem('Title').nodeValue);this.set_author($0.attributes.getNamedItem('Author').nodeValue);if($0.attributes.getNamedItem('Descirption')!=null){this.set_description($0.attributes.getNamedItem('Descirption').nodeValue);}if($0.attributes.getNamedItem('AuthorEmail')!=null){this.$D=$0.attributes.getNamedItem('AuthorEmail').nodeValue;}if($0.attributes.getNamedItem('Keywords')!=null){this.set_keywords($0.attributes.getNamedItem('Keywords').nodeValue);}if($0.attributes.getNamedItem('OrganizationName')!=null){this.set_orgName($0.attributes.getNamedItem('OrganizationName').nodeValue);}this.$16=$0.attributes.getNamedItem('OrganizationUrl').nodeValue;switch($0.attributes.getNamedItem('UserLevel').nodeValue){case 'Beginner':this.$18=0;break;case 'Intermediate':this.$18=1;break;case 'Advanced':this.$18=2;break;case 'Educator':this.$18=3;break;case 'Professional':this.$18=4;break;default:break;}switch($0.attributes.getNamedItem('Classification').nodeValue){case 'Star':this.$19=1;break;case 'Supernova':this.$19=2;break;case 'BlackHole':this.$19=4;break;case 'NeutronStar':this.$19=8;break;case 'DoubleStar':this.$19=16;break;case 'MultipleStars':this.$19=32;break;case 'Asterism':this.$19=64;break;case 'Constellation':this.$19=128;break;case 'OpenCluster':this.$19=256;break;case 'GlobularCluster':this.$19=512;break;case 'NebulousCluster':this.$19=1024;break;case 'Nebula':this.$19=2048;break;case 'EmissionNebula':this.$19=4096;break;case 'PlanetaryNebula':this.$19=8192;break;case 'ReflectionNebula':this.$19=16384;break;case 'DarkNebula':this.$19=32768;break;case 'GiantMolecularCloud':this.$19=65536;break;case 'SupernovaRemnant':this.$19=131072;break;case 'InterstellarDust':this.$19=262144;break;case 'Quasar':this.$19=524288;break;case 'Galaxy':this.$19=1048576;break;case 'SpiralGalaxy':this.$19=2097152;break;case 'IrregularGalaxy':this.$19=4194304;break;case 'EllipticalGalaxy':this.$19=8388608;break;case 'Knot':this.$19=16777216;break;case 'PlateDefect':this.$19=33554432;break;case 'ClusterOfGalaxies':this.$19=67108864;break;case 'OtherNGC':this.$19=134217728;break;case 'Unidentified':this.$19=268435456;break;case 'SolarSystem':this.$19=536870912;break;case 'Unfiltered':this.$19=1073741823;break;case 'Stellar':this.$19=63;break;case 'StellarGroupings':this.$19=2032;break;case 'Nebulae':this.$19=523264;break;case 'Galactic':this.$19=133693440;break;case 'Other':this.$19=436207616;break;default:break;}this.$1A=$0.attributes.getNamedItem('Taxonomy').nodeValue;var $1=wwtlib._Util.$6($0,'TourStops');var $enum1=ss.IEnumerator.getEnumerator($1.childNodes);while($enum1.moveNext()){var $4=$enum1.current;if($4.nodeName==='TourStop'){this.addTourStop(wwtlib.TourStop.$54(this,$4));}}var $2=wwtlib._Util.$6($0,'ReferenceFrames');if($2!=null){var $enum2=ss.IEnumerator.getEnumerator($2.childNodes);while($enum2.moveNext()){var $5=$enum2.current;if($5.nodeName==='ReferenceFrame'){var $6=new wwtlib.ReferenceFrame();$6.initializeFromXml($5);if(!Object.keyExists(wwtlib.LayerManager.get_allMaps(),$6.name)){var $7=new wwtlib.LayerMap($6.name,18);$7.frame=$6;$7.loadedFromTour=true;wwtlib.LayerManager.get_allMaps()[$6.name]=$7;}}}wwtlib.LayerManager.connectAllChildren();wwtlib.LayerManager.loadTree();}var $3=wwtlib._Util.$6($0,'Layers');if($3!=null){var $enum3=ss.IEnumerator.getEnumerator($3.childNodes);while($enum3.moveNext()){var $8=$enum3.current;if($8.nodeName==='Layer'){var $9=wwtlib.Layer.$9($8,true);if($9!=null){var $A=String.format('{0}.txt',$9.id.toString());if(Object.keyExists(wwtlib.LayerManager.get_layerList(),$9.id)){wwtlib.LayerManager.deleteLayerByID($9.id,true,false);}try{$9.loadedFromTour=true;$9.loadData(this.getFileStream($A));wwtlib.LayerManager.add($9,false);}catch($B){}}}}wwtlib.LayerManager.loadTree();}this.$0=0;},$5:null,get_tagId:function(){return this.$5;},set_tagId:function(value){this.$5=value;return value;},get_authorThumbnailFilename:function(){return 'Author.Png';},$6:0,get_tourThumbnailFilename:function(){if(this.$6<this.$1E.length){return this.$1E[this.$6].get_tourStopThumbnailFilename();}else{return null;}},id:null,get_id:function(){return this.id;},set_id:function(value){this.id=value;return value;},$7:null,get_title:function(){return this.$7;},set_title:function(value){this.$7=value;this.set_tourDirty(true);return value;},$8:0,$9:0,get_runTime:function(){if(!this.$8||this.$9!==this.$0){this.$8=this.$20();this.$9=this.$0;}return this.$8;},$A:null,get_description:function(){return this.$A;},set_description:function(value){this.$A=value;this.set_tourDirty(true);return value;},$B:null,get_attributesAndCredits:function(){return this.$B;},set_attributesAndCredits:function(value){this.$B=value;this.set_tourDirty(true);return value;},$C:null,get_authorEmailOther:function(){return this.$C;},set_authorEmailOther:function(value){this.$C=value;this.set_tourDirty(true);return value;},$D:null,get_authorEmail:function(){return this.$D;},set_authorEmail:function(value){this.$D=value;this.set_tourDirty(true);return value;},$E:null,get_authorUrl:function(){return this.$E;},set_authorUrl:function(value){this.$E=value;this.set_tourDirty(true);return value;},$F:null,get_authorPhone:function(){return this.$F;},set_authorPhone:function(value){this.$F=value;this.set_tourDirty(true);return value;},$10:null,get_authorContactText:function(){return this.$10;},set_authorContactText:function(value){this.$10=value;this.set_tourDirty(true);return value;},$11:'None',get_orgName:function(){return this.$11;},set_orgName:function(value){this.$11=value;this.set_tourDirty(true);return value;},$12:null,get_orgUrl:function(){return this.$12;},set_orgUrl:function(value){this.$12=value;this.set_tourDirty(true);return value;},$13:null,get_author:function(){return this.$13;},set_author:function(value){this.$13=value;this.set_tourDirty(true);return value;},$14:null,get_authorImageUrl:function(){return this.$14;},set_authorImageUrl:function(value){this.$14=value;this.set_tourDirty(true);return value;},$15:null,get_authorImage:function(){return this.$15;},set_authorImage:function(value){this.$15=value;this.set_tourDirty(true);return value;},$16:null,get_organizationUrl:function(){return this.$16;},set_organizationUrl:function(value){this.$16=value;this.set_tourDirty(true);return value;},$17:null,get_fileName:function(){return this.$17;},set_fileName:function(value){this.$17=value;return value;},$18:0,get_level:function(){return this.$18;},set_level:function(value){this.$18=value;this.set_tourDirty(true);return value;},$19:0,get_type:function(){return this.$19;},set_type:function(value){this.$19=value;this.set_tourDirty(true);return value;},$1A:'',get_taxonomy:function(){return this.$1A;},set_taxonomy:function(value){this.$1A=value;this.set_tourDirty(true);return value;},$1B:'',get_keywords:function(){return this.$1B;},set_keywords:function(value){this.$1B=value;this.set_tourDirty(true);return value;},$1C:'',get_objects:function(){return this.$1C;},set_objects:function(value){this.$1C=value;this.set_tourDirty(true);return value;},$1D:false,get_editMode:function(){return this.$1D;},set_editMode:function(value){this.$1D=value;return value;},get_tourStops:function(){return this.$1E;},set_tourStops:function(value){this.$1E=value;return value;},get_currentTourstopIndex:function(){return this.$1F;},set_currentTourstopIndex:function(value){this.$1F=value;return value;},addTourStop:function(ts){ts.set_owner(this);this.get_tourStops().add(ts);this.$1F=this.$1E.length-1;this.set_tourDirty(true);},insertTourStop:function(ts){ts.set_owner(this);if(this.$1F>-1){this.get_tourStops().insert(this.$1F,ts);}else{this.get_tourStops().add(ts);this.$1F=this.$1E.length-1;}this.set_tourDirty(true);},insertAfterTourStop:function(ts){ts.set_owner(this);if(this.$1F>-1||this.$1F<this.get_tourStops().length){this.get_tourStops().insert(this.$1F+1,ts);}else{this.get_tourStops().add(ts);this.$1F=this.$1E.length-1;}this.set_tourDirty(true);},removeTourStop:function(ts){this.$1E.remove(ts);if(this.$1F>this.$1E.length-1){this.$1F--;}this.set_tourDirty(true);},$20:function(){var $0=0;for(var $1=0;$1<this.$1E.length;$1++){$0+=this.$1E[$1].get_duration();if($1>0){switch(this.$1E[$1].get_$5()){case 0:if(this.$1E[$1].get_target().get_backgroundImageset()==null||(this.$1E[$1-1].get_target().get_backgroundImageset().get_dataSetType()===this.$1E[$1].get_target().get_backgroundImageset().get_dataSetType()&&((this.$1E[$1-1].get_target().get_backgroundImageset().get_dataSetType()!==4)||(this.$1E[$1-1].get_target().get_target()===this.$1E[$1].get_target().get_target())))){var $2=(this.$1E[$1-1].get_endTarget()==null)?this.$1E[$1-1].get_target().get_camParams():this.$1E[$1-1].get_endTarget().get_camParams();var $3=wwtlib.wwtlib$5.$A($2,this.$1E[$1].get_target().get_camParams());$0+=$3.get_moveTime()*1000;}break;case 1:break;case 2:break;case 3:break;default:break;}}}return parseInt($0);},elapsedTimeTillTourstop:function(index){if(!index&&index>=this.$1E.length){return 0;}var $0=0;for(var $1=0;$1<index;$1++){$0+=this.$1E[$1].get_duration();if($1>0){switch(this.$1E[$1].get_$5()){case 0:var $2=(this.$1E[$1-1].get_endTarget()==null)?this.$1E[$1-1].get_target().get_camParams():this.$1E[$1-1].get_endTarget().get_camParams();if(this.$1E[$1-1].get_target().get_backgroundImageset().get_dataSetType()===this.$1E[$1].get_target().get_backgroundImageset().get_dataSetType()&&((this.$1E[$1-1].get_target().get_backgroundImageset().get_dataSetType()!==4)||(this.$1E[$1-1].get_target().get_target()===this.$1E[$1].get_target().get_target()))){var $3=wwtlib.wwtlib$5.$A($2,this.$1E[$1].get_target().get_camParams());$0+=$3.get_moveTime()*1000;}break;case 1:break;case 2:break;case 3:break;default:break;}}}return $0/1000;},elapsedTimeSinceLastMaster:function(index){var $0=null;if(!index&&index>=this.$1E.length){return null;}var $1=0;for(var $2=0;$2<index;$2++){if(this.$1E[$2].get_masterSlide()){$1=0;$0=this.$1E[$2];}$1+=this.$1E[$2].get_duration();if($2>0){switch(this.$1E[$2].get_$5()){case 0:var $3=(this.$1E[$2-1].get_endTarget()==null)?this.$1E[$2-1].get_target().get_camParams():this.$1E[$2-1].get_endTarget().get_camParams();if(this.$1E[$2-1].get_target().get_backgroundImageset().get_dataSetType()===this.$1E[$2].get_target().get_backgroundImageset().get_dataSetType()&&((this.$1E[$2-1].get_target().get_backgroundImageset().get_dataSetType()!==4)||(this.$1E[$2-1].get_target().get_target()===this.$1E[$2].get_target().get_target()))){var $4=wwtlib.wwtlib$5.$A($3,this.$1E[$2].get_target().get_camParams());$1+=$4.get_moveTime()*1000;}break;case 1:break;case 2:break;case 3:break;default:break;}}}return new wwtlib.MasterTime($0,$1/1000);},getMasterSlideForIndex:function(index){var $0=-1;for(var $1=0;$1<index;$1++){if(this.$1E[$1].get_masterSlide()){$0=$1;}}if($0===-1){return null;}return this.$1E[$0];},getTourStopIndexByID:function(id){if(!id||id==='Next'){return this.$1F++;}var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.$1E);while($enum1.moveNext()){var $1=$enum1.current;if($1.get_id()===id){return $0;}$0++;}return -1;},cleanUp:function(){var $enum1=ss.IEnumerator.getEnumerator(this.get_tourStops());while($enum1.moveNext()){var $0=$enum1.current;$0.cleanUp();}if(this.$21!=null){Object.clearKeys(this.$21);}},$21:null,getCachedTexture:function(filename,callMe){if(this.$21==null){this.$21={};}if(Object.keyExists(this.$21,filename)){callMe();return this.$21[filename];}var $0=document.createElement('img');$0.src=this.getFileStream(filename);$0.addEventListener('load',function(){
callMe();},false);this.$21[filename]=$0;return $0;},getFileStream:function(filename){return wwtlib._Util.$5(this.url,filename);},get_currentTourStop:function(){if(this.$1F>-1){return this.get_tourStops()[this.$1F];}else{return null;}},set_currentTourStop:function(value){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.get_tourStops());while($enum1.moveNext()){var $1=$enum1.current;if($1===value){if(this.$1F>-1){this.get_tourStops()[this.$1F].cleanUp();}this.$1F=$0;break;}$0++;}return value;},dontCleanUpTempFiles:false,clearTempFiles:function(){}}
wwtlib.TourPlayer=function(){this.$0=wwtlib.BlendState.create(false,1000);this.$1=wwtlib.BlendState.create(false,2000);this.$B=Date.get_now();this.$2B=[];}
wwtlib.TourPlayer.get_playing=function(){return wwtlib.TourPlayer.$24;}
wwtlib.TourPlayer.set_playing=function(value){wwtlib.TourPlayer.$24=value;return value;}
wwtlib.TourPlayer.add_tourEnded=function(value){wwtlib.TourPlayer.$29=ss.Delegate.combine(wwtlib.TourPlayer.$29,value);}
wwtlib.TourPlayer.remove_tourEnded=function(value){wwtlib.TourPlayer.$29=ss.Delegate.remove(wwtlib.TourPlayer.$29,value);}
wwtlib.TourPlayer.prototype={render:function(renderContext){if(this.$23==null||this.$23.get_currentTourStop()==null||!wwtlib.TourPlayer.$24){return;}renderContext.save();this.updateSlideStates();if(!this.$25){this.$26=Date.get_now();if(renderContext.onTarget(this.get_tour().get_currentTourStop().get_target())){this.$25=true;this.$0.set_state(!this.get_tour().get_currentTourStop().get_fadeInOverlays());this.$0.set_targetState(true);if(this.$23.get_currentTourStop().get_musicTrack()!=null){this.$23.get_currentTourStop().get_musicTrack().play();}if(this.$23.get_currentTourStop().get_voiceTrack()!=null){this.$23.get_currentTourStop().get_voiceTrack().play();}var $2='';var $enum1=ss.IEnumerator.getEnumerator(this.$23.get_currentTourStop().get_overlays());while($enum1.moveNext()){var $3=$enum1.current;if($3.get_name().toLowerCase()==='caption'){var $4=Type.safeCast($3,wwtlib.TextOverlay);if($4!=null){$2=$4.textObject.text;}}$3.play();}if(this.$23.get_currentTourStop().get_endTarget()!=null&&this.$23.get_currentTourStop().get_endTarget().get_zoomLevel()!==-1){if(this.$23.get_currentTourStop().get_target().get_type()===4){}renderContext.viewMover=new wwtlib.ViewMoverKenBurnsStyle(this.$23.get_currentTourStop().get_target().get_camParams(),this.$23.get_currentTourStop().get_endTarget().get_camParams(),this.$23.get_currentTourStop().get_duration()/1000,this.$23.get_currentTourStop().get_startTime(),this.$23.get_currentTourStop().get_endTime(),this.$23.get_currentTourStop().get_interpolationType());}wwtlib.Settings.tourSettings=this.$23.get_currentTourStop();wwtlib.SpaceTimeController.set_now(this.$23.get_currentTourStop().get_startTime());wwtlib.SpaceTimeController.set_syncToClock(false);wwtlib.WWTControl.scriptInterface.$12($2);}}if(renderContext.gl!=null){return;}renderContext.device.scale(renderContext.height/1116,renderContext.height/1116);var $0=1920/1116;var $1=renderContext.width/renderContext.height;renderContext.device.translate(-((1920-($1*1116))/2),0);if(this.$27!=null){var $enum2=ss.IEnumerator.getEnumerator(this.$27.get_overlays());while($enum2.moveNext()){var $5=$enum2.current;$5.set_tweenFactor(1);$5.draw3D(renderContext,false);}}if(this.$25){var $enum3=ss.IEnumerator.getEnumerator(this.$23.get_currentTourStop().get_overlays());while($enum3.moveNext()){var $6=$enum3.current;if($6.get_name().toLowerCase()!=='caption'||wwtlib.WWTControl.scriptInterface.get_showCaptions()){$6.set_tweenFactor(wwtlib.CameraParameters.easeCurve(this.$23.get_currentTourStop().get_tweenPosition(),($6.get_interpolationType()===5)?this.$23.get_currentTourStop().get_interpolationType():$6.get_interpolationType()));$6.draw3D(renderContext,false);}}}else{var $7=0;}renderContext.restore();this.$A(renderContext);},$2:false,$3:false,$4:false,$5:false,$6:false,$7:false,$8:1,$9:1,$A:function($p0){this.$1D();if(!this.$20){return;}if(this.$1.get_state()){var $0=Date.get_now()-this.$B;if($0>7000){this.$1.set_targetState(false);}var $1=$p0.device;$1.save();$1.globalAlpha=this.$1.get_opacity();this.$8=$p0.height-60;this.$9=$p0.width/2;var $2=(this.$6)?this.$1C:((this.$3)?this.$1A:this.$1B);var $3=(wwtlib.TourPlayer.get_playing())?((this.$5)?this.$14:((this.$2)?this.$12:this.$13)):((this.$5)?this.$18:((this.$2)?this.$16:this.$17));var $4=(this.$7)?this.$10:((this.$4)?this.$E:this.$F);$1.drawImage($2,this.$9-110,this.$8);$1.drawImage($4,this.$9,this.$8);$1.drawImage($3,this.$9-32,this.$8-4);$1.restore();}},$C:function($p0,$p1,$p2){if($p1){this.$6=false;this.$7=false;this.$5=false;}else{this.$3=false;this.$4=false;this.$2=false;}if($p0.y<(this.$8-2)){return false;}if($p0.x<(this.$9-32)&&$p0.x>(this.$9-105)){if($p1){this.$6=true;}else{this.$3=true;}if($p2){this.$2E();this.$B=Date.get_now();}return true;}if($p0.x<(this.$9+105)&&$p0.x>(this.$9+32)){if($p1){this.$7=true;}else{this.$4=true;}if($p2){this.$2D();this.$B=Date.get_now();}return true;}if($p0.x<(this.$9+32)&&$p0.x>(this.$9-32)){if($p1){this.$5=true;}else{this.$2=true;}if($p2){this.pauseTour();this.$B=Date.get_now();}return true;}return false;},$D:null,$E:null,$F:null,$10:null,$11:null,$12:null,$13:null,$14:null,$15:null,$16:null,$17:null,$18:null,$19:null,$1A:null,$1B:null,$1C:null,$1D:function(){if(!this.$20&&!this.$21){this.$D=this.$22('images/button_next_disabled.png');this.$E=this.$22('images/button_next_hover.png');this.$F=this.$22('images/button_next_normal.png');this.$10=this.$22('images/button_next_pressed.png');this.$11=this.$22('images/button_pause_disabled.png');this.$12=this.$22('images/button_pause_hover.png');this.$13=this.$22('images/button_pause_normal.png');this.$14=this.$22('images/button_pause_pressed.png');this.$15=this.$22('images/button_play_disabled.png');this.$16=this.$22('images/button_play_hover.png');this.$17=this.$22('images/button_play_normal.png');this.$18=this.$22('images/button_play_pressed.png');this.$19=this.$22('images/button_previous_disabled.png');this.$1A=this.$22('images/button_previous_hover.png');this.$1B=this.$22('images/button_previous_normal.png');this.$1C=this.$22('images/button_previous_pressed.png');}},$1E:0,$1F:0,$20:false,$21:false,$22:function($p0){this.$1E++;this.$20=false;this.$21=true;var $0=document.createElement('img');$0.src=$p0;$0.addEventListener('load',ss.Delegate.create(this,function($p1_0){
this.$1F++;if(this.$1F===this.$1E){this.$21=false;this.$20=true;}}),false);return $0;},$23:null,get_tour:function(){return this.$23;},set_tour:function(value){this.$23=value;return value;},$25:false,$26:null,$27:null,nextSlide:function(){if(this.$23.get_currentTourStop()!=null){if(!this.$23.get_currentTourStop().get_masterSlide()){if(this.$23.get_currentTourStop().get_musicTrack()!=null){this.$23.get_currentTourStop().get_musicTrack().stop();}if(this.$23.get_currentTourStop().get_voiceTrack()!=null){this.$23.get_currentTourStop().get_voiceTrack().stop();}var $enum1=ss.IEnumerator.getEnumerator(this.$23.get_currentTourStop().get_overlays());while($enum1.moveNext()){var $0=$enum1.current;$0.stop();}}else{this.$27=this.$23.get_currentTourStop();}}if(this.$23.get_currentTourstopIndex()<(this.$23.get_tourStops().length-1)){if(this.$23.get_currentTourStop().get_endTarget()!=null){wwtlib.WWTControl.singleton.gotoTargetFull(false,true,this.$23.get_currentTourStop().get_endTarget().get_camParams(),this.$23.get_currentTourStop().get_target().get_studyImageset(),this.$23.get_currentTourStop().get_target().get_backgroundImageset());wwtlib.WWTControl.singleton.set_$2B(null);}this.$25=false;if(this.$23.get_currentTourStop().get_isLinked()){switch(this.$23.get_currentTourStop().get_nextSlide()){case 'Return':if(this.$2B.length>0){this.$2F(this.$23.get_tourStops()[this.$2B.pop()]);}else{this.$23.set_currentTourstopIndex(this.$23.get_tourStops().length-1);}break;default:this.$2F(this.$23.get_tourStops()[this.$23.getTourStopIndexByID(this.$23.get_currentTourStop().get_nextSlide())]);break;}}else{this.$23.set_currentTourstopIndex(this.$23.get_currentTourstopIndex()+1)-1;}if(this.$27!=null&&this.$23.get_currentTourStop().get_masterSlide()){if(this.$27.get_musicTrack()!=null){this.$27.get_musicTrack().stop();}if(this.$27.get_voiceTrack()!=null){this.$27.get_voiceTrack().stop();}var $enum2=ss.IEnumerator.getEnumerator(this.$27.get_overlays());while($enum2.moveNext()){var $1=$enum2.current;$1.stop();}this.$27=null;}wwtlib.WWTControl.singleton.gotoTarget(this.$23.get_currentTourStop().get_target(),false,false,false);this.$26=Date.get_now();wwtlib.Settings.tourSettings=this.$23.get_currentTourStop();wwtlib.SpaceTimeController.set_now(this.$23.get_currentTourStop().get_startTime());wwtlib.SpaceTimeController.set_syncToClock(false);}else{this.$28();wwtlib.TourPlayer.$24=false;if(wwtlib.Settings.get_current().autoRepeatTour){this.$23.set_currentTourstopIndex(-1);this.play();}else{wwtlib.WWTControl.singleton.$2A();if(wwtlib.TourPlayer.$29!=null){wwtlib.TourPlayer.$29(this,new ss.EventArgs());}this.showEndTourPopup();wwtlib.WWTControl.singleton.$31(false);wwtlib.WWTControl.scriptInterface.$D();}}},$28:function(){if(this.$27!=null){if(this.$27.get_musicTrack()!=null){this.$27.get_musicTrack().stop();}if(this.$27.get_voiceTrack()!=null){this.$27.get_voiceTrack().stop();}var $enum1=ss.IEnumerator.getEnumerator(this.$27.get_overlays());while($enum1.moveNext()){var $0=$enum1.current;$0.stop();}this.$27=null;}},showEndTourPopup:function(){},play:function(){if(this.$23==null){return;}if(wwtlib.TourPlayer.$24){this.stop(true);}else{wwtlib.TourPlayer.$24=true;}wwtlib.WWTControl.singleton.$31(true);wwtlib.TourPlayer.$24=true;if(this.$23.get_tourStops().length>0){this.$25=false;if(this.$23.get_currentTourstopIndex()===-1){this.$23.set_currentTourStop(this.$23.get_tourStops()[0]);}if(this.$23.get_currentTourstopIndex()>0){this.$2C();}wwtlib.WWTControl.singleton.gotoTarget(this.$23.get_currentTourStop().get_target(),false,true,false);}this.$26=Date.get_now();wwtlib.TourPlayer.$24=true;},$2C:function(){if(!this.$23.get_currentTourStop().get_masterSlide()){var $0=this.$23.elapsedTimeSinceLastMaster(this.$23.get_currentTourstopIndex());if($0!=null&&this.$27!=null){var $1=$0.durration;this.$27=$0.master;if(this.$27.get_musicTrack()!=null){this.$27.get_musicTrack().play();this.$27.get_musicTrack().seek($1);}if(this.$27.get_voiceTrack()!=null){this.$27.get_voiceTrack().play();this.$27.get_voiceTrack().seek($1);}var $enum1=ss.IEnumerator.getEnumerator(this.$27.get_overlays());while($enum1.moveNext()){var $2=$enum1.current;$2.play();$2.seek($1);}}}},stop:function(noSwitchBackFullScreen){if(wwtlib.TourPlayer.$2A&&!noSwitchBackFullScreen){}wwtlib.Settings.tourSettings=null;wwtlib.TourPlayer.$24=false;if(this.$23.get_currentTourStop()!=null){if(this.$23.get_currentTourStop().get_musicTrack()!=null){this.$23.get_currentTourStop().get_musicTrack().stop();}if(this.$23.get_currentTourStop().get_voiceTrack()!=null){this.$23.get_currentTourStop().get_voiceTrack().stop();}var $enum1=ss.IEnumerator.getEnumerator(this.$23.get_currentTourStop().get_overlays());while($enum1.moveNext()){var $0=$enum1.current;$0.stop();}}if(this.$27!=null){if(this.$27.get_musicTrack()!=null){this.$27.get_musicTrack().stop();}if(this.$27.get_voiceTrack()!=null){this.$27.get_voiceTrack().stop();}var $enum2=ss.IEnumerator.getEnumerator(this.$27.get_overlays());while($enum2.moveNext()){var $1=$enum2.current;$1.stop();}}wwtlib.WWTControl.singleton.$31(wwtlib.TourPlayer.noRestoreUIOnStop);},updateSlideStates:function(){var $0=Date.get_now()-this.$26;if($0>this.$23.get_currentTourStop().get_duration()&&wwtlib.TourPlayer.$24){this.nextSlide();}$0=Date.get_now()-this.$26;this.$23.get_currentTourStop().set_tweenPosition(($0/this.$23.get_currentTourStop().get_duration()));},updateTweenPosition:function(tween){var $0=Date.get_now()-this.$26;if(tween>-1){return this.$23.get_currentTourStop().set_tweenPosition(Math.min(1,tween));}else{return this.$23.get_currentTourStop().set_tweenPosition(Math.min(1,($0/this.$23.get_currentTourStop().get_duration())));}},close:function(){if(this.$23!=null){if(wwtlib.TourPlayer.get_playing()){this.stop(wwtlib.TourPlayer.$2A);}this.$23=null;}},mouseDown:function(sender,e){var $0;$0=this.pointToView(wwtlib.Vector2d.create(e.offsetX,e.offsetY));if(this.$23==null||this.$23.get_currentTourStop()==null){return false;}for(var $1=this.$23.get_currentTourStop().get_overlays().length-1;$1>=0;$1--){if(this.$23.get_currentTourStop().get_overlays()[$1].hitTest($0)){if(!String.isNullOrEmpty(this.$23.get_currentTourStop().get_overlays()[$1].get_url())){var $2=this.$23.get_currentTourStop().get_overlays()[$1];wwtlib._Util.$B($2.get_url(),true);return true;}if(!String.isNullOrEmpty(this.$23.get_currentTourStop().get_overlays()[$1].get_linkID())){this.$2B.push(this.$23.get_currentTourstopIndex());this.$2F(this.$23.get_tourStops()[this.$23.getTourStopIndexByID(this.$23.get_currentTourStop().get_overlays()[$1].get_linkID())]);return true;}}}if(this.$1.get_state()){return this.$C(wwtlib.Vector2d.create(e.offsetX,e.offsetY),true,true);}else{this.$1.set_targetState(true);this.$B=Date.get_now();}return false;},mouseUp:function(sender,e){if(this.$6||this.$7||this.$5){this.$6=false;this.$7=false;this.$5=false;return true;}return false;},mouseMove:function(sender,e){var $0;try{$0=this.pointToView(wwtlib.Vector2d.create(e.offsetX,e.offsetY));}catch($1){return false;}if(this.$23==null||this.$23.get_currentTourStop()==null){return false;}for(var $2=this.$23.get_currentTourStop().get_overlays().length-1;$2>=0;$2--){if(this.$23.get_currentTourStop().get_overlays()[$2].hitTest($0)&&(!String.isNullOrEmpty(this.$23.get_currentTourStop().get_overlays()[$2].get_url())||!String.isNullOrEmpty(this.$23.get_currentTourStop().get_overlays()[$2].get_linkID()))){return true;}}if(this.$1.get_state()){return this.$C(wwtlib.Vector2d.create(e.offsetX,e.offsetY),false,false);}return false;},mouseClick:function(sender,e){return false;},click:function(sender,e){return false;},mouseDoubleClick:function(sender,e){return false;},keyDown:function(sender,e){switch(e.keyCode){case 27:this.stop(wwtlib.TourPlayer.$2A);wwtlib.WWTControl.singleton.$32();return true;case 32:this.pauseTour();return true;case 39:this.$2D();return true;case 37:this.$2E();return true;case 35:if(this.$23.get_tourStops().length>0){this.$2F(this.$23.get_tourStops()[this.$23.get_tourStops().length-1]);}return true;case 36:if(this.$23.get_tourStops().length>0){this.$2F(this.$23.get_tourStops()[0]);}return true;}return false;},$2D:function(){if((this.$23.get_currentTourstopIndex()<this.$23.get_tourStops().length-1)&&this.$23.get_tourStops().length>0){this.$2F(this.$23.get_tourStops()[this.$23.get_currentTourstopIndex()+1]);}},$2E:function(){if(this.$23.get_currentTourstopIndex()>0){this.$2F(this.$23.get_tourStops()[this.$23.get_currentTourstopIndex()-1]);}},$2F:function($p0){this.stop(true);this.$23.set_currentTourStop($p0);wwtlib.WWTControl.singleton.gotoTarget(this.$23.get_currentTourStop().get_target(),false,true,false);wwtlib.SpaceTimeController.set_now(this.$23.get_currentTourStop().get_startTime());wwtlib.SpaceTimeController.set_syncToClock(false);this.play();},pauseTour:function(){if(wwtlib.TourPlayer.$24){this.stop(wwtlib.TourPlayer.$2A);wwtlib.WWTControl.singleton.$2A();}else{this.play();}},keyUp:function(sender,e){return false;},hover:function(pnt){if(wwtlib.TourPlayer.$24){return true;}return false;},pointToView:function(pnt){var $0=wwtlib.WWTControl.singleton.canvas.height;var $1=wwtlib.WWTControl.singleton.canvas.width;var $2=($1/$0)*1116;var $3=((pnt.x)/($1)*$2)-(($2-1920)/2);var $4=(pnt.y)/$0*1116;return wwtlib.Vector2d.create($3,$4);}}
wwtlib.MasterTime=function(master,durration){this.master=master;this.durration=durration;}
wwtlib.MasterTime.prototype={master:null,durration:0}
wwtlib.TourStop=function(){this.$4=0;this.$E=0;this.$11=wwtlib.SpaceTimeController.get_now();this.$12=wwtlib.SpaceTimeController.get_now();this.$13=wwtlib.Settings.get_current().get_actualPlanetScale();this.$14=wwtlib.Settings.get_current().get_locationAltitude();this.$15=wwtlib.Settings.get_current().get_locationLat();this.$16=wwtlib.Settings.get_current().get_locationLng();this.$17=wwtlib.Settings.get_current().get_showClouds();this.$18=wwtlib.Settings.get_current().get_showConstellationBoundries();this.$19=wwtlib.Settings.get_current().get_showConstellationFigures();this.$1A=wwtlib.Settings.get_current().get_showConstellationSelection();this.$1B=wwtlib.Settings.get_current().get_showEcliptic();this.$1C=wwtlib.Settings.get_current().get_showElevationModel();this.$1D=wwtlib.Settings.get_current().get_showFieldOfView();this.$1E=wwtlib.Settings.get_current().get_showGrid();this.$1F=wwtlib.Settings.get_current().get_showHorizon();this.$20=wwtlib.Settings.get_current().get_showHorizonPanorama();this.$21=wwtlib.Settings.get_current().get_showMoonsAsPointSource();this.$22=wwtlib.Settings.get_current().get_showSolarSystem();this.$23=wwtlib.Settings.get_current().get_fovTelescope();this.$24=wwtlib.Settings.get_current().get_fovEyepiece();this.$25=wwtlib.Settings.get_current().get_fovCamera();this.$26=wwtlib.Settings.get_current().get_localHorizonMode();this.$27=wwtlib.Settings.get_current().get_galacticMode();this.$28=wwtlib.Settings.get_current().get_solarSystemStars();this.$29=wwtlib.Settings.get_current().get_solarSystemMilkyWay();this.$2A=wwtlib.Settings.get_current().get_solarSystemCosmos();this.$2B=wwtlib.Settings.get_current().get_solarSystemOrbits();this.$2C=wwtlib.Settings.get_current().get_solarSystemOverlays();this.$2D=wwtlib.Settings.get_current().get_solarSystemLighting();this.$2E=wwtlib.Settings.get_current().get_solarSystemScale();this.$2F=wwtlib.Settings.get_current().get_solarSystemMultiRes();this.$30=wwtlib.Settings.get_current().get_showEquatorialGridText();this.$31=wwtlib.Settings.get_current().get_showGalacticGrid();this.$32=wwtlib.Settings.get_current().get_showGalacticGridText();this.$33=wwtlib.Settings.get_current().get_showEclipticGrid();this.$34=wwtlib.Settings.get_current().get_showEclipticGridText();this.$35=wwtlib.Settings.get_current().get_showEclipticOverviewText();this.$36=wwtlib.Settings.get_current().get_showAltAzGrid();this.$37=wwtlib.Settings.get_current().get_showAltAzGridText();this.$38=wwtlib.Settings.get_current().get_showPrecessionChart();this.$39=wwtlib.Settings.get_current().get_showConstellationPictures();this.$3A=wwtlib.Settings.get_current().get_showConstellationLabels();this.$3B=wwtlib.Settings.get_current().get_solarSystemCMB();this.$3C=wwtlib.Settings.get_current().get_solarSystemMinorPlanets();this.$3D=wwtlib.Settings.get_current().get_solarSystemPlanets();this.$3E=wwtlib.Settings.get_current().get_showEarthSky();this.$3F=wwtlib.Settings.get_current().get_solarSystemMinorOrbits();this.$41=wwtlib.Settings.get_current().get_constellationFiguresFilter().clone();this.$42=wwtlib.Settings.get_current().get_constellationBoundariesFilter().clone();this.$43=wwtlib.Settings.get_current().get_constellationNamesFilter().clone();this.$44=wwtlib.Settings.get_current().get_constellationArtFilter().clone();this.$45=wwtlib.Settings.get_current().get_showSkyOverlays();this.$46=wwtlib.Settings.get_current().get_showConstellations();this.$47=wwtlib.Settings.get_current().get_showSkyNode();this.$48=wwtlib.Settings.get_current().get_showSkyGrids();this.$49=wwtlib.Settings.get_current().get_showSkyOverlaysIn3d();this.$4A=wwtlib.Settings.get_current().get_earthCutawayView();this.$4B=wwtlib.Settings.get_current().get_showISSModel();this.$4C=wwtlib.Settings.get_current().get_milkyWayModel();this.$4D=wwtlib.Settings.get_current().get_minorPlanetsFilter();this.$4E=wwtlib.Settings.get_current().get_planetOrbitsFilter();this.layers={};this.$51=[];this.id=wwtlib.Guid.newGuid().toString();}
wwtlib.TourStop.$54=function($p0,$p1){var $0=new wwtlib.TourStop();$0.$3=$p0;$0.set_id($p1.attributes.getNamedItem('Id').nodeValue);$0.set_name($p1.attributes.getNamedItem('Name').nodeValue);$0.set_description($p1.attributes.getNamedItem('Description').nodeValue);$0.$4F=$p1.attributes.getNamedItem('Thumbnail').nodeValue;$0.$B=wwtlib._Util.$4($p1.attributes.getNamedItem('Duration').nodeValue);if($p1.attributes.getNamedItem('Master')!=null){$0.$8=Boolean.parse($p1.attributes.getNamedItem('Master').nodeValue);}if($p1.attributes.getNamedItem('NextSlide')!=null){$0.$6=$p1.attributes.getNamedItem('NextSlide').nodeValue;}if($p1.attributes.getNamedItem('InterpolationType')!=null){switch($p1.attributes.getNamedItem('InterpolationType').nodeValue){case 'Linear':$0.set_interpolationType(0);break;case 'EaseIn':$0.set_interpolationType(1);break;case 'EaseOut':$0.set_interpolationType(2);break;case 'EaseInOut':$0.set_interpolationType(3);break;case 'Exponential':$0.set_interpolationType(4);break;case 'Default':$0.set_interpolationType(5);break;default:$0.set_interpolationType(0);break;}}$0.$7=true;if($p1.attributes.getNamedItem('FadeInOverlays')!=null){$0.$7=Boolean.parse($p1.attributes.getNamedItem('FadeInOverlays').nodeValue);}if($p1.attributes.getNamedItem('Transition')!=null){switch($p1.attributes.getNamedItem('Transition').nodeValue){case 'Slew':$0.$4=0;break;case 'Instant':$0.$4=1;break;case 'CrossFade':$0.$4=2;break;case 'FadeToBlack':$0.$4=3;break;default:break;}}if($p1.attributes.getNamedItem('HasLocation')!=null){$0.$F=Boolean.parse($p1.attributes.getNamedItem('HasLocation').nodeValue);}if($0.$F){if($p1.attributes.getNamedItem('LocationAltitude')!=null){$0.$14=parseFloat($p1.attributes.getNamedItem('LocationAltitude').nodeValue);}if($p1.attributes.getNamedItem('LocationLat')!=null){$0.$15=parseFloat($p1.attributes.getNamedItem('LocationLat').nodeValue);}if($p1.attributes.getNamedItem('LocationLng')!=null){$0.$16=parseFloat($p1.attributes.getNamedItem('LocationLng').nodeValue);}}if($p1.attributes.getNamedItem('HasTime')!=null){$0.$10=Boolean.parse($p1.attributes.getNamedItem('HasTime').nodeValue);if($0.$10){if($p1.attributes.getNamedItem('StartTime')!=null){$0.$11=Date.parseDate($p1.attributes.getNamedItem('StartTime').nodeValue);}if($p1.attributes.getNamedItem('EndTime')!=null){$0.$12=Date.parseDate($p1.attributes.getNamedItem('EndTime').nodeValue);}}}if($p1.attributes.getNamedItem('ActualPlanetScale')!=null){$0.$13=Boolean.parse($p1.attributes.getNamedItem('ActualPlanetScale').nodeValue);}if($p1.attributes.getNamedItem('ShowClouds')!=null){$0.$17=Boolean.parse($p1.attributes.getNamedItem('ShowClouds').nodeValue);}if($p1.attributes.getNamedItem('ShowConstellationBoundries')!=null){$0.$18=Boolean.parse($p1.attributes.getNamedItem('ShowConstellationBoundries').nodeValue);}if($p1.attributes.getNamedItem('ShowConstellationFigures')!=null){$0.$19=Boolean.parse($p1.attributes.getNamedItem('ShowConstellationFigures').nodeValue);}if($p1.attributes.getNamedItem('ShowConstellationSelection')!=null){$0.$1A=Boolean.parse($p1.attributes.getNamedItem('ShowConstellationSelection').nodeValue);}if($p1.attributes.getNamedItem('ShowEcliptic')!=null){$0.$1B=Boolean.parse($p1.attributes.getNamedItem('ShowEcliptic').nodeValue);}if($p1.attributes.getNamedItem('ShowElevationModel')!=null){$0.$1C=Boolean.parse($p1.attributes.getNamedItem('ShowElevationModel').nodeValue);}if($p1.attributes.getNamedItem('ShowFieldOfView')!=null){$0.$1D=Boolean.parse($p1.attributes.getNamedItem('ShowFieldOfView').nodeValue);}if($p1.attributes.getNamedItem('ShowGrid')!=null){$0.$1E=Boolean.parse($p1.attributes.getNamedItem('ShowGrid').nodeValue);}if($p1.attributes.getNamedItem('ShowHorizon')!=null){$0.$1F=Boolean.parse($p1.attributes.getNamedItem('ShowHorizon').nodeValue);}if($p1.attributes.getNamedItem('ShowHorizonPanorama')!=null){$0.$20=Boolean.parse($p1.attributes.getNamedItem('ShowHorizonPanorama').nodeValue);}if($p1.attributes.getNamedItem('ShowMoonsAsPointSource')!=null){$0.$21=Boolean.parse($p1.attributes.getNamedItem('ShowMoonsAsPointSource').nodeValue);}if($p1.attributes.getNamedItem('ShowSolarSystem')!=null){$0.$22=Boolean.parse($p1.attributes.getNamedItem('ShowSolarSystem').nodeValue);}if($p1.attributes.getNamedItem('FovTelescope')!=null){$0.$23=parseInt($p1.attributes.getNamedItem('FovTelescope').nodeValue);}if($p1.attributes.getNamedItem('FovEyepiece')!=null){$0.$24=parseInt($p1.attributes.getNamedItem('FovEyepiece').nodeValue);}if($p1.attributes.getNamedItem('FovCamera')!=null){$0.$25=parseInt($p1.attributes.getNamedItem('FovCamera').nodeValue);}if($p1.attributes.getNamedItem('LocalHorizonMode')!=null){$0.$26=Boolean.parse($p1.attributes.getNamedItem('LocalHorizonMode').nodeValue);}if($p1.attributes.getNamedItem('GalacticMode')!=null){$0.$27=Boolean.parse($p1.attributes.getNamedItem('GalacticMode').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemStars')!=null){$0.$28=Boolean.parse($p1.attributes.getNamedItem('SolarSystemStars').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemMilkyWay')!=null){$0.$29=Boolean.parse($p1.attributes.getNamedItem('SolarSystemMilkyWay').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemCosmos')!=null){$0.$2A=Boolean.parse($p1.attributes.getNamedItem('SolarSystemCosmos').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemOrbits')!=null){$0.$2B=Boolean.parse($p1.attributes.getNamedItem('SolarSystemOrbits').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemOverlays')!=null){$0.$2C=Boolean.parse($p1.attributes.getNamedItem('SolarSystemOverlays').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemLighting')!=null){$0.$2D=Boolean.parse($p1.attributes.getNamedItem('SolarSystemLighting').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemScale')!=null){$0.$2E=parseInt($p1.attributes.getNamedItem('SolarSystemScale').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemMultiRes')!=null){$0.$2F=Boolean.parse($p1.attributes.getNamedItem('SolarSystemMultiRes').nodeValue);}if($p1.attributes.getNamedItem('ShowEquatorialGridText')!=null){$0.$30=Boolean.parse($p1.attributes.getNamedItem('ShowEquatorialGridText').nodeValue);}if($p1.attributes.getNamedItem('ShowGalacticGrid')!=null){$0.$31=Boolean.parse($p1.attributes.getNamedItem('ShowGalacticGrid').nodeValue);}if($p1.attributes.getNamedItem('ShowGalacticGridText')!=null){$0.$32=Boolean.parse($p1.attributes.getNamedItem('ShowGalacticGridText').nodeValue);}if($p1.attributes.getNamedItem('ShowEclipticGrid')!=null){$0.$33=Boolean.parse($p1.attributes.getNamedItem('ShowEclipticGrid').nodeValue);}if($p1.attributes.getNamedItem('ShowEclipticGridText')!=null){$0.$34=Boolean.parse($p1.attributes.getNamedItem('ShowEclipticGridText').nodeValue);}if($p1.attributes.getNamedItem('ShowEclipticOverviewText')!=null){$0.$35=Boolean.parse($p1.attributes.getNamedItem('ShowEclipticOverviewText').nodeValue);}if($p1.attributes.getNamedItem('ShowAltAzGrid')!=null){$0.$36=Boolean.parse($p1.attributes.getNamedItem('ShowAltAzGrid').nodeValue);}if($p1.attributes.getNamedItem('ShowAltAzGridText')!=null){$0.$37=Boolean.parse($p1.attributes.getNamedItem('ShowAltAzGridText').nodeValue);}if($p1.attributes.getNamedItem('ShowPrecessionChart')!=null){$0.$38=Boolean.parse($p1.attributes.getNamedItem('ShowPrecessionChart').nodeValue);}if($p1.attributes.getNamedItem('ShowConstellationPictures')!=null){$0.$39=Boolean.parse($p1.attributes.getNamedItem('ShowConstellationPictures').nodeValue);}if($p1.attributes.getNamedItem('ShowConstellationLabels')!=null){$0.$3A=Boolean.parse($p1.attributes.getNamedItem('ShowConstellationLabels').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemCMB')!=null){$0.$3B=Boolean.parse($p1.attributes.getNamedItem('SolarSystemCMB').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemMinorPlanets')!=null){$0.$3C=Boolean.parse($p1.attributes.getNamedItem('SolarSystemMinorPlanets').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemPlanets')!=null){$0.$3D=Boolean.parse($p1.attributes.getNamedItem('SolarSystemPlanets').nodeValue);}if($p1.attributes.getNamedItem('ShowEarthSky')!=null){$0.$3E=Boolean.parse($p1.attributes.getNamedItem('ShowEarthSky').nodeValue);}if($p1.attributes.getNamedItem('SolarSystemMinorOrbits')!=null){$0.$3F=Boolean.parse($p1.attributes.getNamedItem('SolarSystemMinorOrbits').nodeValue);}if($p1.attributes.getNamedItem('ShowSkyOverlays')!=null){$0.$45=Boolean.parse($p1.attributes.getNamedItem('ShowSkyOverlays').nodeValue);}else{$0.$45=true;}if($p1.attributes.getNamedItem('ShowConstellations')!=null){$0.$46=Boolean.parse($p1.attributes.getNamedItem('ShowConstellations').nodeValue);}else{$0.$46=true;}if($p1.attributes.getNamedItem('ShowSkyNode')!=null){$0.$47=Boolean.parse($p1.attributes.getNamedItem('ShowSkyNode').nodeValue);}else{$0.$47=true;}if($p1.attributes.getNamedItem('ShowSkyGrids')!=null){$0.$48=Boolean.parse($p1.attributes.getNamedItem('ShowSkyGrids').nodeValue);}else{$0.$48=true;}if($p1.attributes.getNamedItem('ShowSkyOverlaysIn3d')!=null){$0.$49=Boolean.parse($p1.attributes.getNamedItem('ShowSkyOverlaysIn3d').nodeValue);}if($p1.attributes.getNamedItem('EarthCutawayView')!=null){$0.$4A=Boolean.parse($p1.attributes.getNamedItem('EarthCutawayView').nodeValue);}if($p1.attributes.getNamedItem('ShowISSModel')!=null){$0.$4B=Boolean.parse($p1.attributes.getNamedItem('ShowISSModel').nodeValue);}if($p1.attributes.getNamedItem('MilkyWayModel')!=null){$0.$4C=Boolean.parse($p1.attributes.getNamedItem('MilkyWayModel').nodeValue);}if($p1.attributes.getNamedItem('ConstellationBoundariesFilter')!=null){$0.$42=wwtlib.ConstellationFilter.parse($p1.attributes.getNamedItem('ConstellationBoundariesFilter').nodeValue);}else{$0.$42=wwtlib.ConstellationFilter.get_allConstellation();}if($p1.attributes.getNamedItem('ConstellationBoundariesFilter')!=null){$0.$41=wwtlib.ConstellationFilter.parse($p1.attributes.getNamedItem('ConstellationBoundariesFilter').nodeValue);}else{$0.$41=new wwtlib.ConstellationFilter();}if($p1.attributes.getNamedItem('ConstellationNamesFilter')!=null){$0.$43=wwtlib.ConstellationFilter.parse($p1.attributes.getNamedItem('ConstellationNamesFilter').nodeValue);}else{$0.$43=new wwtlib.ConstellationFilter();}if($p1.attributes.getNamedItem('ConstellationArtFilter')!=null){$0.$44=wwtlib.ConstellationFilter.parse($p1.attributes.getNamedItem('ConstellationArtFilter').nodeValue);}else{$0.$44=new wwtlib.ConstellationFilter();}if($p1.attributes.getNamedItem('MinorPlanetsFilter')!=null){$0.$4D=parseInt($p1.attributes.getNamedItem('MinorPlanetsFilter').nodeValue);}if($p1.attributes.getNamedItem('PlanetOrbitsFilter')!=null){$0.$4E=parseInt($p1.attributes.getNamedItem('PlanetOrbitsFilter').nodeValue);}var $1=wwtlib._Util.$6($p1,'Place');$0.$C=wwtlib.Place.$11($1);var $2=wwtlib._Util.$6($p1,'EndTarget');if($2!=null){$0.$D=wwtlib.Place.$11($2);}var $3=wwtlib._Util.$6($p1,'Overlays');var $enum1=ss.IEnumerator.getEnumerator($3.childNodes);while($enum1.moveNext()){var $6=$enum1.current;$0.addOverlay(wwtlib.Overlay.$15($0,$6));}var $4=wwtlib._Util.$6($p1,'MusicTrack');if($4!=null){$0.$52=wwtlib.Overlay.$15($0,wwtlib._Util.$6($4,'Overlay'));}var $5=wwtlib._Util.$6($p1,'VoiceTrack');if($5!=null){$0.$53=wwtlib.Overlay.$15($0,wwtlib._Util.$6($5,'Overlay'));}return $0;}
wwtlib.TourStop.prototype={$0:0,$1:false,get_keyFramed:function(){return this.$1;},get_tourStopType:function(){if(this.$C.get_backgroundImageset()!=null){return this.$C.get_backgroundImageset().get_dataSetType();}else{return this.$0;}},set_tourStopType:function(value){if(this.$C.get_backgroundImageset()!=null){if(this.$C.get_backgroundImageset().get_dataSetType()!==value){this.$C.set_backgroundImageset(null);}}this.$0=value;return value;},$2:0,get_tweenPosition:function(){return this.$2;},set_tweenPosition:function(value){if(this.$2!==value){this.$2=Math.max(0,Math.min(1,value));this.updateTweenPosition();}return value;},updateTweenPosition:function(){if(this.get_keyFramed()){}},$3:null,get_owner:function(){return this.$3;},set_owner:function(value){this.$3=value;return value;},get_$5:function(){return this.$4;},set_$5:function($p0){if(this.$4!==$p0){this.$4=$p0;if(this.$3!=null){this.$3.set_tourDirty(true);}}return $p0;},$6:'Next',get_nextSlide:function(){return this.$6;},set_nextSlide:function(value){this.$6=value;return value;},get_isLinked:function(){if(this.$6==null||this.$6==='Next'||!this.$6){return false;}return true;},$7:false,get_fadeInOverlays:function(){return this.$7;},set_fadeInOverlays:function(value){this.$7=value;return value;},$8:false,get_masterSlide:function(){return this.$8;},set_masterSlide:function(value){if(this.$8!==value){this.$8=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},id:null,get_id:function(){return this.id;},set_id:function(value){this.id=value;if(this.$3!=null){this.$3.set_tourDirty(true);}return value;},toString:function(){if(this.$C!=null){return this.get_target().get_name();}else{return this.$9;}},$9:null,get_description:function(){return this.$9;},set_description:function(value){if(this.$9!==value){this.$9=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},$A:null,get_name:function(){if(this.$C!=null){return this.$C.get_name();}return this.$A;},set_name:function(value){if(this.$A!==value){this.$A=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},$B:10000,get_duration:function(){return this.$B;},set_duration:function(value){if(this.$B!==value){this.$B=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},$C:null,get_target:function(){return this.$C;},set_target:function(value){if(this.$C!==value){this.$C=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},$D:null,get_endTarget:function(){return this.$D;},set_endTarget:function(value){if(this.$D!==value){this.$D=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},get_interpolationType:function(){return this.$E;},set_interpolationType:function(value){this.$E=value;return value;},$F:true,get_hasLocation:function(){return this.$10;},set_hasLocation:function(value){if(this.$F!==value){this.$F=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},$10:true,get_hasTime:function(){return this.$10;},set_hasTime:function(value){if(this.$10!==value){this.$10=this.$F=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},get_startTime:function(){return this.$11;},set_startTime:function(value){this.$11=value;if(this.$11!==value){this.$11=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},get_endTime:function(){return this.$12;},set_endTime:function(value){if(this.$12!==value){this.$12=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},$40:'',captureSettings:function(){this.$11=wwtlib.SpaceTimeController.get_now();this.$13=wwtlib.Settings.get_current().get_actualPlanetScale();this.$14=wwtlib.Settings.get_current().get_locationAltitude();this.$15=wwtlib.Settings.get_current().get_locationLat();this.$16=wwtlib.Settings.get_current().get_locationLng();this.$17=wwtlib.Settings.get_current().get_showClouds();this.$18=wwtlib.Settings.get_current().get_showConstellationBoundries();this.$19=wwtlib.Settings.get_current().get_showConstellationFigures();this.$1A=wwtlib.Settings.get_current().get_showConstellationSelection();this.$1B=wwtlib.Settings.get_current().get_showEcliptic();this.$1C=wwtlib.Settings.get_current().get_showElevationModel();this.$1D=wwtlib.Settings.get_current().get_showFieldOfView();this.$1E=wwtlib.Settings.get_current().get_showGrid();this.$1F=wwtlib.Settings.get_current().get_showHorizon();this.$20=wwtlib.Settings.get_current().get_showHorizonPanorama();this.$21=wwtlib.Settings.get_current().get_showMoonsAsPointSource();this.$22=wwtlib.Settings.get_current().get_showSolarSystem();this.$23=wwtlib.Settings.get_current().get_fovTelescope();this.$24=wwtlib.Settings.get_current().get_fovEyepiece();this.$25=wwtlib.Settings.get_current().get_fovCamera();this.$26=wwtlib.Settings.get_current().get_localHorizonMode();this.$27=wwtlib.Settings.get_current().get_galacticMode();this.$28=wwtlib.Settings.get_current().get_solarSystemStars();this.$29=wwtlib.Settings.get_current().get_solarSystemMilkyWay();this.$2A=wwtlib.Settings.get_current().get_solarSystemCosmos();this.$2B=wwtlib.Settings.get_current().get_solarSystemOrbits();this.$2C=wwtlib.Settings.get_current().get_solarSystemOverlays();this.$2D=wwtlib.Settings.get_current().get_solarSystemLighting();this.$2E=wwtlib.Settings.get_current().get_solarSystemScale();this.$2F=wwtlib.Settings.get_current().get_solarSystemMultiRes();this.$30=wwtlib.Settings.get_current().get_showEquatorialGridText();this.$31=wwtlib.Settings.get_current().get_showGalacticGrid();this.$32=wwtlib.Settings.get_current().get_showGalacticGridText();this.$33=wwtlib.Settings.get_current().get_showEclipticGrid();this.$34=wwtlib.Settings.get_current().get_showEclipticGridText();this.$35=wwtlib.Settings.get_current().get_showEclipticOverviewText();this.$36=wwtlib.Settings.get_current().get_showAltAzGrid();this.$37=wwtlib.Settings.get_current().get_showAltAzGridText();this.$38=wwtlib.Settings.get_current().get_showPrecessionChart();this.$39=wwtlib.Settings.get_current().get_showConstellationPictures();this.$3A=wwtlib.Settings.get_current().get_showConstellationLabels();this.$3B=wwtlib.Settings.get_current().get_solarSystemCMB();this.$3C=wwtlib.Settings.get_current().get_solarSystemMinorPlanets();this.$3D=wwtlib.Settings.get_current().get_solarSystemPlanets();this.$3E=wwtlib.Settings.get_current().get_showEarthSky();this.$3F=wwtlib.Settings.get_current().get_solarSystemMinorOrbits();this.$41=wwtlib.Settings.get_current().get_constellationFiguresFilter().clone();this.$42=wwtlib.Settings.get_current().get_constellationBoundariesFilter().clone();this.$43=wwtlib.Settings.get_current().get_constellationNamesFilter().clone();this.$44=wwtlib.Settings.get_current().get_constellationArtFilter().clone();this.$45=wwtlib.Settings.get_current().get_showSkyOverlays();this.$46=wwtlib.Settings.get_current().get_showConstellations();this.$47=wwtlib.Settings.get_current().get_showSkyNode();this.$48=wwtlib.Settings.get_current().get_showSkyGrids();this.$49=wwtlib.Settings.get_current().get_showSkyOverlaysIn3d();this.$4A=wwtlib.Settings.get_current().get_earthCutawayView();this.$4B=wwtlib.Settings.get_current().get_showISSModel();this.$4C=wwtlib.Settings.get_current().get_milkyWayModel();this.$4D=wwtlib.Settings.get_current().get_minorPlanetsFilter();this.$4E=wwtlib.Settings.get_current().get_planetOrbitsFilter();},get_solarSystemStars:function(){return this.$28;},get_solarSystemMultiRes:function(){return this.$2F;},get_solarSystemMilkyWay:function(){return this.$29;},get_solarSystemCosmos:function(){return this.$2A;},get_solarSystemOrbits:function(){return this.$2B;},get_solarSystemOverlays:function(){return this.$2C;},get_solarSystemLighting:function(){return this.$2D;},get_solarSystemScale:function(){return this.$2E;},get_actualPlanetScale:function(){return this.$13;},get_fovCamera:function(){return this.$25;},get_fovEyepiece:function(){return this.$24;},get_fovTelescope:function(){return this.$23;},get_locationAltitude:function(){if(this.$10){return this.$14;}else{return wwtlib.Settings.get_current().get_locationAltitude();}},get_locationLat:function(){if(this.$10){return this.$15;}else{return wwtlib.Settings.get_current().get_locationLat();}},get_locationLng:function(){if(this.$10){return this.$16;}else{return wwtlib.Settings.get_current().get_locationLng();}},get_showClouds:function(){return this.$17;},get_showConstellationBoundries:function(){return this.$18;},get_showConstellationFigures:function(){return this.$19;},get_showConstellationSelection:function(){return this.$1A;},get_showEcliptic:function(){return this.$1B;},get_showElevationModel:function(){return this.$1C;},get_showFieldOfView:function(){return this.$1D;},get_showGrid:function(){return this.$1E;},get_showHorizon:function(){return this.$1F;},get_showHorizonPanorama:function(){return this.$20;},get_showMoonsAsPointSource:function(){return this.$21;},get_showSolarSystem:function(){return this.$22;},get_localHorizonMode:function(){return this.$26;},get_galacticMode:function(){return this.$27;},$4F:'',$50:null,get_thumbnail:function(){if(this.$C!=null&&this.$50==null){return null;}return this.$50;},set_thumbnail:function(value){this.$50=value;if(this.$3!=null){this.$3.set_tourDirty(true);}return value;},get_overlays:function(){return this.$51;},$52:null,get_musicTrack:function(){return this.$52;},set_musicTrack:function(value){if(this.$52!==value){this.$52=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},$53:null,get_voiceTrack:function(){return this.$53;},set_voiceTrack:function(value){if(this.$53!==value){this.$53=value;if(this.$3!=null){this.$3.set_tourDirty(true);}}return value;},addOverlay:function(overlay){if(overlay==null){return;}overlay.set_owner(this);this.$51.add(overlay);if(this.$3!=null){this.$3.set_tourDirty(true);}},removeOverlay:function(overlay){this.$51.remove(overlay);if(this.$3!=null){this.$3.set_tourDirty(true);}},cleanUp:function(){var $enum1=ss.IEnumerator.getEnumerator(this.get_overlays());while($enum1.moveNext()){var $0=$enum1.current;$0.cleanUp();}if(this.$53!=null){this.$53.cleanUp();}if(this.$52!=null){this.$52.cleanUp();}},sendToBack:function(target){this.$51.remove(target);this.$51.insert(0,target);if(this.$3!=null){this.$3.set_tourDirty(true);}},bringToFront:function(target){this.$51.remove(target);this.$51.add(target);if(this.$3!=null){this.$3.set_tourDirty(true);}},bringForward:function(target){var $0=this.$51.indexOf(target);if($0<this.$51.length-1){this.$51.remove(target);this.$51.insert($0+1,target);}if(this.$3!=null){this.$3.set_tourDirty(true);}},sendBackward:function(target){var $0=this.$51.indexOf(target);if($0>0){this.$51.remove(target);this.$51.insert($0-1,target);}if(this.$3!=null){this.$3.set_tourDirty(true);}},getNextOverlay:function(current){if(current==null){if(this.$51.length>0){return this.$51[0];}else{return null;}}var $0=this.$51.indexOf(current);if($0<this.$51.length-1){return this.$51[$0+1];}else{return this.$51[0];}},getPerviousOverlay:function(current){if(current==null){if(this.$51.length>0){return this.$51[0];}else{return null;}}var $0=this.$51.indexOf(current);if($0>0){return this.$51[$0-1];}else{return this.$51[this.$51.length-1];}},getOverlayById:function(id){var $enum1=ss.IEnumerator.getEnumerator(this.$51);while($enum1.moveNext()){var $0=$enum1.current;if($0.id===id){return $0;}}return null;},get_tourStopThumbnailFilename:function(){return String.format('{0}.thumb.png',this.id);},getNextDefaultName:function(baseName){var $0=1;var $enum1=ss.IEnumerator.getEnumerator(this.$51);while($enum1.moveNext()){var $1=$enum1.current;if($1.get_name().startsWith(baseName)){var $2=0;try{$2=parseInt($1.get_name().substr(baseName.length));}catch($3){}if($2>=$0){$0=$2+1;}}}return String.format('{0} {1}',baseName,$0);},$55:function(){if(!this.get_keyFramed()){}else{this.updateTweenPosition();}},get_showEquatorialGridText:function(){return this.$30;},set_showEquatorialGridText:function(value){this.$30=value;return value;},get_showGalacticGrid:function(){return this.$31;},set_showGalacticGrid:function(value){this.$31=value;return value;},get_showGalacticGridText:function(){return this.$32;},set_showGalacticGridText:function(value){this.$32=value;return value;},get_showEclipticGrid:function(){return this.$33;},set_showEclipticGrid:function(value){this.$33=value;return value;},get_showEclipticGridText:function(){return this.$34;},set_showEclipticGridText:function(value){this.$34=value;return value;},get_showEclipticOverviewText:function(){return this.$35;},set_showEclipticOverviewText:function(value){this.$35=value;return value;},get_showAltAzGrid:function(){return this.$36;},set_showAltAzGrid:function(value){this.$36=value;return value;},get_showAltAzGridText:function(){return this.$37;},set_showAltAzGridText:function(value){this.$37=value;return value;},get_showPrecessionChart:function(){return this.$38;},set_showPrecessionChart:function(value){this.$38=value;return value;},get_showConstellationPictures:function(){return this.$39;},set_showConstellationPictures:function(value){this.$39=value;return value;},get_showConstellationLabels:function(){return this.$3A;},set_showConstellationLabels:function(value){this.$3A=value;return value;},get_solarSystemCMB:function(){return this.$3B;},set_solarSystemCMB:function(value){this.$3B=value;return value;},get_solarSystemMinorPlanets:function(){return this.$3C;},set_solarSystemMinorPlanets:function(value){this.$3C=value;return value;},get_solarSystemPlanets:function(){return this.$3D;},set_solarSystemPlanets:function(value){this.$3D=value;return value;},get_showEarthSky:function(){return this.$3E;},set_showEarthSky:function(value){this.$3E=value;return value;},get_solarSystemMinorOrbits:function(){return this.$3F;},set_solarSystemMinorOrbits:function(value){this.$3F=value;return value;},get_constellationsEnabled:function(){return this.$40;},set_constellationsEnabled:function(value){this.$40=value;return value;},get_constellationFiguresFilter:function(){return this.$41;},set_constellationFiguresFilter:function(value){this.$41=value;return value;},get_constellationBoundariesFilter:function(){return this.$42;},set_constellationBoundariesFilter:function(value){this.$42=value;return value;},get_constellationNamesFilter:function(){return this.$43;},set_constellationNamesFilter:function(value){this.$43=value;return value;},get_constellationArtFilter:function(){return this.$44;},set_constellationArtFilter:function(value){this.$44=value;return value;},get_showSkyOverlays:function(){return this.$45;},set_showSkyOverlays:function(value){this.$45=value;return value;},get_showConstellations:function(){return this.$46;},set_showConstellations:function(value){this.$46=value;return value;},get_showSkyNode:function(){return this.$47;},set_showSkyNode:function(value){this.$47=value;return value;},get_showSkyGrids:function(){return this.$48;},set_showSkyGrids:function(value){this.$48=value;return value;},get_showSkyOverlaysIn3d:function(){return this.$49;},set_showSkyOverlaysIn3d:function(value){this.$49=value;return value;},get_earthCutawayView:function(){return this.$4A;},set_earthCutawayView:function(value){this.$4A=value;return value;},get_showISSModel:function(){return this.$4B;},set_showISSModel:function(value){this.$4B=value;return value;},get_milkyWayModel:function(){return this.$4C;},set_milkyWayModel:function(value){this.$4C=value;return value;},get_minorPlanetsFilter:function(){return this.$4D;},set_minorPlanetsFilter:function(value){this.$4D=value;return value;},get_planetOrbitsFilter:function(){return this.$4E;},set_planetOrbitsFilter:function(value){this.$4E=value;return value;},getSetting:function(type){return new wwtlib.SettingParameter(false,1,false,null);}}
wwtlib.LayerInfo=function(){this.id=wwtlib.Guid.newGuid();this.startParams=new Array(0);this.endParams=new Array(0);this.frameParams=new Array(0);}
wwtlib.LayerInfo.prototype={startOpacity:1,endOpacity:1,frameOpacity:1}
wwtlib.wwtlib$7=function(){this.a=-1;this.b=-1;this.c=-1;}
wwtlib.wwtlib$7.$0=function($p0,$p1,$p2){var $0=new wwtlib.wwtlib$7();$0.a=$p0;$0.b=$p1;$0.c=$p2;return $0;}
wwtlib.wwtlib$7.prototype={a:0,b:0,c:0,$1:function($p0,$p1){var $0=wwtlib.Vector3d.lerp($p1[this.b].position,$p1[this.c].position,0.5);var $1=wwtlib.Vector3d.lerp($p1[this.c].position,$p1[this.a].position,0.5);var $2=wwtlib.Vector3d.lerp($p1[this.a].position,$p1[this.b].position,0.5);var $3=wwtlib.Vector2d.lerp(wwtlib.Vector2d.create($p1[this.b].tu,$p1[this.b].tv),wwtlib.Vector2d.create($p1[this.c].tu,$p1[this.c].tv),0.5);var $4=wwtlib.Vector2d.lerp(wwtlib.Vector2d.create($p1[this.c].tu,$p1[this.c].tv),wwtlib.Vector2d.create($p1[this.a].tu,$p1[this.a].tv),0.5);var $5=wwtlib.Vector2d.lerp(wwtlib.Vector2d.create($p1[this.a].tu,$p1[this.a].tv),wwtlib.Vector2d.create($p1[this.b].tu,$p1[this.b].tv),0.5);$0.normalize();$1.normalize();$2.normalize();var $6=$p1.length;var $7=$p1.length+1;var $8=$p1.length+2;$p1.add(wwtlib.PositionTexture.createPosRaw($0,$3.x,$3.y));$p1.add(wwtlib.PositionTexture.createPosRaw($1,$4.x,$4.y));$p1.add(wwtlib.PositionTexture.createPosRaw($2,$5.x,$5.y));$p0.add(wwtlib.wwtlib$7.$0(this.a,$8,$7));$p0.add(wwtlib.wwtlib$7.$0(this.b,$6,$8));$p0.add(wwtlib.wwtlib$7.$0(this.c,$7,$6));$p0.add(wwtlib.wwtlib$7.$0($6,$7,$8));},$2:function($p0,$p1){var $0=wwtlib.Vector3d.lerp($p1[this.b].position,$p1[this.c].position,0.5);var $1=wwtlib.Vector3d.lerp($p1[this.c].position,$p1[this.a].position,0.5);var $2=wwtlib.Vector3d.lerp($p1[this.a].position,$p1[this.b].position,0.5);var $3=wwtlib.Vector2d.lerp(wwtlib.Vector2d.create($p1[this.b].tu,$p1[this.b].tv),wwtlib.Vector2d.create($p1[this.c].tu,$p1[this.c].tv),0.5);var $4=wwtlib.Vector2d.lerp(wwtlib.Vector2d.create($p1[this.c].tu,$p1[this.c].tv),wwtlib.Vector2d.create($p1[this.a].tu,$p1[this.a].tv),0.5);var $5=wwtlib.Vector2d.lerp(wwtlib.Vector2d.create($p1[this.a].tu,$p1[this.a].tv),wwtlib.Vector2d.create($p1[this.b].tu,$p1[this.b].tv),0.5);var $6=$p1.length;var $7=$p1.length+1;var $8=$p1.length+2;$p1.add(wwtlib.PositionTexture.createPosRaw($0,$3.x,$3.y));$p1.add(wwtlib.PositionTexture.createPosRaw($1,$4.x,$4.y));$p1.add(wwtlib.PositionTexture.createPosRaw($2,$5.x,$5.y));$p0.add(wwtlib.wwtlib$7.$0(this.a,$8,$7));$p0.add(wwtlib.wwtlib$7.$0(this.b,$6,$8));$p0.add(wwtlib.wwtlib$7.$0(this.c,$7,$6));$p0.add(wwtlib.wwtlib$7.$0($6,$7,$8));}}
wwtlib.UiTools=function(){}
wwtlib.UiTools.getNamesStringFromArray=function(array){var $0='';var $1='';var $enum1=ss.IEnumerator.getEnumerator(array);while($enum1.moveNext()){var $2=$enum1.current;$0+=$1;$0+=$2;$1=';';}return $0;}
wwtlib.UiTools.solarSystemToMeters=function(SolarSystemCameraDistance){return SolarSystemCameraDistance*149598000*370;}
wwtlib.UiTools.metersToSolarSystemDistance=function(meters){return meters/370*149598000;}
wwtlib.UiTools.metersToZoom=function(meters){return ((meters/1000/370)-1E-06)/4*9;}
wwtlib.UiTools.formatDistance=function(distance){if(distance<0.1){var $0=(distance*149598000);if($0<10){var $1=parseInt(($0*1000));return $1.format('N1')+' m';}else{$0=parseInt($0);return $0.format('N1')+' km';}}else if(distance<(10)){var $2=parseInt((distance*10))/10;return $2.format('N1')+' au';}else if(distance<(63239.6717/10)){var $3=parseInt(distance);return $3.format('N1')+' au';}else if(distance<(63239.6717*10)){var $4=parseInt(((distance*10)/63239.6717))/10;return $4.format('N1')+' ly';}else if(distance<(63239.6717*1000000)){var $5=parseInt((distance/63239.6717));return $5.format('N1')+' ly';}else if(distance<(206264.806*10000000)){var $6=parseInt(((distance*10)/(206264.806*1000000)))/10;return $6.format('N1')+' Mpc';}else if(distance<(206264.806*1000000000)){var $7=parseInt((distance/(206264.806*1000000)));return $7.format('N1')+' Mpc';}else{var $8=parseInt(((distance*10)/(206264.806*1000000000)))/10;return $8.format('N1')+' Gpc';}}
wwtlib.UiTools.formatDecimalHours=function(dayFraction){var $0=Date.get_now();var $1=$0.getTimezoneOffset()/60;$1=0;var $2=(dayFraction-$1)+0.0083333334;while($2>24){$2-=24;}while($2<0){$2+=24;}var $3=parseInt($2);var $4=parseInt((($2*60)-($3*60)));var $5=parseInt((($2*3600)-(($3*3600)+($4*60))));return String.format('{0}:{1}',$3,$4,$5);}
wwtlib.UiTools.splitString=function(data,delimiter){var $0=[];var $1=0;var $2=0;var $3=0;var $4=0;while($2<data.length){if(data.substr($2,1)==='('){$1++;}if(data.substr($2,1)===')'){$1--;}if($2===(data.length-1)){$3++;}if($2===(data.length-1)||(data.substr($2,1)===delimiter&&delimiter==='\t')||(!$1&&data.substr($2,1)===delimiter)){$0.add(data.substr($4,$3));$4=$2+1;$3=0;}else{$3++;}$2++;}return $0;}
wwtlib.UiTools.split=function(data,delimiters){var $0=[];var $1=0;var $2=0;var $3=0;var $4=0;while($2<data.length){if($2===(data.length-1)){$3++;}if($2===(data.length-1)||delimiters.indexOf(data.substr($2,1))>-1){$0.add(data.substr($4,$3));$4=$2+1;$3=0;}else{$3++;}$2++;}return $0;}
wwtlib._Util=function(){}
wwtlib._Util.$0=function($p0){var $0=0;if(!$p0.length){return $0;}for(var $1=0;$1<$p0.length;$1++){var $2=$p0.charCodeAt($1);$0=(($0<<5)-$0)+$2;}return $0;}
wwtlib._Util.$1=function($p0,$p1){return Math.log($p0)/Math.log($p1);}
wwtlib._Util.$2=function($p0){return '';}
wwtlib._Util.$3=function($p0){if($p0.toLowerCase().startsWith('http')){return 'http://www.worldwidetelescope.org/webserviceproxy.aspx?targeturl='+encodeURIComponent($p0);}return $p0;}
wwtlib._Util.$4=function($p0){var $0=0;var $1=$p0.split(':');if($1.length===3){$0+=parseInt($1[0])*36000000;$0+=parseInt($1[1])*600000;$0+=parseInt((parseFloat($1[2])*1000));}return $0;}
wwtlib._Util.$5=function($p0,$p1){return 'http://www.worldwidetelescope.org/GetTourFile.aspx?targeturl='+encodeURIComponent($p0)+'&filename='+$p1;}
wwtlib._Util.$6=function($p0,$p1){var $0=null;try{$0=$p0.selectSingleNode($p1);}catch($1){var $enum2=ss.IEnumerator.getEnumerator($p0.childNodes);while($enum2.moveNext()){var $2=$enum2.current;if($2.nodeName===$p1){$0=$2;break;}}}return $0;}
wwtlib._Util.$7=function($p0){if(String.isNullOrEmpty($p0.text)){var $0=$p0;return $0.textContent;}else{return $p0.text;}}
wwtlib._Util.$8=function($p0,$p1,$p2){var $0=[];var $1=$p1.split(' ');var $2='';for(var $3=0;$3<$1.length;$3++){if(!String.isNullOrEmpty($1[$3])){if(!$2||$p0.measureText($2+' '+$1[$3]).width<$p2){$2+=' '+$1[$3];}else{$0.add($2);$2=$1[$3];}}}if(!!$2){$0.add($2);}return $0;}
wwtlib._Util.$9=function($p0){var $0=Math.max(0,Math.min(parseInt($p0),255));return '0123456789ABCDEF'.substr(($0-$0%16)/16,1)+'0123456789ABCDEF'.substr($0%16,1);}
wwtlib._Util.$A=function($p0){var $0=0;switch($p0.substr(1,1).toUpperCase()){case 'A':$0+=10;break;case 'B':$0+=11;break;case 'C':$0+=12;break;case 'D':$0+=13;break;case 'E':$0+=14;break;case 'F':$0+=15;break;default:$0+=parseInt($p0.substr(1,1));break;}switch($p0.substr(0,1).toUpperCase()){case 'A':$0+=10*16;break;case 'B':$0+=11*16;break;case 'C':$0+=12*16;break;case 'D':$0+=13*16;break;case 'E':$0+=14*16;break;case 'F':$0+=15*16;break;default:$0+=parseInt($p0.substr(0,1))*16;break;}return $0;}
wwtlib._Util.$B=function($p0,$p1){}
wwtlib._Util.$C=function($p0){return Math.log($p0)/2.30258509299405;}
wwtlib._Util.$D=function($p0){if($p0<0){return -1;}return 1;}
wwtlib.Rectangle=function(){}
wwtlib.Rectangle.create=function(x,y,width,height){var $0=new wwtlib.Rectangle();$0.x=x;$0.y=y;$0.width=width;$0.height=height;return $0;}
wwtlib.Rectangle.prototype={x:0,y:0,width:0,height:0,get_left:function(){return this.x;},get_right:function(){return this.x+this.width;},get_top:function(){return this.y;},get_bottom:function(){return this.y+this.height;},copy:function(){var $0=new wwtlib.Rectangle();$0.x=this.x;$0.y=this.y;$0.width=this.width;$0.height=this.height;return $0;}}
wwtlib.Guid=function(){this.$1=(wwtlib.Guid.$0++).toString();}
wwtlib.Guid.newGuid=function(){return new wwtlib.Guid();}
wwtlib.Guid.fromString=function(id){var $0=new wwtlib.Guid();$0.$1=id;return $0;}
wwtlib.Guid.prototype={toString:function(){return this.$1;}}
wwtlib.Mouse=function(){}
wwtlib.Mouse.offsetX=function(canvas,e){var $0=0;var $1=canvas;var $2=e;if($1.offsetParent!=null){do{$0+=$1.offsetLeft;}while(($1=$1.offsetParent)!=null);}return $2.pageX-$0;}
wwtlib.Mouse.offsetY=function(canvas,e){var $0=0;var $1=canvas;var $2=e;if($1.offsetParent!=null){do{$0+=$1.offsetTop;}while(($1=$1.offsetParent)!=null);}return $2.pageY-$0;}
wwtlib.VizLayer=function(){this.table=[];this.items=[];}
wwtlib.VizLayer.prototype={header:null,$0:null,$1:false,load:function(data){var $0=data.split('\r\n');this.$0=document.createElement('img');this.$0.addEventListener('load',ss.Delegate.create(this,function($p1_0){
this.$1=true;}),false);this.$0.src='images/starProfile.png';var $1=false;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;if($1){this.table.add($2.split('\t'));}else{this.header=$2.split('\t');$1=true;}}},$2:0,$3:1,$4:2,$5:3,$6:4,$7:null,$8:null,prepare:function(){this.$8=new Array(this.table.length);this.$7=new Array(this.table.length);var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.table);while($enum1.moveNext()){var $1=$enum1.current;var $2=new wwtlib.DataItem();$2.eventTime=Date.parseDate($1[this.$2]);var $3=(6371000-parseFloat($1[this.$5])*1000)/6371000;$2.location=wwtlib.Coordinates.geoTo3dRad(parseFloat($1[this.$3]),parseFloat($1[this.$4])+180,$3);$2.tranformed=new wwtlib.Vector3d();$2.size=Math.pow(2,parseFloat($1[this.$6]))/50;this.$8[$0]=$2.location;this.$7[$0]=$2.tranformed;this.items.add($2);$0++;}},draw:function(renderContext){if(!this.$1){return;}renderContext.device.save();renderContext.WVP.projectArrayToScreen(this.$8,this.$7);var $0=renderContext.device;$0.globalAlpha=0.4;var $1=renderContext.width;var $2=renderContext.height;var $3=wwtlib.Vector3d.makeCopy(renderContext.get_viewPoint());var $4=renderContext.get_fovScale()/100;var $enum1=ss.IEnumerator.getEnumerator(this.items);while($enum1.moveNext()){var $5=$enum1.current;if($5.tranformed.z<1){var $6=$5.tranformed.x;var $7=$5.tranformed.y;var $8=4*$5.size/$4;var $9=$8/2;if($6>-$9&&$6<$1+$9&&$7>-$9&&$7<$2+$9){$0.drawImage(this.$0,$6-$8/2,$7-$8/2,$8,$8);}}}renderContext.device.restore();}}
wwtlib.DataItem=function(){}
wwtlib.DataItem.prototype={eventTime:null,location:null,tranformed:null,color:null,size:0,getColor:function(){return 'Red';}}
wwtlib.WebFile=function(url){this.$0=url;}
wwtlib.WebFile.prototype={$0:null,$1:null,$2:0,$3:null,$4:null,$5:null,send:function(){var $0=navigator.appVersion;if($0.indexOf('MSIE 8')>-1||$0.indexOf('MSIE 9')>-1){this.$9();}else{this.$A();}this.set_state(0);},onStateChange:null,get_message:function(){return this.$1;},get_state:function(){return this.$2;},set_state:function(value){this.$2=value;if(this.onStateChange!=null){this.onStateChange();}return value;},$6:function($p0){this.$3=$p0;this.set_state(1);},$7:function(){this.$1=String.format('Error encountered loading {0}',this.$0);this.set_state(2);},$8:function(){this.$1=String.format('Timeout encountered loading {0}',this.$0);this.set_state(2);},$9:function(){this.$4=new XDomainRequest();this.$4.onload=ss.Delegate.create(this,function(){
this.$6(this.$4.responseText);});this.$4.onTimeout=ss.Delegate.create(this,this.$7);this.$4.onError=ss.Delegate.create(this,this.$8);this.$4.open('get',this.$0);this.$4.send();},$A:function(){this.$5=new XMLHttpRequest();try{this.$5.open('GET',this.$0);this.$5.onreadystatechange=ss.Delegate.create(this,function(){
if(this.$5.readyState===4){this.$6(this.$5.responseText);}});this.$5.send();}catch($0){this.$1=$0.message;this.set_state(2);throw $0;}},getText:function(){return this.$3;},getXml:function(){return ss.parseXml(this.$3);}}
wwtlib._Wtml=function(){}
wwtlib._Wtml.$0=function($p0,$p1){var $0=new wwtlib.Folder();$0.loadFromUrl($p0,function(){
wwtlib._Wtml.$1($0);$p1();});}
wwtlib._Wtml.$1=function($p0){var $enum1=ss.IEnumerator.getEnumerator($p0.get_children());while($enum1.moveNext()){var $0=$enum1.current;var $1=null;if(Type.canCast($0,wwtlib.Imageset)){$1=$0;wwtlib.WWTControl.imageSets.add($1);}if(Type.canCast($0,wwtlib.Place)){var $2=$0;if($2.get_studyImageset()!=null){wwtlib.WWTControl.imageSets.add($2.get_studyImageset());}if($2.get_backgroundImageset()!=null){wwtlib.WWTControl.imageSets.add($2.get_backgroundImageset());}}}if(!String.isNullOrEmpty(wwtlib.WWTControl.imageSetName)){var $3=wwtlib.WWTControl.imageSetName.toLowerCase();var $enum2=ss.IEnumerator.getEnumerator(wwtlib.WWTControl.imageSets);while($enum2.moveNext()){var $4=$enum2.current;if($4.get_name().toLowerCase()===$3){wwtlib.WWTControl.singleton.renderContext.set_backgroundImageset($4);}}}}
wwtlib.WWTControl=function(){this.$0=[];this.layers=[];this.renderType=2;this.$18=new wwtlib.Vector2d();this.$19=new Date(1900,1,0,0,0,0,0);this.$1C=new Array(2);this.$1E=new Array(2);this.$29=65536;}
wwtlib.WWTControl.get_renderNeeded=function(){return wwtlib.WWTControl.$B;}
wwtlib.WWTControl.set_renderNeeded=function(value){wwtlib.WWTControl.$B=true;return value;}
wwtlib.WWTControl.showExplorerUI=function(){if(wwtlib.WWTControl.singleton!=null){wwtlib.WWTControl.singleton.createExplorerUI();}}
wwtlib.WWTControl.initControl=function(DivId){return wwtlib.WWTControl.initControlParam(DivId,false);}
wwtlib.WWTControl.initControlParam=function(DivId,webGL){if(wwtlib.WWTControl.singleton.renderContext.device==null){wwtlib.WWTControl.scriptInterface=new wwtlib.ScriptInterface();wwtlib.WWTControl.scriptInterface.settings=wwtlib.Settings.get_current();var $0=wwtlib.WWTControl.$26(DivId);var $1='experimental-webgl';var $2=null;webGL=false;if(webGL){$2=$0.getContext($1);}if($2==null){var $3=$0.getContext('2d');wwtlib.WWTControl.singleton.renderContext.device=$3;}else{wwtlib.Tile.prepDevice=$2;wwtlib.WWTControl.singleton.renderContext.gl=$2;}wwtlib.WWTControl.singleton.canvas=$0;wwtlib.WWTControl.singleton.renderContext.width=$0.width;wwtlib.WWTControl.singleton.renderContext.height=$0.height;wwtlib.WWTControl.singleton.setup($0);wwtlib.WWTControl.singleton.renderContext.set_backgroundImageset(wwtlib.Imageset.create('DSS','http://cdn.worldwidetelescope.org/wwtweb/dss.aspx?q={1},{2},{3}',2,3,3,100,0,12,256,180,'.png',false,'',0,0,0,false,'http://www.worldwidetelescope.org/thumbnails/DSS.png',true,false,0,0,0,'','','','',1,'Sky'));if(wwtlib.WWTControl.startMode==='earth'){wwtlib.WWTControl.singleton.renderContext.set_backgroundImageset(wwtlib.Imageset.create('Blue Marble','http://www.worldwidetelescope.org/wwtweb/tiles.aspx?q={1},{2},{3},bm200407',0,3,3,101,0,7,256,180,'.png',false,'',0,0,0,false,'http://www.worldwidetelescope.org/wwtweb/thumbnail.aspx?name=bm200407',true,false,0,0,0,'','','','',6371000,'Earth'));}if(wwtlib.WWTControl.startMode==='bing'){wwtlib.WWTControl.singleton.renderContext.set_backgroundImageset(wwtlib.Imageset.create('Virtual Earth Aerial','http://a{0}.ortho.tiles.virtualearth.net/tiles/a{1}.jpeg?g=15',0,3,0,102,1,20,256,360,'.png',false,'0123',0,0,0,false,'http://www.worldwidetelescope.org/wwtweb/thumbnail.aspx?name=earth',true,false,0,0,0,'','','','',6371000,'Earth'));}}wwtlib.WWTControl.singleton.renderContext.viewCamera.lng+=0;wwtlib.WWTControl.singleton.renderContext.$1C();wwtlib.WWTControl.singleton.render();return wwtlib.WWTControl.scriptInterface;}
wwtlib.WWTControl.useUserLocation=function(){navigator.geolocation.getCurrentPosition(wwtlib.WWTControl.$24,wwtlib.WWTControl.$25);}
wwtlib.WWTControl.$24=function($p0){wwtlib.Settings.get_global().set_locationLat($p0.coords.latitude);wwtlib.Settings.get_global().set_locationLng($p0.coords.longitude);wwtlib.Settings.get_global().set_locationAltitude($p0.coords.altitude);}
wwtlib.WWTControl.$25=function($p0){var $0=$p0.coords.latitude;var $1=$p0.coords.longitude;}
wwtlib.WWTControl.$26=function($p0){var $0=null;var $1=document.getElementById($p0);var $2=$1.attributes.getNamedItem('style');$0=document.createElement('canvas');$0.height=parseInt($1.style.height);$0.width=parseInt($1.style.width);$1.appendChild($0);return $0;}
wwtlib.WWTControl.showFolderUI=function(){wwtlib.WWTControl.singleton.createExplorerUI();}
wwtlib.WWTControl.go=function(mode,lat,lng,zoom){if(mode!=null&&mode.length>0){wwtlib.WWTControl.startMode=mode;}if(!!zoom){wwtlib.WWTControl.startLat=lat;wwtlib.WWTControl.startLng=lng;wwtlib.WWTControl.startZoom=zoom*6;}}
wwtlib.WWTControl.setBackgroundImageName=function(name){wwtlib.WWTControl.imageSetName=name;}
wwtlib.WWTControl.setForegroundImageName=function(name){wwtlib.WWTControl.imageSetName=name;}
wwtlib.WWTControl.showLayers=function(show){wwtlib.WWTControl.showDataLayers=show;}
wwtlib.WWTControl.prototype={renderContext:null,canvas:null,explorer:null,uiController:null,$1:function($p0){this.$0.add($p0);},$2:function($p0){this.$0.remove($p0);},$3:function(){this.$0.clear();},$4:null,$5:0,$6:360,$7:10000000000000000,get_$8:function(){if(this.renderContext.get_backgroundImageset()!=null&&this.renderContext.get_backgroundImageset().get_dataSetType()===4){return this.$7;}else{return this.$6;}},$9:0.001373291015625,$A:0.0001,get_zoomMin:function(){if(this.renderContext.get_backgroundImageset()!=null&&this.renderContext.get_backgroundImageset().get_dataSetType()===4){return this.$A/10000;}else{return this.$9;}},set_zoomMin:function(value){this.$9=value;return value;},constellation:'UMA',$C:function(){},$D:null,render:function(){if(this.renderContext.get_backgroundImageset()!=null){this.renderType=this.renderContext.get_backgroundImageset().get_dataSetType();}else{this.renderType=2;}var $0=false;if(this.canvas.width!==parseInt(this.canvas.parentNode.style.width)){this.canvas.width=parseInt(this.canvas.parentNode.style.width);$0=true;}if(this.canvas.height!==parseInt(this.canvas.parentNode.style.height)){this.canvas.height=parseInt(this.canvas.parentNode.style.height);$0=true;}if($0){if(this.explorer!=null){this.explorer.refresh();}}wwtlib.Tile.lastDeepestLevel=wwtlib.Tile.deepestLevel;wwtlib.RenderTriangle.width=this.renderContext.width=this.canvas.width;wwtlib.RenderTriangle.height=this.renderContext.height=this.canvas.height;wwtlib.Tile.tilesInView=0;wwtlib.Tile.tilesTouched=0;wwtlib.Tile.deepestLevel=0;if(this.get_$2B()!=null){wwtlib.SpaceTimeController.set_now(this.get_$2B().get_currentDateTime());wwtlib.Planets.updatePlanetLocations(this.get_solarSystemMode());if(this.get_$2B()!=null){var $5=this.get_$2B().get_currentPosition();this.renderContext.targetCamera=$5.copy();this.renderContext.viewCamera=$5.copy();if(this.renderContext.space&&wwtlib.Settings.get_active().get_galacticMode()){var $6=wwtlib.Coordinates.j2000toGalactic($5.get_RA()*15,$5.get_dec());this.renderContext.targetAlt=this.renderContext.alt=$6[1];this.renderContext.targetAz=this.renderContext.az=$6[0];}else if(this.renderContext.space&&wwtlib.Settings.get_active().get_localHorizonMode()){var $7=wwtlib.Coordinates.equitorialToHorizon(wwtlib.Coordinates.fromRaDec($5.get_RA(),$5.get_dec()),wwtlib.SpaceTimeController.get_location(),wwtlib.SpaceTimeController.get_now());this.renderContext.targetAlt=this.renderContext.alt=$7.get_alt();this.renderContext.targetAz=this.renderContext.az=$7.get_az();}if(this.get_$2B().get_complete()){wwtlib.WWTControl.scriptInterface.$10(this.get_$2B().get_currentPosition().get_RA(),this.get_$2B().get_currentPosition().get_dec(),wwtlib.WWTControl.singleton.renderContext.viewCamera.zoom);this.set_$2B(null);this.$C();}}}else{wwtlib.SpaceTimeController.updateClock();wwtlib.Planets.updatePlanetLocations(this.get_solarSystemMode());this.$11();}this.renderContext.clear();if(this.renderType===4){if(this.$29<20){var $E=wwtlib.Planets.getAdjustedPlanetRadius(this.$29);var $F=this.renderContext.get_solarSystemCameraDistance();var $10=this.renderContext.get_fovLocal();var $11=$F/($E*Math.tan(0.5*$10));}if(this.$28==null){}this.renderContext.setupMatricesSolarSystem(true);var $8=this.renderContext.viewCamera.zoom;var $9=Math.min(1,Math.max(0,(Math.log($8)-8.4))/4.2);var $A=Math.min(1,Math.max(0,(Math.log($8)-17.9))/2.3);var $B=this.renderContext.get_world();var $C=this.renderContext.get_world().clone();$C.$21(wwtlib.Matrix3d.$1F(100000,100000,100000));$C.$21(wwtlib.Matrix3d.$1D(23.5/180*Math.PI));$C.$21(wwtlib.Matrix3d.translation(this.renderContext.cameraPosition));this.renderContext.set_world($C);this.renderContext.set_worldBase($C);this.renderContext.space=true;this.renderContext.makeFrustum();var $D=this.renderContext.lighting;this.renderContext.lighting=false;if(wwtlib.Settings.get_active().get_solarSystemMilkyWay()){if($9<1){if(this.$D==null){this.$D=this.getImagesetByName('Digitized Sky Survey (Color)');}if(this.$D!=null){wwtlib.RenderTriangle.cullInside=true;var $12=(1-$9)/2;this.renderContext.drawImageSet(this.$D,100);wwtlib.RenderTriangle.cullInside=false;}}}this.$E();this.renderContext.lighting=$D;this.renderContext.space=false;this.renderContext.set_world($B);this.renderContext.set_worldBase($B);this.renderContext.makeFrustum();if(this.renderContext.get_solarSystemCameraDistance()<15000){this.renderContext.setupMatricesSolarSystem(false);wwtlib.Planets.drawPlanets3D(this.renderContext,1,this.renderContext.viewCamera.viewTarget);}}else{if(!this.renderType||this.renderType===1){this.renderContext.$11();}else{this.renderContext.setupMatricesSpace3d(this.renderContext.width,this.renderContext.height);}this.renderContext.drawImageSet(this.renderContext.get_backgroundImageset(),100);if(this.renderContext.get_foregroundImageset()!=null){if(this.renderContext.viewCamera.opacity!==100&&this.renderContext.gl==null){if(this.$12.width!==this.renderContext.width||this.$12.height!==this.renderContext.height){this.$12.width=parseInt(this.renderContext.width);this.$12.height=parseInt(this.renderContext.height);}var $13=this.renderContext.device;this.$13.clearRect(0,0,this.renderContext.width,this.renderContext.height);this.renderContext.device=this.$13;this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(),100);this.renderContext.device=$13;this.renderContext.device.save();this.renderContext.device.globalAlpha=this.renderContext.viewCamera.opacity/100;this.renderContext.device.drawImage(this.$12,0,0);this.renderContext.device.restore();}else{this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(),this.renderContext.viewCamera.opacity);}}if(this.renderType===2){wwtlib.Planets.drawPlanets(this.renderContext,1);this.constellation=wwtlib.Constellations.containment.findConstellationForPoint(this.renderContext.viewCamera.get_RA(),this.renderContext.viewCamera.get_dec());this.$E();wwtlib.LayerManager.$E(this.renderContext,1,true,'Sky',true,true);}if(!this.renderType){wwtlib.LayerManager.$E(this.renderContext,1,false,'Earth',false,false);}if(wwtlib.Settings.get_current().get_showCrosshairs()){this.$34(this.renderContext);}if(this.uiController!=null){this.uiController.render(this.renderContext);}else{var $14=0;var $enum1=ss.IEnumerator.getEnumerator(this.$0);while($enum1.moveNext()){var $15=$enum1.current;$15.draw(this.renderContext);$14++;}if((Date.get_now()-this.$19)>400){var $16=this.getCoordinatesForScreenPoint(this.$18.x,this.$18.y);this.$1A($16.x,$16.y,this.$18.x,this.$18.y);this.$19=new Date(2100,1,1);}if(!String.isNullOrEmpty(this.$17)){this.$F(this.renderContext);}}}var $1=wwtlib.Tile.tilesInView;var $2=wwtlib.Tile.tilesTouched;this.$5++;wwtlib.wwtlib$3.$12();wwtlib.wwtlib$3.$7(this.renderContext);wwtlib.Tile.currentRenderGeneration++;var $3=Date.get_now();var $4=$3-this.$4;if($4>1000){var $17=(this.$5/$4)*1000;var $18=(wwtlib.RenderTriangle.trianglesRendered/$4)*100;var $19=parseInt((wwtlib.RenderTriangle.trianglesCulled/(wwtlib.RenderTriangle.trianglesCulled+wwtlib.RenderTriangle.trianglesRendered)*100));this.$4=$3;this.$5=0;wwtlib.RenderTriangle.trianglesRendered=0;wwtlib.RenderTriangle.trianglesCulled=0;}window.setTimeout(ss.Delegate.create(this,function(){
this.render();}),0);},$E:function(){if(wwtlib.Settings.get_active().get_showConstellationPictures()){wwtlib.Constellations.drawArtwork(this.renderContext);}if(wwtlib.Settings.get_active().get_showConstellationFigures()){if(wwtlib.WWTControl.constellationsFigures==null){wwtlib.WWTControl.constellationsFigures=wwtlib.Constellations.create('Constellations','http://www.worldwidetelescope.org/data/figures.txt',false,false,false);}wwtlib.WWTControl.constellationsFigures.draw(this.renderContext,false,'UMA',false);}if(wwtlib.Settings.get_active().get_showEclipticGrid()){wwtlib.Grids.drawEclipticGrid(this.renderContext,1,wwtlib.Colors.get_green());if(wwtlib.Settings.get_active().get_showEclipticGridText()){wwtlib.Grids.drawEclipticGridText(this.renderContext,1,wwtlib.Colors.get_green());}}if(wwtlib.Settings.get_active().get_showGalacticGrid()){wwtlib.Grids.drawGalacticGrid(this.renderContext,1,wwtlib.Colors.get_cyan());if(wwtlib.Settings.get_active().get_showGalacticGridText()){wwtlib.Grids.drawGalacticGridText(this.renderContext,1,wwtlib.Colors.get_cyan());}}if(wwtlib.Settings.get_active().get_showAltAzGrid()){wwtlib.Grids.drawAltAzGrid(this.renderContext,1,wwtlib.Colors.get_magenta());if(wwtlib.Settings.get_active().get_showAltAzGridText()){wwtlib.Grids.drawAltAzGridText(this.renderContext,1,wwtlib.Colors.get_magenta());}}if(wwtlib.Settings.get_active().get_showPrecessionChart()){wwtlib.Grids.drawPrecessionChart(this.renderContext,1,wwtlib.Colors.get_orange());}if(wwtlib.Settings.get_active().get_showEcliptic()){wwtlib.Grids.drawEcliptic(this.renderContext,1,wwtlib.Colors.get_blue());if(wwtlib.Settings.get_active().get_showEclipticOverviewText()){wwtlib.Grids.drawEclipticText(this.renderContext,1,wwtlib.Colors.get_blue());}}if(wwtlib.Settings.get_active().get_showGrid()){wwtlib.Grids.drawEquitorialGrid(this.renderContext,1,wwtlib.Colors.get_white());if(wwtlib.Settings.get_active().get_showEquatorialGridText()){wwtlib.Grids.drawEquitorialGridText(this.renderContext,1,wwtlib.Colors.get_white());}}if(wwtlib.Settings.get_active().get_showConstellationBoundries()){if(wwtlib.WWTControl.constellationsBoundries==null){wwtlib.WWTControl.constellationsBoundries=wwtlib.Constellations.create('Constellations','http://www.worldwidetelescope.org/data/constellations.txt',true,false,false);}wwtlib.WWTControl.constellationsBoundries.draw(this.renderContext,wwtlib.Settings.get_active().get_showConstellationSelection(),this.constellation,false);}if(wwtlib.Settings.get_active().get_showConstellationLabels()){wwtlib.Constellations.drawConstellationNames(this.renderContext,1,wwtlib.Colors.get_yellow());}},$F:function($p0){if($p0.gl==null){var $0=$p0.device;$0.save();$0.fillStyle='White';$0.font='15px Arial';$0.fillText(this.$17,this.$18.x,this.$18.y);$0.restore();}},rAtoViewLng:function(ra){return (((180-(ra/24*360)-180)+540)%360)-180;},$11:function(){if(this.renderContext.space&&this.$27&&this.$28!=null){if(wwtlib.Settings.get_active().get_galacticMode()&&this.renderContext.space){var $2=wwtlib.Coordinates.j2000toGalactic(this.$28.get_RA()*15,this.$28.get_dec());this.renderContext.targetAlt=this.renderContext.alt=$2[1];this.renderContext.targetAz=this.renderContext.az=$2[0];}else if(this.renderContext.space&&wwtlib.Settings.get_active().get_localHorizonMode()){var $3=wwtlib.Coordinates.equitorialToHorizon(wwtlib.Coordinates.fromRaDec(this.$28.get_RA(),this.$28.get_dec()),wwtlib.SpaceTimeController.get_location(),wwtlib.SpaceTimeController.get_now());this.renderContext.targetAlt=$3.get_alt();this.renderContext.targetAz=$3.get_az();}else{this.renderContext.viewCamera.lng=this.renderContext.targetCamera.lng=this.rAtoViewLng(this.$28.get_RA());this.renderContext.viewCamera.lat=this.renderContext.targetCamera.lat=this.$28.get_dec();}}else if(!this.get_solarSystemMode()){this.$27=false;this.$28=null;}var $0=1-0.8;var $1=0.8;if(!this.$27){var $4=(this.renderContext.viewCamera.zoom/4000);if(this.renderContext.viewCamera.zoom>360){$4=(360/40000);}if(this.renderContext.space&&(wwtlib.Settings.get_active().get_localHorizonMode()||wwtlib.Settings.get_active().get_galacticMode())){if((((Math.abs(this.renderContext.targetAlt-this.renderContext.alt)>=$4)|(Math.abs(this.renderContext.targetAz-this.renderContext.az)>=$4))===1)){this.renderContext.alt+=(this.renderContext.targetAlt-this.renderContext.alt)/10;if(Math.abs(this.renderContext.targetAz-this.renderContext.az)>170){if(this.renderContext.targetAz>this.renderContext.az){this.renderContext.az+=(this.renderContext.targetAz-(360+this.renderContext.az))/10;}else{this.renderContext.az+=((360+this.renderContext.targetAz)-this.renderContext.az)/10;}}else{this.renderContext.az+=(this.renderContext.targetAz-this.renderContext.az)/10;}this.renderContext.az=((this.renderContext.az+720)%360);}}else{if((((Math.abs(this.renderContext.targetCamera.lat-this.renderContext.viewCamera.lat)>=$4)|(Math.abs(this.renderContext.targetCamera.lng-this.renderContext.viewCamera.lng)>=$4))===1)){this.renderContext.viewCamera.lat+=(this.renderContext.targetCamera.lat-this.renderContext.viewCamera.lat)/10;if(Math.abs(this.renderContext.targetCamera.lng-this.renderContext.viewCamera.lng)>170){if(this.renderContext.targetCamera.lng>this.renderContext.viewCamera.lng){this.renderContext.viewCamera.lng+=(this.renderContext.targetCamera.lng-(360+this.renderContext.viewCamera.lng))/10;}else{this.renderContext.viewCamera.lng+=((360+this.renderContext.targetCamera.lng)-this.renderContext.viewCamera.lng)/10;}}else{this.renderContext.viewCamera.lng+=(this.renderContext.targetCamera.lng-this.renderContext.viewCamera.lng)/10;}this.renderContext.viewCamera.lng=((this.renderContext.viewCamera.lng+720)%360);}else{if(this.renderContext.viewCamera.lat!==this.renderContext.targetCamera.lat||this.renderContext.viewCamera.lng!==this.renderContext.targetCamera.lng){this.renderContext.viewCamera.lat=this.renderContext.targetCamera.lat;this.renderContext.viewCamera.lng=this.renderContext.targetCamera.lng;}}}}this.renderContext.viewCamera.zoom=$1*this.renderContext.viewCamera.zoom+$0*this.renderContext.targetCamera.zoom;this.renderContext.viewCamera.rotation=$1*this.renderContext.viewCamera.rotation+$0*this.renderContext.targetCamera.rotation;this.renderContext.viewCamera.angle=$1*this.renderContext.viewCamera.angle+$0*this.renderContext.targetCamera.angle;},move:function(x,y){var $0=this.renderContext.get_fovScale()/(3600);if(this.renderContext.get_backgroundImageset().get_dataSetType()===4){$0=0.06;}var $1=$0/Math.max(0.2,Math.cos(this.renderContext.viewCamera.lat/180*Math.PI));if(!this.renderContext.get_backgroundImageset().get_dataSetType()||this.renderContext.get_backgroundImageset().get_dataSetType()===1||this.renderContext.get_backgroundImageset().get_dataSetType()===4){$1=$1*6.3;$0=$0*6.3;}if(this.renderContext.space&&(wwtlib.Settings.get_active().get_galacticMode()||wwtlib.Settings.get_active().get_localHorizonMode())){x=(wwtlib.Settings.get_active().get_localHorizonMode())?-x:x;this.renderContext.targetAz+=x*$1;this.renderContext.targetAz=((this.renderContext.targetAz+720)%360);this.renderContext.targetAlt+=y*$0;if(this.renderContext.targetAlt>90){this.renderContext.targetAlt=90;}if(this.renderContext.targetAlt<-90){this.renderContext.targetAlt=-90;}}else{this.renderContext.targetCamera.lng-=x*$1;this.renderContext.targetCamera.lng=((this.renderContext.targetCamera.lng+720)%360);this.renderContext.targetCamera.lat+=y*$0;if(this.renderContext.targetCamera.lat>90){this.renderContext.targetCamera.lat=90;}if(this.renderContext.targetCamera.lat<-90){this.renderContext.targetCamera.lat=-90;}}if(!wwtlib.Settings.get_global().get_smoothPan()){this.renderContext.viewCamera=this.renderContext.targetCamera.copy();}if(!!x&&!!y){this.$27=false;this.$28=null;}},zoom:function(factor){this.renderContext.targetCamera.zoom*=factor;if(this.renderContext.targetCamera.zoom>360){this.renderContext.targetCamera.zoom=360;}if(!wwtlib.Settings.get_global().get_smoothPan()){this.renderContext.viewCamera=this.renderContext.targetCamera.copy();}},$12:null,$13:null,$14:null,setup:function(canvas){canvas.addEventListener('dblclick',ss.Delegate.create(this,this.onDoubleClick),false);canvas.addEventListener('mousedown',ss.Delegate.create(this,this.onMouseDown),false);canvas.addEventListener('mousewheel',ss.Delegate.create(this,this.onMouseWheel),false);canvas.addEventListener('DOMMouseScroll',ss.Delegate.create(this,this.onMouseWheel),false);canvas.addEventListener('touchstart',ss.Delegate.create(this,this.onTouchStart),false);canvas.addEventListener('touchmove',ss.Delegate.create(this,this.onTouchMove),false);canvas.addEventListener('touchend',ss.Delegate.create(this,this.onTouchEnd),false);canvas.addEventListener('gesturechange',ss.Delegate.create(this,this.onGestureChange),false);canvas.addEventListener('gesturestart',ss.Delegate.create(this,this.onGestureStart),false);canvas.addEventListener('gestureend',ss.Delegate.create(this,this.onGestureEnd),false);document.body.addEventListener('keydown',ss.Delegate.create(this,this.onKeyDown),false);canvas.addEventListener('pointerdown',ss.Delegate.create(this,this.onPointerDown),false);canvas.addEventListener('pointermove',ss.Delegate.create(this,this.onPointerMove),false);canvas.addEventListener('pointerup',ss.Delegate.create(this,this.onPointerUp),false);this.renderContext.viewCamera.lat=wwtlib.WWTControl.startLat;this.renderContext.viewCamera.lng=wwtlib.WWTControl.startLng;this.renderContext.viewCamera.zoom=wwtlib.WWTControl.startZoom;this.renderContext.targetCamera=this.renderContext.viewCamera.copy();if(this.renderContext.gl==null){this.$12=document.createElement('canvas');this.$12.width=canvas.width;this.$12.height=canvas.height;this.$13=this.$12.getContext('2d');}this.$14=new wwtlib.Folder();this.$14.loadFromUrl('http://www.worldwidetelescope.org/wwtweb/catalog.aspx?X=ImageSets5',ss.Delegate.create(this,this.setupComplete));var $0=new wwtlib.WebFile('http://www.worldwidetelescope.org/wwtweb/weblogin.aspx?user=12345678-03D2-4935-8D0F-DCE54C9113E5&Version=HTML5&webkey=AX2011Gqqu&platform=web');$0.send();},setupComplete:function(){wwtlib._Wtml.$1(this.$14);wwtlib.WWTControl.scriptInterface.$2();},createExplorerUI:function(){if(this.explorer==null){this.explorer=wwtlib.FolderBrowser.create();var $0=document.getElementById('UI');$0.insertBefore(this.explorer.canvas);wwtlib.WWTControl.exploreRoot=new wwtlib.Folder();wwtlib.WWTControl.exploreRoot.loadFromUrl('http://www.worldwidetelescope.org/wwtweb/catalog.aspx?W=NewExploreRoot',ss.Delegate.create(this,function(){
this.explorer.$20(wwtlib.WWTControl.exploreRoot.get_children());this.explorer.refresh();}));}},onKeyDown:function(e){if(this.uiController!=null){this.uiController.keyDown(this,e);}},onDoubleClick:function(e){wwtlib.WWTControl.showDataLayers=true;},onGestureStart:function(e){this.$1F=false;this.$15=this.renderContext.viewCamera.zoom;},$15:1,onGestureChange:function(e){var $0=e;this.$1F=false;this.renderContext.targetCamera.zoom=this.renderContext.viewCamera.zoom=Math.min(360,this.$15*(1/$0.scale));},onGestureEnd:function(e){var $0=e;this.$1F=false;},$16:function($p0,$p1,$p2,$p3){if(this.$0!=null&&this.$0.length>0){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.$0);while($enum1.moveNext()){var $1=$enum1.current;if($1.hitTest(this.renderContext,$p0,$p1,$p2,$p3)){wwtlib.WWTControl.scriptInterface.$11($p0,$p1,$1.get_id());return true;}$0++;}}return false;},$17:'',$1A:function($p0,$p1,$p2,$p3){if(this.$0!=null&&this.$0.length>0){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.$0);while($enum1.moveNext()){var $1=$enum1.current;if($1.hitTest(this.renderContext,$p0,$p1,$p2,$p3)){this.$17=$1.get_label();this.$18=wwtlib.Vector2d.create($p2,$p3);return true;}$0++;}}return false;},$1B:false,onTouchStart:function(e){var $0=e;$0.preventDefault();$0.stopPropagation();this.$20=$0.targetTouches[0].pageX;this.$21=$0.targetTouches[0].pageY;if($0.targetTouches.length===2){this.$1B=true;return;}else if(this.uiController!=null){var $1=new wwtlib.WWTElementEvent(this.$20,this.$21);if(this.uiController.mouseDown(this,$1)){this.$1F=false;this.$1D=false;return;}}this.$1F=true;},onPointerDown:function(e){var $0=e;var $1=0;if(!this.$1C[0]){this.$1C[0]=$0.pointerId;$1=0;}else{if(!this.$1C[1]){this.$1C[1]=$0.pointerId;$1=1;}else{return;}}this.$1E[$1]=wwtlib.Vector2d.create(e.offsetX,e.offsetY);},onPointerMove:function(e){var $0=e;var $1=0;if(this.$1C[0]===$0.pointerId){$1=0;}else{if(this.$1C[1]===$0.pointerId){$1=1;}else{return;}}if(!!this.$1C[0]&&!!this.$1C[1]){if(this.$1E[0]!=null){var $2=this.getDistance(this.$1E[0],this.$1E[1]);this.$1E[$1]=wwtlib.Vector2d.create(e.offsetX,e.offsetY);var $3=this.getDistance(this.$1E[0],this.$1E[1]);var $4=$2/$3;this.zoom($4);}e.stopPropagation();e.preventDefault();}this.$1E[$1]=wwtlib.Vector2d.create(e.offsetX,e.offsetY);},onPointerUp:function(e){var $0=e;if(this.$1C[0]===$0.pointerId){this.$1C[0]=0;}else{if(this.$1C[1]===$0.pointerId){this.$1C[1]=0;}else{return;}}},$1D:false,onTouchMove:function(e){var $0=e;if(this.$1B){this.pinchMove($0);return;}$0.preventDefault();$0.stopPropagation();if(this.$1F){this.$1D=true;var $1=$0.targetTouches[0].pageX-this.$20;var $2=$0.targetTouches[0].pageY-this.$21;this.move($1,$2);this.$20=$0.targetTouches[0].pageX;this.$21=$0.targetTouches[0].pageY;}else{if(this.uiController!=null){if(this.uiController.mouseMove(this,e)){e.preventDefault();e.stopPropagation();return;}}}},onTouchEnd:function(e){var $0=e;$0.preventDefault();$0.stopPropagation();this.$1E=new Array(2);if(this.$1B){if($0.touches.length<2){this.$1B=false;}return;}if(this.uiController!=null){var $1=new wwtlib.WWTElementEvent(this.$20,this.$21);if(this.uiController.mouseUp(this,$1)){this.$1F=false;this.$1D=false;return;}}this.$1F=false;this.$1D=false;},pinchStart:function(ev){var $0=ev.touches[0];var $1=ev.touches[1];this.$1E[0]=wwtlib.Vector2d.create($0.pageX,$0.pageY);this.$1E[1]=wwtlib.Vector2d.create($1.pageX,$1.pageY);ev.stopPropagation();ev.preventDefault();},pinchMove:function(ev){var $0=ev.touches[0];var $1=ev.touches[1];var $2=new Array(2);$2[0]=wwtlib.Vector2d.create($0.pageX,$0.pageY);$2[1]=wwtlib.Vector2d.create($1.pageX,$1.pageY);if(this.$1E[0]!=null){var $3=this.getDistance(this.$1E[0],this.$1E[1]);var $4=this.getDistance($2[0],$2[1]);var $5=$3/$4;this.zoom($5);}this.$1E=$2;ev.stopPropagation();ev.preventDefault();},getDistance:function(a,b){var $0;var $1;$0=a.x-b.x;$1=a.y-b.y;return Math.sqrt($0*$0+$1*$1);},$1F:false,$20:0,$21:0,onMouseDown:function(e){document.addEventListener('mousemove',ss.Delegate.create(this,this.onMouseMove),false);document.addEventListener('mouseup',ss.Delegate.create(this,this.onMouseUp),false);if(this.uiController!=null){if(this.uiController.mouseDown(this,e)){return;}}this.$1F=true;this.$20=wwtlib.Mouse.offsetX(this.canvas,e);this.$21=wwtlib.Mouse.offsetY(this.canvas,e);},onMouseMove:function(e){this.$19=Date.get_now();this.$18=wwtlib.Vector2d.create(wwtlib.Mouse.offsetX(this.canvas,e),wwtlib.Mouse.offsetY(this.canvas,e));this.$17='';if(this.$1F){e.preventDefault();e.stopPropagation();this.$23=true;if(e.ctrlKey){this.$22(wwtlib.Mouse.offsetX(this.canvas,e)-this.$20,wwtlib.Mouse.offsetY(this.canvas,e)-this.$21);}else{this.move(wwtlib.Mouse.offsetX(this.canvas,e)-this.$20,wwtlib.Mouse.offsetY(this.canvas,e)-this.$21);}this.$20=wwtlib.Mouse.offsetX(this.canvas,e);this.$21=wwtlib.Mouse.offsetY(this.canvas,e);}else{if(this.uiController!=null){if(this.uiController.mouseMove(this,e)){e.preventDefault();e.stopPropagation();return;}}}},$22:function($p0,$p1){this.renderContext.targetCamera.rotation+=$p0*0.001;this.renderContext.targetCamera.angle+=$p1*0.001;if(this.renderContext.targetCamera.angle<-1.52){this.renderContext.targetCamera.angle=-1.52;}if(this.renderContext.targetCamera.angle>0){this.renderContext.targetCamera.angle=0;}},$23:false,onMouseUp:function(e){document.removeEventListener('mousemove',ss.Delegate.create(this,this.onMouseMove),false);document.removeEventListener('mouseup',ss.Delegate.create(this,this.onMouseUp),false);if(this.uiController!=null){if(this.uiController.mouseUp(this,e)){this.$1F=false;return;}}if(this.$1F&&!this.$23){var $0=this.getCoordinatesForScreenPoint(wwtlib.Mouse.offsetX(this.canvas,e),wwtlib.Mouse.offsetY(this.canvas,e));if(!this.$16($0.x,$0.y,wwtlib.Mouse.offsetX(this.canvas,e),wwtlib.Mouse.offsetY(this.canvas,e))){wwtlib.WWTControl.scriptInterface.$F($0.x,$0.y);}}this.$1F=false;this.$23=false;},getCoordinatesForScreenPoint:function(x,y){var $0;var $1;var $2;var $3=wwtlib.Vector2d.create(x,y);$2=this.transformPickPointToWorldSpace($3,this.renderContext.width,this.renderContext.height);$0=wwtlib.Coordinates.cartesianToSphericalSky($2);return $0;},transformPickPointToWorldSpace:function(ptCursor,backBufferWidth,backBufferHeight){var $0;var $1;var $2=new wwtlib.Vector3d();$2.x=(((2*ptCursor.x)/backBufferWidth)-1)/this.renderContext.get_projection().get_m11();$2.y=(((2*ptCursor.y)/backBufferHeight)-1)/this.renderContext.get_projection().get_m22();$2.z=1;var $3=wwtlib.Matrix3d.multiplyMatrix(this.renderContext.get_view(),this.renderContext.get_world());$3.invert();$1=new wwtlib.Vector3d();$0=new wwtlib.Vector3d();$1.x=$2.x*$3.get_m11()+$2.y*$3.get_m21()+$2.z*$3.get_m31();$1.y=$2.x*$3.get_m12()+$2.y*$3.get_m22()+$2.z*$3.get_m32();$1.z=$2.x*$3.get_m13()+$2.y*$3.get_m23()+$2.z*$3.get_m33();$1.normalize();return $1;},onMouseWheel:function(e){var $0=e;var $1;if(!!$0.detail){$1=$0.detail*-1;}else{$1=$0.wheelDelta/40;}if($1>0){this.zoom(0.9);}else{this.zoom(1.1);}},gotoRADecZoom:function(ra,dec,zoom,instant){ra=wwtlib.DoubleUtilities.clamp(ra,0,24);dec=wwtlib.DoubleUtilities.clamp(dec,-90,90);zoom=wwtlib.DoubleUtilities.clamp(zoom,this.get_zoomMin(),this.get_$8());this.$27=false;this.$28=null;this.gotoTargetFull(false,instant,wwtlib.CameraParameters.create(dec,wwtlib.WWTControl.singleton.renderContext.rAtoViewLng(ra),zoom,wwtlib.WWTControl.singleton.renderContext.viewCamera.rotation,wwtlib.WWTControl.singleton.renderContext.viewCamera.angle,wwtlib.WWTControl.singleton.renderContext.viewCamera.opacity),wwtlib.WWTControl.singleton.renderContext.get_foregroundImageset(),wwtlib.WWTControl.singleton.renderContext.get_backgroundImageset());},$27:false,$28:null,get_solarSystemMode:function(){if(this.renderContext.get_backgroundImageset()==null){return false;}return this.renderContext.get_backgroundImageset().get_dataSetType()===4;},gotoTarget:function(place,noZoom,instant,trackObject){if(place==null){return;}if((trackObject&&this.get_solarSystemMode())){if((place.get_classification()===536870912&&place.get_type()!==4)||(place.get_classification()===1)||(place.get_classification()===1048576)&&place.get_distance()>0){var $1=65536;if(place.get_classification()===1||place.get_classification()===1048576){$1=20;}else{try{if(place.get_target()!==65536){$1=place.get_target();}else{$1=wwtlib.Planets.getPlanetIDFromName(place.get_name());}}catch($2){}}if($1!==65536){this.$28=place;if($1===this.$29&&!(place.get_classification()===1||place.get_classification()===1048576)){this.gotoTarget3(place.get_camParams(),noZoom,instant);return;}var $3=4;if($1===20){$3=17;}else{$3+=13*(101-wwtlib.Settings.get_active().get_solarSystemScale())/100;}if(instant){$3=1;}var $4=this.renderContext.viewCamera.copy();$4.targetReferenceFrame='';$4.target=$1;var $5=10;if($1===20){if(place.get_classification()===1048576){$5=1404946007758;}else{$5=63239.6717*100;}var $9=wwtlib.Coordinates.raDecTo3dAu(place.get_RA(),place.get_dec(),place.get_distance());var $A=wwtlib.Coordinates.meanObliquityOfEcliptic(wwtlib.SpaceTimeController.get_jNow())/180*Math.PI;$9.rotateX($A);$4.viewTarget=wwtlib.Vector3d.negate($4.viewTarget);}else{$4.viewTarget=wwtlib.Planets.getPlanet3dLocationJD($1,wwtlib.SpaceTimeController.getJNowForFutureTime($3));switch($1){case 0:$5=0.6;break;case 1:$5=0.0004;break;case 2:$5=0.0004;break;case 3:$5=0.0004;break;case 4:$5=0.007;break;case 5:$5=0.007;break;case 6:$5=0.004;break;case 7:$5=0.004;break;case 8:$5=0.0004;break;case 9:$5=0.0004;break;case 10:$5=0.0004;break;case 11:$5=0.0004;break;case 12:$5=0.0004;break;case 13:$5=0.0004;break;case 19:$5=0.0004;break;case 20:$5=10;break;default:break;}$5=$5*wwtlib.Settings.get_active().get_solarSystemScale();}var $6=this.renderContext.viewCamera.copy();if(this.$29===20&&!String.isNullOrEmpty(this.renderContext.get_trackingFrame())){$6=this.renderContext.customTrackingParams;this.renderContext.set_trackingFrame('');}$4.zoom=$5;var $7=$4.viewTarget;$7.subtract($6.viewTarget);if(place.get_classification()===1){$7=wwtlib.Vector3d.negate($7);}if(!!$7.length()){var $B=$7.toRaDec();if($1===20){$4.lat=-$B.y;}else{$4.lat=$B.y;}$4.lng=$B.x*15-90;}else{$4.lat=this.renderContext.viewCamera.lat;$4.lng=this.renderContext.viewCamera.lng;}if($1!==20){$4.viewTarget=wwtlib.Planets.getPlanetTargetPoint($1,$4.lat,$4.lng,wwtlib.SpaceTimeController.getJNowForFutureTime($3));}var $8=new wwtlib.ViewMoverKenBurnsStyle($6,$4,$3,wwtlib.SpaceTimeController.get_now(),wwtlib.SpaceTimeController.getTimeForFutureTime($3),3);$8.fastDirectionMove=true;this.set_$2B($8);return;}}}this.$27=false;this.$28=null;var $0=place.get_camParams().copy();if(this.renderContext.get_backgroundImageset()!=null&&place.get_type()!==this.renderContext.get_backgroundImageset().get_dataSetType()){this.renderContext.targetCamera=place.get_camParams().copy();this.renderContext.viewCamera=this.renderContext.targetCamera.copy();this.renderContext.set_backgroundImageset(this.getDefaultImageset(place.get_type(),3));instant=true;}else if(this.get_solarSystemMode()&&place.get_target()!==this.$29){this.renderContext.targetCamera=place.get_camParams().copy();this.renderContext.viewCamera=this.renderContext.targetCamera.copy();this.$29=place.get_target();instant=true;}if(place.get_classification()===128){$0.zoom=this.get_$8();this.gotoTargetFull(false,instant,$0,null,null);}else{this.$29=place.get_target();this.gotoTargetFull(noZoom,instant,$0,place.get_studyImageset(),place.get_backgroundImageset());if(trackObject){this.$27=true;this.$28=place;}}},gotoTarget3:function(camParams,noZoom,instant){this.$27=false;this.$28=null;this.gotoTargetFull(noZoom,instant,camParams,this.renderContext.get_foregroundImageset(),this.renderContext.get_backgroundImageset());},gotoTargetFull:function(noZoom,instant,cameraParams,studyImageSet,backgroundImageSet){wwtlib.WWTControl.set_renderNeeded(true);this.$27=false;this.$28=null;this.$2D=studyImageSet;this.$2E=backgroundImageSet;if(noZoom){cameraParams.zoom=this.renderContext.viewCamera.zoom;cameraParams.angle=this.renderContext.viewCamera.angle;cameraParams.rotation=this.renderContext.viewCamera.rotation;}else{if(cameraParams.zoom===-1||!cameraParams.zoom){if(this.renderContext.space){cameraParams.zoom=1.40625;}else{cameraParams.zoom=0.09;}}}if(instant||(Math.abs(this.renderContext.viewCamera.lat-cameraParams.lat)<1E-12&&Math.abs(this.renderContext.viewCamera.lng-cameraParams.lng)<1E-12&&Math.abs(this.renderContext.viewCamera.zoom-cameraParams.zoom)<1E-12)){this.set_$2B(null);this.renderContext.targetCamera=cameraParams.copy();this.renderContext.viewCamera=this.renderContext.targetCamera.copy();this.$2F();this.$2C=true;}else{this.set_$2B(wwtlib.wwtlib$5.$A(this.renderContext.viewCamera,cameraParams));wwtlib.WWTControl.set_renderNeeded(true);this.get_$2B().set_midpoint(ss.Delegate.create(this,this.$2F));}},$2A:function(){this.renderContext.viewCamera=this.renderContext.targetCamera.copy();this.set_$2B(null);},get_$2B:function(){return this.renderContext.viewMover;},set_$2B:function($p0){this.renderContext.viewMover=$p0;wwtlib.WWTControl.set_renderNeeded(true);return $p0;},$2C:false,fadeInImageSet:function(newImageSet){if(this.renderContext.get_backgroundImageset()!=null&&newImageSet.get_dataSetType()!==this.renderContext.get_backgroundImageset().get_dataSetType()){wwtlib.wwtlib$3.$B();wwtlib.wwtlib$3.$A();}this.renderContext.set_backgroundImageset(newImageSet);},$2D:null,$2E:null,$2F:function(){if((this.$2D!=null&&this.renderContext.get_foregroundImageset()==null)||(this.renderContext.get_foregroundImageset()!=null&&!this.renderContext.get_foregroundImageset().equals(this.$2D))){this.renderContext.set_foregroundImageset(this.$2D);}if(this.renderContext.get_backgroundImageset()!=null&&(this.$2E!=null&&!this.renderContext.get_backgroundImageset().equals(this.$2E))){if(this.$2E!=null&&this.$2E.get_generic()){this.fadeInImageSet(this.$30(this.$2E));}else{this.fadeInImageSet(this.$2E);}}},getDefaultImageset:function(imageSetType,bandPass){var $enum1=ss.IEnumerator.getEnumerator(wwtlib.WWTControl.imageSets);while($enum1.moveNext()){var $0=$enum1.current;if($0.get_defaultSet()&&$0.get_bandPass()===bandPass&&$0.get_dataSetType()===imageSetType){return $0;}}var $enum2=ss.IEnumerator.getEnumerator(wwtlib.WWTControl.imageSets);while($enum2.moveNext()){var $1=$enum2.current;if($1.get_bandPass()===bandPass&&$1.get_dataSetType()===imageSetType){return $1;}}var $enum3=ss.IEnumerator.getEnumerator(wwtlib.WWTControl.imageSets);while($enum3.moveNext()){var $2=$enum3.current;if($2.get_dataSetType()===imageSetType){return $2;}}return wwtlib.WWTControl.imageSets[0];},$30:function($p0){var $enum1=ss.IEnumerator.getEnumerator(wwtlib.WWTControl.imageSets);while($enum1.moveNext()){var $0=$enum1.current;if($0.get_defaultSet()&&$0.get_bandPass()===$p0.get_bandPass()&&$0.get_dataSetType()===$p0.get_dataSetType()){return $0;}}var $enum2=ss.IEnumerator.getEnumerator(wwtlib.WWTControl.imageSets);while($enum2.moveNext()){var $1=$enum2.current;if($1.get_bandPass()===$p0.get_bandPass()&&$1.get_dataSetType()===$p0.get_dataSetType()){return $1;}}return wwtlib.WWTControl.imageSets[0];},$31:function($p0){},$32:function(){},$33:null,playTour:function(url){if(Type.canCast(this.uiController,wwtlib.TourPlayer)){var $0=this.uiController;$0.stop(false);}this.$33=wwtlib.TourDocument.fromUrl(url,ss.Delegate.create(this,function(){
var $1_0=new wwtlib.TourPlayer();$1_0.set_tour(this.$33);this.$33.set_currentTourstopIndex(-1);this.uiController=$1_0;$1_0.play();}));},playCurrentTour:function(){if(Type.canCast(this.uiController,wwtlib.TourPlayer)){var $0=this.uiController;$0.play();}},pauseCurrentTour:function(){if(Type.canCast(this.uiController,wwtlib.TourPlayer)){var $0=this.uiController;$0.pauseTour();}},stopCurrentTour:function(){if(Type.canCast(this.uiController,wwtlib.TourPlayer)){var $0=this.uiController;$0.stop(false);}},getImagesetByName:function(name){var $enum1=ss.IEnumerator.getEnumerator(wwtlib.WWTControl.imageSets);while($enum1.moveNext()){var $0=$enum1.current;if($0.get_name().toLowerCase().indexOf(name.toLowerCase())>-1){return $0;}}return null;},setBackgroundImageByName:function(name){var $0=this.getImagesetByName(name);if($0!=null){this.renderContext.set_backgroundImageset($0);}},setForegroundImageByName:function(name){var $0=this.getImagesetByName(name);if($0!=null){this.renderContext.set_foregroundImageset($0);}},$34:function($p0){if($p0.gl==null){var $0=$p0.device;$0.save();$0.beginPath();$0.strokeStyle=wwtlib.Settings.get_current().get_crosshairsColor();$0.lineWidth=2;var $1=$p0.width/2,$2=$p0.height/2;var $3=5;$0.moveTo($1,$2+$3);$0.lineTo($1,$2-$3);$0.moveTo($1+$3,$2);$0.lineTo($1-$3,$2);$0.stroke();$0.restore();}}}
wwtlib.WWTElementEvent=function(x,y){this.offsetX=x;this.offsetY=y;}
wwtlib.WWTElementEvent.prototype={offsetX:0,offsetY:0}
wwtlib.Annotation=function(){}
wwtlib.Annotation.separation=function(Alpha1,Delta1,Alpha2,Delta2){Delta1=Delta1/180*Math.PI;Delta2=Delta2/180*Math.PI;Alpha1=Alpha1/12*Math.PI;Alpha2=Alpha2/12*Math.PI;var $0=Math.cos(Delta1)*Math.sin(Delta2)-Math.sin(Delta1)*Math.cos(Delta2)*Math.cos(Alpha2-Alpha1);var $1=Math.cos(Delta2)*Math.sin(Alpha2-Alpha1);var $2=Math.sin(Delta1)*Math.sin(Delta2)+Math.cos(Delta1)*Math.cos(Delta2)*Math.cos(Alpha2-Alpha1);var $3=Math.atan2(Math.sqrt($0*$0+$1*$1),$2);$3=$3/Math.PI*180;if($3<0){$3+=180;}return $3;}
wwtlib.Annotation.colorToUint=function(col){return (col.a)<<24|(col.r<<16)|(col.g)<<8|col.b;}
wwtlib.Annotation.colorToUintAlpha=function(col,opacity){return opacity<<24|col.r<<16|col.g<<8|col.b;}
wwtlib.Annotation.prototype={draw:function(renderContext){},$0:1,get_opacity:function(){return this.$0;},set_opacity:function(value){this.$0=value;return value;},id:null,get_id:function(){return this.id;},set_id:function(value){this.id=value;return value;},$1:null,get_tag:function(){return this.$1;},set_tag:function(value){this.$1=value;return value;},$2:null,get_label:function(){return this.$2;},set_label:function(value){this.$2=value;return value;},$3:false,get_showHoverLabel:function(){return this.$3;},set_showHoverLabel:function(value){this.$3=value;return value;},hitTest:function(renderContext,RA,dec,x,y){return false;},center:null,get_center:function(){return this.center;},set_center:function(value){this.center=value;return value;}}
wwtlib.Circle=function(){this.$8=wwtlib.Colors.get_white();this.$9=wwtlib.Colors.get_white();wwtlib.Circle.initializeBase(this);}
wwtlib.Circle.prototype={$4:false,get_fill:function(){return this.$4;},set_fill:function(value){this.$4=value;return value;},$5:false,get_skyRelative:function(){return this.$5;},set_skyRelative:function(value){this.$5=value;return value;},$6:1,get_lineWidth:function(){return this.$6;},set_lineWidth:function(value){this.$6=value;return value;},$7:10,get_radius:function(){return this.$7;},set_radius:function(value){this.$7=value;return value;},get_lineColor:function(){return this.$8.toString();},set_lineColor:function(value){this.$8=wwtlib.Color.fromName(value);return value;},get_fillColor:function(){return this.$9.toString();},set_fillColor:function(value){this.$9=wwtlib.Color.fromName(value);return value;},ra:0,$A:0,setCenter:function(ra,dec){this.ra=ra/15;this.$A=dec;this.center=wwtlib.Coordinates.raDecTo3d(this.ra,this.$A);},draw:function(renderContext){var $0=this.$7;if(this.$5){$0/=renderContext.get_fovScale()/3600;}var $1=renderContext.WVP.transform(this.center);if($1.z<0){return;}if(wwtlib.Vector3d.dot(renderContext.get_viewPoint(),this.center)<0.55){return;}if(renderContext.gl!=null){}else{var $2=renderContext.device;$2.save();$2.globalAlpha=this.get_opacity();$2.beginPath();$2.arc($1.x,$1.y,$0,0,Math.PI*2,true);$2.lineWidth=this.$6;$2.fillStyle=this.$9.toString();if(this.$4){$2.fill();}$2.globalAlpha=1;$2.strokeStyle=this.$8.toString();$2.stroke();$2.restore();}},hitTest:function(renderContext,RA,dec,x,y){if(String.isNullOrEmpty(this.get_id())){return false;}var $0=this.$7;if(!this.$5){$0*=renderContext.get_fovScale()/3600;}return wwtlib.Annotation.separation(RA,dec,this.ra,this.$A)<$0;}}
wwtlib.Poly=function(){this.$4=[];this.$7=wwtlib.Colors.get_white();this.$8=wwtlib.Colors.get_white();wwtlib.Poly.initializeBase(this);}
wwtlib.Poly.prototype={addPoint:function(x,y){this.$4.add(wwtlib.Coordinates.raDecTo3d(x/15,y));},$5:false,get_fill:function(){return this.$5;},set_fill:function(value){this.$5=value;return value;},$6:1,get_lineWidth:function(){return this.$6;},set_lineWidth:function(value){this.$6=value;return value;},get_lineColor:function(){return this.$7.toString();},set_lineColor:function(value){this.$7=wwtlib.Color.fromName(value);return value;},get_fillColor:function(){return this.$8.toString();},set_fillColor:function(value){this.$8=wwtlib.Color.fromName(value);return value;},draw:function(renderContext){if(renderContext.gl!=null){}else{var $0=renderContext.device;$0.save();$0.globalAlpha=this.get_opacity();$0.beginPath();var $1=true;var $enum1=ss.IEnumerator.getEnumerator(this.$4);while($enum1.moveNext()){var $2=$enum1.current;var $3=renderContext.WVP.transform($2);if($3.z<0){$0.restore();return;}if(wwtlib.Vector3d.dot(renderContext.get_viewPoint(),$2)<0.75){$0.restore();return;}if($1){$1=false;$0.moveTo($3.x,$3.y);}else{$0.lineTo($3.x,$3.y);}}$0.closePath();$0.lineWidth=this.$6;if(this.$5){$0.fillStyle=this.$8.toString();$0.fill();}$0.strokeStyle=this.$7.toString();$0.globalAlpha=1;$0.stroke();$0.restore();}}}
wwtlib.PolyLine=function(){this.$4=[];this.$6=wwtlib.Colors.get_white();wwtlib.PolyLine.initializeBase(this);}
wwtlib.PolyLine.prototype={addPoint:function(x,y){this.$4.add(wwtlib.Coordinates.raDecTo3d(x/15,y));},$5:1,get_lineWidth:function(){return this.$5;},set_lineWidth:function(value){this.$5=value;return value;},get_lineColor:function(){return this.$6.toString();},set_lineColor:function(value){this.$6=wwtlib.Color.fromName(value);return value;},draw:function(renderContext){if(renderContext.gl!=null){}else{var $0=renderContext.device;$0.save();$0.globalAlpha=this.get_opacity();var $1=true;var $enum1=ss.IEnumerator.getEnumerator(this.$4);while($enum1.moveNext()){var $2=$enum1.current;var $3=renderContext.WVP.transform($2);if($3.z<0){$0.restore();return;}if(wwtlib.Vector3d.dot(renderContext.get_viewPoint(),$2)<0.75){$0.restore();return;}if($1){$1=false;$0.beginPath();$0.moveTo($3.x,$3.y);}else{$0.lineTo($3.x,$3.y);}}$0.lineWidth=this.$5;$0.strokeStyle=this.$6.toString();$0.stroke();$0.restore();}}}
wwtlib.BlendState=function(){this.$2=new Date(1990,0,0,0,0,0,0);this.$0=false;this.$1=this.$0;this.$3=1000;}
wwtlib.BlendState.create=function(initialState,delayTime){var $0=new wwtlib.BlendState();$0.$0=initialState;$0.$1=initialState;$0.$3=delayTime;return $0;}
wwtlib.BlendState.prototype={$0:false,get_state:function(){if(this.$1!==this.$0){var $0=Date.get_now()-this.$2;if($0>this.$3){this.$0=this.$1;}return true;}return this.$0;},set_state:function(value){this.$2=new Date(1990,0,0,0,0,0,0);this.$0=value;this.$1=this.$0;return value;},$1:false,get_targetState:function(){return this.$1;},set_targetState:function(value){if(this.$1!==value){this.$2=Date.get_now();this.$1=value;}return value;},get_opacity:function(){if(this.$1!==this.$0){var $0=Date.get_now()-this.$2;if($0>this.$3){this.$0=this.$1;}else{var $1=($0/this.$3);return (this.$1)?$1:1-$1;}}return (this.$0)?1:0;},$2:null,$3:0,get_delayTime:function(){return this.$3;},set_delayTime:function(value){this.$3=value;return value;}}
wwtlib.CameraParameters=function(){this.zoom=360;this.viewTarget=new wwtlib.Vector3d();}
wwtlib.CameraParameters.create=function(lat,lng,zoom,rotation,angle,opactity){var $0=new wwtlib.CameraParameters();$0.lat=lat;$0.lng=lng;$0.zoom=zoom;$0.rotation=rotation;$0.angle=angle;$0.raDec=false;$0.opacity=opactity;$0.viewTarget=wwtlib.Vector3d.create(0,0,0);$0.target=20;$0.targetReferenceFrame='';return $0;}
wwtlib.CameraParameters.logN=function(num,b){return Math.log(num)/Math.log(b);}
wwtlib.CameraParameters.sinh=function(v){return (Math.exp(v)-Math.exp(-v))/2;}
wwtlib.CameraParameters.interpolate=function(from,to,alphaIn,type,fastDirectionMove){var $0=new wwtlib.CameraParameters();var $1=wwtlib.CameraParameters.easeCurve(alphaIn,type);var $2=Math.min(1,alphaIn*2);var $3=wwtlib.CameraParameters.easeCurve($2,type);$0.angle=to.angle*$1+from.angle*(1-$1);$0.rotation=to.rotation*$1+from.rotation*(1-$1);if(fastDirectionMove){$0.lat=to.lat*$3+from.lat*(1-$3);$0.lng=to.lng*$3+from.lng*(1-$3);}else{$0.lat=to.lat*$1+from.lat*(1-$1);$0.lng=to.lng*$1+from.lng*(1-$1);}$0.zoom=Math.pow(2,wwtlib.CameraParameters.logN(to.zoom,2)*$1+wwtlib.CameraParameters.logN(from.zoom,2)*(1-$1));$0.opacity=(to.opacity*$1+from.opacity*(1-$1));$0.viewTarget=wwtlib.Vector3d.lerp(from.viewTarget,to.viewTarget,$1);$0.targetReferenceFrame=to.targetReferenceFrame;if(to.target===from.target){$0.target=to.target;}else{$0.target=20;}return $0;}
wwtlib.CameraParameters.interpolateGreatCircle=function(from,to,alphaIn,type,fastDirectionMove){var $0=new wwtlib.CameraParameters();var $1=wwtlib.CameraParameters.easeCurve(alphaIn,type);var $2=Math.min(1,alphaIn*2);var $3=wwtlib.CameraParameters.easeCurve($2,type);$0.angle=to.angle*$1+from.angle*(1-$1);$0.rotation=to.rotation*$1+from.rotation*(1-$1);var $4=wwtlib.Coordinates.geoTo3dDouble(from.lat,from.lng);var $5=wwtlib.Coordinates.geoTo3dDouble(to.lat,to.lng);var $6=wwtlib.Vector3d.slerp($4,$5,$1);var $7=wwtlib.Coordinates.cartesianToLatLng($6);$0.lat=$7.y;$0.lng=$7.x;$0.zoom=Math.pow(2,wwtlib.CameraParameters.logN(to.zoom,2)*$1+wwtlib.CameraParameters.logN(from.zoom,2)*(1-$1));$0.opacity=(to.opacity*$1+from.opacity*(1-$1));$0.viewTarget=wwtlib.Vector3d.lerp(from.viewTarget,to.viewTarget,$1);$0.targetReferenceFrame=to.targetReferenceFrame;if(to.target===from.target){$0.target=to.target;}else{$0.target=20;}return $0;}
wwtlib.CameraParameters.easeCurve=function(alpha,type){switch(type){case 0:return alpha;case 4:return Math.pow(alpha,2);case 1:return ((1-alpha)*wwtlib.CameraParameters.sinh(alpha/(0.1085712344*2))/100)+alpha*alpha;case 2:return (alpha*(1-wwtlib.CameraParameters.sinh((1-alpha)/(0.1085712344*2))/100))+(1-alpha)*alpha;case 3:if(alpha<0.5){return wwtlib.CameraParameters.sinh(alpha/0.1085712344)/100;}else{return 1-(wwtlib.CameraParameters.sinh((1-alpha)/0.1085712344)/100);}default:return alpha;}}
wwtlib.CameraParameters.prototype={lat:0,lng:0,zoom:0,rotation:0,angle:0,raDec:false,opacity:0,viewTarget:null,target:0,targetReferenceFrame:null,copy:function(){var $0=new wwtlib.CameraParameters();$0.lat=this.lat;$0.lng=this.lng;$0.zoom=this.zoom;$0.rotation=this.rotation;$0.angle=this.angle;$0.raDec=this.raDec;$0.opacity=this.opacity;$0.viewTarget=this.viewTarget.copy();$0.target=this.target;$0.targetReferenceFrame=this.targetReferenceFrame;return $0;},get_RA:function(){return ((((180-(this.lng-180))/360)*24)%24);},set_RA:function(value){this.lng=180-(value/24*360)-180;this.raDec=true;return value;},get_dec:function(){return this.lat;},set_dec:function(value){this.lat=value;return value;},equals:function(obj){if(Type.canCast(obj,wwtlib.CameraParameters)){var $0=obj;if(Math.abs($0.angle-this.angle)>0.01||Math.abs($0.lat-this.lat)>($0.zoom/10000)||Math.abs($0.get_RA()-this.get_RA())>($0.zoom/1000)||Math.abs($0.rotation-this.rotation)>0.1||Math.abs($0.zoom-this.zoom)>(Math.abs($0.zoom)/1000)){return false;}return true;}else{return false;}}}
wwtlib.Color=function(){}
wwtlib.Color.fromArgb=function(a,r,g,b){var $0=new wwtlib.Color();$0.a=a;$0.r=r;$0.g=g;$0.b=b;return $0;}
wwtlib.Color.fromName=function(name){var $0=new wwtlib.Color();$0.a=255;$0.r=255;$0.g=255;$0.b=255;$0.name=name;return $0;}
wwtlib.Color.load=function(color){var $0=255,$1=255,$2=255,$3=255;var $4=color.split(':');if($4.length===5){$0=parseInt($4[1]);$1=parseInt($4[2]);$2=parseInt($4[3]);$3=parseInt($4[4]);}else if($4.length===2){return wwtlib.Color.fromName($4[1].toLowerCase());}else if($4.length===1&&$4[0].startsWith('#')){return wwtlib.Color.fromHex($4[0]);}else if($4.length===1&&$4[0].length===8){return wwtlib.Color.fromSimpleHex($4[0]);}else if($4.length===1){return wwtlib.Color.$0($4[0]);}return wwtlib.Color.fromArgb($0,$1,$2,$3);}
wwtlib.Color.$0=function($p0){switch($p0.toLowerCase()){case 'activeborder':return wwtlib.Color.fromArgb(255,180,180,180);case 'activecaption':return wwtlib.Color.fromArgb(255,153,180,209);case 'activecaptiontext':return wwtlib.Color.fromArgb(255,0,0,0);case 'appworkspace':return wwtlib.Color.fromArgb(255,171,171,171);case 'control':return wwtlib.Color.fromArgb(255,240,240,240);case 'controldark':return wwtlib.Color.fromArgb(255,160,160,160);case 'controldarkdark':return wwtlib.Color.fromArgb(255,105,105,105);case 'controllight':return wwtlib.Color.fromArgb(255,227,227,227);case 'controllightlight':return wwtlib.Color.fromArgb(255,255,255,255);case 'controltext':return wwtlib.Color.fromArgb(255,0,0,0);case 'desktop':return wwtlib.Color.fromArgb(255,255,255,255);case 'graytext':return wwtlib.Color.fromArgb(255,109,109,109);case 'highlight':return wwtlib.Color.fromArgb(255,51,153,255);case 'highlighttext':return wwtlib.Color.fromArgb(255,255,255,255);case 'hottrack':return wwtlib.Color.fromArgb(255,0,102,204);case 'inactiveborder':return wwtlib.Color.fromArgb(255,244,247,252);case 'inactivecaption':return wwtlib.Color.fromArgb(255,191,205,219);case 'inactivecaptiontext':return wwtlib.Color.fromArgb(255,0,0,0);case 'info':return wwtlib.Color.fromArgb(255,255,255,225);case 'infotext':return wwtlib.Color.fromArgb(255,0,0,0);case 'menu':return wwtlib.Color.fromArgb(255,240,240,240);case 'menutext':return wwtlib.Color.fromArgb(255,0,0,0);case 'scrollbar':return wwtlib.Color.fromArgb(255,200,200,200);case 'window':return wwtlib.Color.fromArgb(255,255,255,255);case 'windowframe':return wwtlib.Color.fromArgb(255,100,100,100);case 'windowtext':return wwtlib.Color.fromArgb(255,0,0,0);case 'transparent':return wwtlib.Color.fromArgb(0,255,255,255);case 'aliceblue':return wwtlib.Color.fromArgb(255,240,248,255);case 'antiquewhite':return wwtlib.Color.fromArgb(255,250,235,215);case 'aqua':return wwtlib.Color.fromArgb(255,0,255,255);case 'aquamarine':return wwtlib.Color.fromArgb(255,127,255,212);case 'azure':return wwtlib.Color.fromArgb(255,240,255,255);case 'beige':return wwtlib.Color.fromArgb(255,245,245,220);case 'bisque':return wwtlib.Color.fromArgb(255,255,228,196);case 'black':return wwtlib.Color.fromArgb(255,0,0,0);case 'blanchedalmond':return wwtlib.Color.fromArgb(255,255,235,205);case 'blue':return wwtlib.Color.fromArgb(255,0,0,255);case 'blueviolet':return wwtlib.Color.fromArgb(255,138,43,226);case 'brown':return wwtlib.Color.fromArgb(255,165,42,42);case 'burlywood':return wwtlib.Color.fromArgb(255,222,184,135);case 'cadetblue':return wwtlib.Color.fromArgb(255,95,158,160);case 'chartreuse':return wwtlib.Color.fromArgb(255,127,255,0);case 'chocolate':return wwtlib.Color.fromArgb(255,210,105,30);case 'coral':return wwtlib.Color.fromArgb(255,255,127,80);case 'cornflowerblue':return wwtlib.Color.fromArgb(255,100,149,237);case 'cornsilk':return wwtlib.Color.fromArgb(255,255,248,220);case 'crimson':return wwtlib.Color.fromArgb(255,220,20,60);case 'cyan':return wwtlib.Color.fromArgb(255,0,255,255);case 'darkblue':return wwtlib.Color.fromArgb(255,0,0,139);case 'darkcyan':return wwtlib.Color.fromArgb(255,0,139,139);case 'darkgoldenrod':return wwtlib.Color.fromArgb(255,184,134,11);case 'darkgray':return wwtlib.Color.fromArgb(255,169,169,169);case 'darkgreen':return wwtlib.Color.fromArgb(255,0,100,0);case 'darkkhaki':return wwtlib.Color.fromArgb(255,189,183,107);case 'darkmagenta':return wwtlib.Color.fromArgb(255,139,0,139);case 'darkolivegreen':return wwtlib.Color.fromArgb(255,85,107,47);case 'darkorange':return wwtlib.Color.fromArgb(255,255,140,0);case 'darkorchid':return wwtlib.Color.fromArgb(255,153,50,204);case 'darkred':return wwtlib.Color.fromArgb(255,139,0,0);case 'darksalmon':return wwtlib.Color.fromArgb(255,233,150,122);case 'darkseagreen':return wwtlib.Color.fromArgb(255,143,188,139);case 'darkslateblue':return wwtlib.Color.fromArgb(255,72,61,139);case 'darkslategray':return wwtlib.Color.fromArgb(255,47,79,79);case 'darkturquoise':return wwtlib.Color.fromArgb(255,0,206,209);case 'darkviolet':return wwtlib.Color.fromArgb(255,148,0,211);case 'deeppink':return wwtlib.Color.fromArgb(255,255,20,147);case 'deepskyblue':return wwtlib.Color.fromArgb(255,0,191,255);case 'dimgray':return wwtlib.Color.fromArgb(255,105,105,105);case 'dodgerblue':return wwtlib.Color.fromArgb(255,30,144,255);case 'firebrick':return wwtlib.Color.fromArgb(255,178,34,34);case 'floralwhite':return wwtlib.Color.fromArgb(255,255,250,240);case 'forestgreen':return wwtlib.Color.fromArgb(255,34,139,34);case 'fuchsia':return wwtlib.Color.fromArgb(255,255,0,255);case 'gainsboro':return wwtlib.Color.fromArgb(255,220,220,220);case 'ghostwhite':return wwtlib.Color.fromArgb(255,248,248,255);case 'gold':return wwtlib.Color.fromArgb(255,255,215,0);case 'goldenrod':return wwtlib.Color.fromArgb(255,218,165,32);case 'gray':return wwtlib.Color.fromArgb(255,128,128,128);case 'green':return wwtlib.Color.fromArgb(255,0,128,0);case 'greenyellow':return wwtlib.Color.fromArgb(255,173,255,47);case 'honeydew':return wwtlib.Color.fromArgb(255,240,255,240);case 'hotpink':return wwtlib.Color.fromArgb(255,255,105,180);case 'indianred':return wwtlib.Color.fromArgb(255,205,92,92);case 'indigo':return wwtlib.Color.fromArgb(255,75,0,130);case 'ivory':return wwtlib.Color.fromArgb(255,255,255,240);case 'khaki':return wwtlib.Color.fromArgb(255,240,230,140);case 'lavender':return wwtlib.Color.fromArgb(255,230,230,250);case 'lavenderblush':return wwtlib.Color.fromArgb(255,255,240,245);case 'lawngreen':return wwtlib.Color.fromArgb(255,124,252,0);case 'lemonchiffon':return wwtlib.Color.fromArgb(255,255,250,205);case 'lightblue':return wwtlib.Color.fromArgb(255,173,216,230);case 'lightcoral':return wwtlib.Color.fromArgb(255,240,128,128);case 'lightcyan':return wwtlib.Color.fromArgb(255,224,255,255);case 'lightgoldenrodyellow':return wwtlib.Color.fromArgb(255,250,250,210);case 'lightgray':return wwtlib.Color.fromArgb(255,211,211,211);case 'lightgreen':return wwtlib.Color.fromArgb(255,144,238,144);case 'lightpink':return wwtlib.Color.fromArgb(255,255,182,193);case 'lightsalmon':return wwtlib.Color.fromArgb(255,255,160,122);case 'lightseagreen':return wwtlib.Color.fromArgb(255,32,178,170);case 'lightskyblue':return wwtlib.Color.fromArgb(255,135,206,250);case 'lightslategray':return wwtlib.Color.fromArgb(255,119,136,153);case 'lightsteelblue':return wwtlib.Color.fromArgb(255,176,196,222);case 'lightyellow':return wwtlib.Color.fromArgb(255,255,255,224);case 'lime':return wwtlib.Color.fromArgb(255,0,255,0);case 'limegreen':return wwtlib.Color.fromArgb(255,50,205,50);case 'linen':return wwtlib.Color.fromArgb(255,250,240,230);case 'magenta':return wwtlib.Color.fromArgb(255,255,0,255);case 'maroon':return wwtlib.Color.fromArgb(255,128,0,0);case 'mediumaquamarine':return wwtlib.Color.fromArgb(255,102,205,170);case 'mediumblue':return wwtlib.Color.fromArgb(255,0,0,205);case 'mediumorchid':return wwtlib.Color.fromArgb(255,186,85,211);case 'mediumpurple':return wwtlib.Color.fromArgb(255,147,112,219);case 'mediumseagreen':return wwtlib.Color.fromArgb(255,60,179,113);case 'mediumslateblue':return wwtlib.Color.fromArgb(255,123,104,238);case 'mediumspringgreen':return wwtlib.Color.fromArgb(255,0,250,154);case 'mediumturquoise':return wwtlib.Color.fromArgb(255,72,209,204);case 'mediumvioletred':return wwtlib.Color.fromArgb(255,199,21,133);case 'midnightblue':return wwtlib.Color.fromArgb(255,25,25,112);case 'mintcream':return wwtlib.Color.fromArgb(255,245,255,250);case 'mistyrose':return wwtlib.Color.fromArgb(255,255,228,225);case 'moccasin':return wwtlib.Color.fromArgb(255,255,228,181);case 'navajowhite':return wwtlib.Color.fromArgb(255,255,222,173);case 'navy':return wwtlib.Color.fromArgb(255,0,0,128);case 'oldlace':return wwtlib.Color.fromArgb(255,253,245,230);case 'olive':return wwtlib.Color.fromArgb(255,128,128,0);case 'olivedrab':return wwtlib.Color.fromArgb(255,107,142,35);case 'orange':return wwtlib.Color.fromArgb(255,255,165,0);case 'orangered':return wwtlib.Color.fromArgb(255,255,69,0);case 'orchid':return wwtlib.Color.fromArgb(255,218,112,214);case 'palegoldenrod':return wwtlib.Color.fromArgb(255,238,232,170);case 'palegreen':return wwtlib.Color.fromArgb(255,152,251,152);case 'paleturquoise':return wwtlib.Color.fromArgb(255,175,238,238);case 'palevioletred':return wwtlib.Color.fromArgb(255,219,112,147);case 'papayawhip':return wwtlib.Color.fromArgb(255,255,239,213);case 'peachpuff':return wwtlib.Color.fromArgb(255,255,218,185);case 'peru':return wwtlib.Color.fromArgb(255,205,133,63);case 'pink':return wwtlib.Color.fromArgb(255,255,192,203);case 'plum':return wwtlib.Color.fromArgb(255,221,160,221);case 'powderblue':return wwtlib.Color.fromArgb(255,176,224,230);case 'purple':return wwtlib.Color.fromArgb(255,128,0,128);case 'red':return wwtlib.Color.fromArgb(255,255,0,0);case 'rosybrown':return wwtlib.Color.fromArgb(255,188,143,143);case 'royalblue':return wwtlib.Color.fromArgb(255,65,105,225);case 'saddlebrown':return wwtlib.Color.fromArgb(255,139,69,19);case 'salmon':return wwtlib.Color.fromArgb(255,250,128,114);case 'sandybrown':return wwtlib.Color.fromArgb(255,244,164,96);case 'seagreen':return wwtlib.Color.fromArgb(255,46,139,87);case 'seashell':return wwtlib.Color.fromArgb(255,255,245,238);case 'sienna':return wwtlib.Color.fromArgb(255,160,82,45);case 'silver':return wwtlib.Color.fromArgb(255,192,192,192);case 'skyblue':return wwtlib.Color.fromArgb(255,135,206,235);case 'slateblue':return wwtlib.Color.fromArgb(255,106,90,205);case 'slategray':return wwtlib.Color.fromArgb(255,112,128,144);case 'snow':return wwtlib.Color.fromArgb(255,255,250,250);case 'springgreen':return wwtlib.Color.fromArgb(255,0,255,127);case 'steelblue':return wwtlib.Color.fromArgb(255,70,130,180);case 'tan':return wwtlib.Color.fromArgb(255,210,180,140);case 'teal':return wwtlib.Color.fromArgb(255,0,128,128);case 'thistle':return wwtlib.Color.fromArgb(255,216,191,216);case 'tomato':return wwtlib.Color.fromArgb(255,255,99,71);case 'turquoise':return wwtlib.Color.fromArgb(255,64,224,208);case 'violet':return wwtlib.Color.fromArgb(255,238,130,238);case 'wheat':return wwtlib.Color.fromArgb(255,245,222,179);case 'white':return wwtlib.Color.fromArgb(255,255,255,255);case 'whitesmoke':return wwtlib.Color.fromArgb(255,245,245,245);case 'yellow':return wwtlib.Color.fromArgb(255,255,255,0);case 'yellowgreen':return wwtlib.Color.fromArgb(255,154,205,50);case 'buttonface':return wwtlib.Color.fromArgb(255,240,240,240);case 'buttonhighlight':return wwtlib.Color.fromArgb(255,255,255,255);case 'buttonshadow':return wwtlib.Color.fromArgb(255,160,160,160);case 'gradientactivecaption':return wwtlib.Color.fromArgb(255,185,209,234);case 'gradientinactivecaption':return wwtlib.Color.fromArgb(255,215,228,242);case 'menubar':return wwtlib.Color.fromArgb(255,240,240,240);case 'menuhighlight':return wwtlib.Color.fromArgb(255,51,153,255);}return wwtlib.Color.fromArgb(255,255,255,255);}
wwtlib.Color.fromHex=function(data){var $0=wwtlib._Util.$A(data.substr(1,2));var $1=wwtlib._Util.$A(data.substr(3,2));var $2=wwtlib._Util.$A(data.substr(5,2));var $3=255;return wwtlib.Color.fromArgb($3,$0,$1,$2);}
wwtlib.Color.fromSimpleHex=function(data){var $0=wwtlib._Util.$A(data.substr(0,2));var $1=wwtlib._Util.$A(data.substr(2,2));var $2=wwtlib._Util.$A(data.substr(4,2));var $3=wwtlib._Util.$A(data.substr(6,2));return wwtlib.Color.fromArgb($0,$1,$2,$3);}
wwtlib.Color.prototype={a:255,b:255,g:255,r:255,name:'',toFormat:function(){if(String.isNullOrEmpty(this.name)){return String.format('rgb({0},{1},{2})',this.r.toString(),this.g.toString(),this.b.toString());}else{return this.name;}},toString:function(){if(String.isNullOrEmpty(this.name)){return String.format('#{0}{1}{2}',wwtlib._Util.$9(this.r),wwtlib._Util.$9(this.g),wwtlib._Util.$9(this.b));}else{return this.name;}},$1:function(){return wwtlib.Color.fromArgb(this.a,this.r,this.g,this.b);}}
wwtlib.Colors=function(){}
wwtlib.Colors.get_black=function(){return wwtlib.Color.fromArgb(255,0,0,0);}
wwtlib.Colors.get_blue=function(){return wwtlib.Color.fromArgb(255,0,0,255);}
wwtlib.Colors.get_brown=function(){return wwtlib.Color.fromArgb(255,165,42,42);}
wwtlib.Colors.get_cyan=function(){return wwtlib.Color.fromArgb(255,0,255,255);}
wwtlib.Colors.get_darkGray=function(){return wwtlib.Color.fromArgb(255,169,169,169);}
wwtlib.Colors.get_gray=function(){return wwtlib.Color.fromArgb(255,128,128,128);}
wwtlib.Colors.get_green=function(){return wwtlib.Color.fromArgb(255,0,255,0);}
wwtlib.Colors.get_lightGray=function(){return wwtlib.Color.fromArgb(255,211,211,211);}
wwtlib.Colors.get_magenta=function(){return wwtlib.Color.fromArgb(255,255,0,255);}
wwtlib.Colors.get_orange=function(){return wwtlib.Color.fromArgb(255,255,165,0);}
wwtlib.Colors.get_purple=function(){return wwtlib.Color.fromArgb(255,128,0,128);}
wwtlib.Colors.get_red=function(){return wwtlib.Color.fromArgb(255,255,0,0);}
wwtlib.Colors.get_transparent=function(){return wwtlib.Color.fromArgb(0,255,255,255);}
wwtlib.Colors.get_white=function(){return wwtlib.Color.fromArgb(255,255,255,255);}
wwtlib.Colors.get_yellow=function(){return wwtlib.Color.fromArgb(255,255,255,0);}
wwtlib.Constellations=function(){this.$A={};}
wwtlib.Constellations.createBasic=function(name){var $0=new wwtlib.Constellations();$0.$0=name;$0.$3=null;$0.lines=[];var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.Constellations.fullNames));while($enum1.moveNext()){var $1=$enum1.current;$0.lines.add(new wwtlib.Lineset($1));}return $0;}
wwtlib.Constellations.create=function(name,url,boundry,noInterpollation,resource){var $0=new wwtlib.Constellations();$0.$6=noInterpollation;$0.$5=boundry;$0.$0=name;$0.$3=url;$0.getFile();return $0;}
wwtlib.Constellations.drawConstellationNames=function(renderContext,opacity,drawColor){if(wwtlib.Constellations.$E==null){wwtlib.Constellations.initializeConstellationNames();if(wwtlib.Constellations.$E==null){return;}}wwtlib.Constellations.$E.draw(renderContext,opacity,drawColor);}
wwtlib.Constellations.initializeConstellationNames=function(){if(wwtlib.Constellations.constellationCentroids==null){return;}wwtlib.Constellations.$E=new wwtlib.Text3dBatch(80);var $enum1=ss.IEnumerator.getEnumerator(Object.keys(wwtlib.Constellations.constellationCentroids));while($enum1.moveNext()){var $0=$enum1.current;var $1=wwtlib.Constellations.constellationCentroids[$0];var $2=wwtlib.Coordinates.raDecTo3dAu($1.get_RA(),$1.get_dec(),1);var $3=wwtlib.Vector3d.create(0,1,0);var $4=$1.get_name();if($1.get_name()==='Triangulum Australe'){$4=$4.replaceAll(' ','\n   ');}wwtlib.Constellations.$E.add(new wwtlib.Text3d($2,$3,$4,80,0.000125));}}
wwtlib.Constellations.drawArtwork=function(renderContext){if(wwtlib.Constellations.artwork==null){if(wwtlib.Constellations.$F==null){wwtlib.Constellations.$F=new wwtlib.Folder();wwtlib.Constellations.$F.loadFromUrl('http://www.worldwidetelescope.org/wwtweb/catalog.aspx?W=hevelius',wwtlib.Constellations.$10);}return;}wwtlib.Constellations.$9=Math.max(0.5,Math.cos((renderContext.get_fovAngle()*2)/180*Math.PI));var $enum1=ss.IEnumerator.getEnumerator(wwtlib.Constellations.artwork);while($enum1.moveNext()){var $0=$enum1.current;var $1=false;var $2=wwtlib.Constellations.constellationCentroids[$0.get_constellation()];if($2!=null){var $3=wwtlib.Coordinates.raDecTo3d(($1)?-$2.get_RA()-6:$2.get_RA(),($1)?$2.get_dec():$2.get_dec());if(wwtlib.Vector3d.dot(renderContext.get_viewPoint(),$3)>wwtlib.Constellations.$9){renderContext.drawImageSet($0.get_studyImageset(),100);}}}}
wwtlib.Constellations.$10=function(){wwtlib.Constellations.$F.childLoadCallback(wwtlib.Constellations.$11);}
wwtlib.Constellations.$11=function(){wwtlib.Constellations.artwork=wwtlib.Constellations.$F.get_places();}
wwtlib.Constellations.$12=function(){if(wwtlib.Constellations.$1.get_state()===2){alert(wwtlib.Constellations.$1.get_message());}else if(wwtlib.Constellations.$1.get_state()===1){wwtlib.Constellations.$13(wwtlib.Constellations.$1.getText());}}
wwtlib.Constellations.$13=function($p0){wwtlib.Constellations.constellationCentroids={};wwtlib.Constellations.fullNames={};wwtlib.Constellations.abbreviations={};wwtlib.Constellations.bitIDs={};var $0=$p0.split('\r\n');var $1=0;var $2;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$2=$3;var $4=$2.split(',');wwtlib.Constellations.fullNames[$4[1]]=$4[0];wwtlib.Constellations.abbreviations[$4[0]]=$4[1];wwtlib.Constellations.bitIDs[$4[1]]=$1++;wwtlib.Constellations.constellationCentroids[$4[1]]=wwtlib.Place.create($4[0],parseFloat($4[3]),parseFloat($4[2]),128,$4[1],2,360);}wwtlib.WWTControl.set_renderNeeded(true);wwtlib.ConstellationFilter.buildConstellationFilters();}
wwtlib.Constellations.fullName=function(name){if(Object.keyExists(wwtlib.Constellations.fullNames,name)){return wwtlib.Constellations.fullNames[name];}return name;}
wwtlib.Constellations.abbreviation=function(name){if(wwtlib.Constellations.abbreviations!=null&&!String.isNullOrEmpty(name)&&Object.keyExists(wwtlib.Constellations.abbreviations,name)){return wwtlib.Constellations.abbreviations[name];}return name;}
wwtlib.Constellations.prototype={$0:null,$2:null,get_name:function(){return this.$0;},set_name:function(value){this.$0=value;return value;},$3:null,lines:null,$4:0,$5:false,$6:false,readOnly:false,getFile:function(){this.$2=new wwtlib.WebFile(this.$3);this.$2.onStateChange=ss.Delegate.create(this,this.fileStateChange);this.$2.send();},fileStateChange:function(){if(this.$2.get_state()===2){alert(this.$2.get_message());}else if(this.$2.get_state()===1){this.$7(this.$2.getText());}},$7:function($p0){if(this.$5&&!this.$6){wwtlib.Constellations.boundries={};}this.lines=[];var $0=null;try{var $1=$p0.split('\r\n');var $2;var $3='';var $4;var $5;var $6=0;var $7=0;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $8=$enum1.current;var $9=$8;if($9.substr(11,2)==='- '){$9=$9.substr(0,11)+' -'+$9.substr(13,($9.length-13));}if($9.substr(11,2)==='+ '){$9=$9.substr(0,11)+' +'+$9.substr(13,($9.length-13));}$5=parseFloat($9.substr(11,10));if(this.$6){$4=parseFloat($9.substr(0,10));}else{$4=parseFloat($9.substr(0,10));}$2=$9.substr(23,4).trim();if(!this.$5){if(!!$9.substr(28,1).trim()){$7=parseInt($9.substr(28,1));}}else{if(this.$6&&$9.substr(28,1)!=='O'){continue;}}if($2!==$3){$7=3;$0=new wwtlib.Lineset($2);this.lines.add($0);if(this.$5&&!this.$6){wwtlib.Constellations.boundries[$2]=$0;}$3=$2;$6=0;}if(this.$6){if(Math.abs($4-$6)>12){$4=$4-(24*((($4-$6)<0)?-1:1));}$6=$4;}var $A=null;if($9.length>30){$A=$9.substr(30).trim();}if($A==null||$A!=='Empty'){$0.add($4,$5,$7,$A);}this.$4++;$7=1;}}catch($B){var $C=0;}wwtlib.WWTControl.set_renderNeeded(true);},radius:1,draw:function(renderContext,showOnlySelected,focusConsteallation,clearExisting){wwtlib.Constellations.$9=Math.max(0.6,Math.cos((renderContext.get_fovAngle()*2)/180*Math.PI));this.$8=0;var $0=null;if(this.lines==null||wwtlib.Constellations.constellationCentroids==null){return;}wwtlib.Constellations.$D=focusConsteallation;var $enum1=ss.IEnumerator.getEnumerator(this.lines);while($enum1.moveNext()){var $1=$enum1.current;if(wwtlib.Constellations.$D===$1.get_name()&&this.$5){$0=$1;}else if(!showOnlySelected||!this.$5){this.$B(renderContext,$1,1);}}if($0!=null){this.$B(renderContext,$0,1);}},$8:0,$B:function($p0,$p1,$p2){var $0=false;var $1=wwtlib.Constellations.constellationCentroids[$p1.get_name()];if($1!=null){var $3=wwtlib.Coordinates.raDecTo3d(($0)?-$1.get_RA()-6:$1.get_RA(),($0)?$1.get_dec():$1.get_dec());if(wwtlib.Vector3d.dot($p0.get_viewPoint(),$3)<wwtlib.Constellations.$9){return;}}if(!Object.keyExists(this.$A,$p1.get_name())){var $4=$p1.points.length;var $5=new wwtlib.SimpleLineList();$5.set_depthBuffered(false);this.$A[$p1.get_name()]=$5;var $6=new wwtlib.Vector3d();var $7;for(var $8=0;$8<$4;$8++){if(!$p1.points[$8].pointType||!$8){$6=wwtlib.Coordinates.raDecTo3d($p1.points[$8].RA,$p1.points[$8].dec);}else{$7=wwtlib.Coordinates.raDecTo3d($p1.points[$8].RA,$p1.points[$8].dec);$5.addLine($6,$7);$6=$7;}}if(this.$5){$7=wwtlib.Coordinates.raDecTo3d($p1.points[0].RA,$p1.points[0].dec);$5.addLine($6,$7);}}var $2;if(this.$5){if(wwtlib.Constellations.$D!==$p1.get_name()){$2=wwtlib.Settings.get_global().get_constellationBoundryColor();}else{$2=wwtlib.Settings.get_global().get_constellationSelectionColor();}}else{$2=wwtlib.Settings.get_global().get_constellationFigureColor();}this.$A[$p1.get_name()].drawLines($p0,$p2,wwtlib.Colors.get_red());},$C:function($p0,$p1){var $0=false;var $1=wwtlib.Constellations.constellationCentroids[$p1.get_name()];if($1!=null){var $3=wwtlib.Coordinates.raDecTo3d(($0)?-$1.get_RA()-6:$1.get_RA(),($0)?$1.get_dec():$1.get_dec());if(wwtlib.Vector3d.dot($p0.get_viewPoint(),$3)<wwtlib.Constellations.$9){return;}}this.$8++;var $2;if(this.$5){if(wwtlib.Constellations.$D!==$p1.get_name()){$2=wwtlib.Settings.get_global().get_constellationBoundryColor();}else{$2=wwtlib.Settings.get_global().get_constellationSelectionColor();}}else{$2=wwtlib.Settings.get_global().get_constellationFigureColor();}if($p0.gl==null){var $4=$p0.device;var $5=$p1.points.length;var $6=new wwtlib.Vector3d();$4.save();var $7=false;$4.beginPath();$4.strokeStyle=$2;$4.lineWidth=2;$4.globalAlpha=0.25;for(var $8=0;$8<$5;$8++){if(!$p1.points[$8].pointType||!$8){if($7){$4.stroke();}$6=$p0.WVP.transform(wwtlib.Coordinates.raDecTo3d($p1.points[$8].RA,$p1.points[$8].dec));$4.moveTo($6.x,$6.y);}else{var $9=$p0.WVP.transform(wwtlib.Coordinates.raDecTo3d($p1.points[$8].RA,$p1.points[$8].dec));$4.lineTo($9.x,$9.y);$7=true;}}if(this.$5){$4.closePath();}$4.stroke();$4.restore();}else{}},findConstellationForPoint:function(ra,dec){if(dec>88.402||this.lines==null){return 'UMI';}var $enum1=ss.IEnumerator.getEnumerator(this.lines);while($enum1.moveNext()){var $0=$enum1.current;var $1=$0.points.length;var $2;var $3;var $4=false;for($2=0,$3=$1-1;$2<$1;$3=$2++){if(((($0.points[$2].dec<=dec)&&(dec<$0.points[$3].dec))||(($0.points[$3].dec<=dec)&&(dec<$0.points[$2].dec)))&&(ra<($0.points[$3].RA-$0.points[$2].RA)*(dec-$0.points[$2].dec)/($0.points[$3].dec-$0.points[$2].dec)+$0.points[$2].RA)){$4=!$4;}}if($4){return $0.get_name();}}if(ra>0){return this.findConstellationForPoint(ra-24,dec);}if(dec>65.5){return 'UMI';}if(dec<-65.5){return 'OCT';}return 'Error';}}
wwtlib.Lineset=function(name){this.$0=name;this.points=[];}
wwtlib.Lineset.prototype={$0:null,get_name:function(){return this.$0;},set_name:function(value){this.$0=value;return value;},points:null,add:function(ra,dec,pointType,name){this.points.add(new wwtlib.Linepoint(ra,dec,pointType,name));}}
wwtlib.Linepoint=function(ra,dec,type,name){this.RA=ra;this.dec=dec;this.pointType=type;this.name=name;}
wwtlib.Linepoint.prototype={RA:0,dec:0,pointType:0,name:null,toString:function(){if(String.isNullOrEmpty(this.name)){return wwtlib.Coordinates.formatDMS((((this.RA/360)*24+12)%24))+', '+wwtlib.Coordinates.formatDMS(this.dec)+', '+this.pointType.toString();}else{return this.name+', '+this.pointType.toString();}}}
wwtlib.ConstellationFilter=function(){this.bits=new Array(3);this.oldBits=new Array(3);this.blendState=wwtlib.BlendState.create(false,1000);for(var $0=0;$0<3;$0++){this.bits[$0]=~this.bits[$0];this.oldBits[$0]=this.bits[$0];}}
wwtlib.ConstellationFilter.buildConstellationFilters=function(){var $0=wwtlib.ConstellationFilter.get_allConstellation();$0.internal=true;wwtlib.ConstellationFilter.families['AllConstellation']=$0;wwtlib.ConstellationFilter.families['Zodiacal']=wwtlib.ConstellationFilter.get_zodiacal();wwtlib.ConstellationFilter.families['Ursa Major Family']=wwtlib.ConstellationFilter.get_ursaMajorFamily();wwtlib.ConstellationFilter.families['Perseus Family']=wwtlib.ConstellationFilter.get_perseusFamily();wwtlib.ConstellationFilter.families['Hercules Family']=wwtlib.ConstellationFilter.get_herculesFamily();wwtlib.ConstellationFilter.families['Orion Family']=wwtlib.ConstellationFilter.get_orionFamily();wwtlib.ConstellationFilter.families['Heavenly Waters']=wwtlib.ConstellationFilter.get_heavenlyWaters();wwtlib.ConstellationFilter.families['Bayer Family']=wwtlib.ConstellationFilter.get_bayerFamily();wwtlib.ConstellationFilter.families['La Caille Family']=wwtlib.ConstellationFilter.get_laCaileFamily();}
wwtlib.ConstellationFilter.saveCustomFilters=function(){var $0=new ss.StringBuilder();var $dict1=wwtlib.ConstellationFilter.families;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};if(!$1.value.internal){$0.append($1.key);$0.append(';');$0.appendLine($1.value.toString());}}}
wwtlib.ConstellationFilter.get_allConstellation=function(){var $0=new wwtlib.ConstellationFilter();$0.setAll(true);return $0;}
wwtlib.ConstellationFilter.get_zodiacal=function(){var $0=new wwtlib.ConstellationFilter();$0.set('ARI',true);$0.set('TAU',true);$0.set('GEM',true);$0.set('CNC',true);$0.set('LEO',true);$0.set('VIR',true);$0.set('LIB',true);$0.set('SCO',true);$0.set('SGR',true);$0.set('CAP',true);$0.set('AQR',true);$0.set('PSC',true);$0.internal=true;return $0;}
wwtlib.ConstellationFilter.get_ursaMajorFamily=function(){var $0=new wwtlib.ConstellationFilter();$0.set('UMA',true);$0.set('UMI',true);$0.set('DRA',true);$0.set('CVN',true);$0.set('BOO',true);$0.set('COM',true);$0.set('CRB',true);$0.set('CAM',true);$0.set('LYN',true);$0.set('LMI',true);$0.internal=true;return $0;}
wwtlib.ConstellationFilter.get_perseusFamily=function(){var $0=new wwtlib.ConstellationFilter();$0.set('CAS',true);$0.set('CEP',true);$0.set('AND',true);$0.set('PER',true);$0.set('PEG',true);$0.set('CET',true);$0.set('AUR',true);$0.set('LAC',true);$0.set('TRI',true);$0.internal=true;return $0;}
wwtlib.ConstellationFilter.get_herculesFamily=function(){var $0=new wwtlib.ConstellationFilter();$0.set('HER',true);$0.set('SGE',true);$0.set('AQL',true);$0.set('LYR',true);$0.set('CYG',true);$0.set('VUL',true);$0.set('HYA',true);$0.set('SEX',true);$0.set('CRT',true);$0.set('CRV',true);$0.set('OPH',true);$0.set('SER1',true);$0.set('SER2',true);$0.set('SCT',true);$0.set('CEN',true);$0.set('LUP',true);$0.set('CRA',true);$0.set('ARA',true);$0.set('TRA',true);$0.set('CRU',true);$0.internal=true;return $0;}
wwtlib.ConstellationFilter.get_orionFamily=function(){var $0=new wwtlib.ConstellationFilter();$0.set('ORI',true);$0.set('CMA',true);$0.set('CMI',true);$0.set('MON',true);$0.set('LEP',true);$0.internal=true;return $0;}
wwtlib.ConstellationFilter.get_heavenlyWaters=function(){var $0=new wwtlib.ConstellationFilter();$0.set('DEL',true);$0.set('EQU',true);$0.set('ERI',true);$0.set('PSA',true);$0.set('CAR',true);$0.set('PUP',true);$0.set('VEL',true);$0.set('PYX',true);$0.set('COL',true);$0.internal=true;return $0;}
wwtlib.ConstellationFilter.get_bayerFamily=function(){var $0=new wwtlib.ConstellationFilter();$0.set('HYA',true);$0.set('DOR',true);$0.set('VOL',true);$0.set('APS',true);$0.set('PAV',true);$0.set('GRU',true);$0.set('PHE',true);$0.set('TUC',true);$0.set('IND',true);$0.set('CHA',true);$0.set('MUS',true);$0.internal=true;return $0;}
wwtlib.ConstellationFilter.get_laCaileFamily=function(){var $0=new wwtlib.ConstellationFilter();$0.set('NOR',true);$0.set('CIR',true);$0.set('TEL',true);$0.set('MIC',true);$0.set('SCL',true);$0.set('FOR',true);$0.set('CAE',true);$0.set('HOR',true);$0.set('OCT',true);$0.set('MEN',true);$0.set('RET',true);$0.set('PIC',true);$0.set('ANT',true);$0.internal=true;return $0;}
wwtlib.ConstellationFilter.parse=function(val){var $0=(val).split(',');var $1=new wwtlib.ConstellationFilter();try{for(var $2=0;$2<3;$2++){$1.bits[$2]=parseInt($0[$2]);}}catch($3){}return $1;}
wwtlib.ConstellationFilter.prototype={internal:false,$0:function(){for(var $0=0;$0<3;$0++){this.oldBits[$0]=this.bits[$0];}},$1:function(){for(var $0=0;$0<3;$0++){if(this.oldBits[$0]!==this.bits[$0]){return true;}}return false;},$2:function(){if(this.$1()){this.$3();}},isEnabled:function(abbrev){var $0=wwtlib.Constellations.bitIDs[abbrev];var $1=$0/32;$0=$0%32;return this.blendState.get_state()&&!!((1<<$0)&this.bits[$1]);},isSet:function(abbrev){this.$0();var $0=wwtlib.Constellations.bitIDs[abbrev];var $1=$0/32;$0=$0%32;return !!((1<<$0)&this.bits[$1]);},set:function(abbrev,state){this.$0();var $0=wwtlib.Constellations.bitIDs[abbrev];var $1=$0/32;$0=$0%32;if(state){this.bits[$1]=this.bits[$1]|(1<<$0);}else{this.bits[$1]=this.bits[$1]^(1<<$0);}this.$2();},setAll:function(state){this.$0();for(var $0=0;$0<89;$0++){var $1=$0/32;var $2=$0%32;if(state){this.bits[$1]=this.bits[$1]|(1<<$2);}else{this.bits[$1]=this.bits[$1]^(1<<$2);}}this.$2();},setBits:function(bits){this.$0();for(var $0=0;$0<3;$0++){this.bits[$0]=(bits[$0*4])+((bits[$0*4+1])<<8)+((bits[$0*4+2])<<16)+((bits[$0*4+3])<<24);}this.$2();},getBits:function(){var $0=new Array(12);var $1=0;for(var $2=0;$2<3;$2++){$0[$1++]=this.bits[$2];$0[$1++]=(this.bits[$2]>>8);$0[$1++]=(this.bits[$2]>>16);$0[$1++]=(this.bits[$2]>>24);}return $0;},cloneFilter:function(filter){this.$0();for(var $0=0;$0<3;$0++){this.bits[$0]=filter.bits[$0];}this.$2();},clone:function(){var $0=new wwtlib.ConstellationFilter();$0.cloneFilter(this);return $0;},combine:function(filter){this.$0();for(var $0=0;$0<3;$0++){this.bits[$0]=this.bits[$0]|filter.bits[$0];}this.$2();},remove:function(filter){this.$0();for(var $0=0;$0<3;$0++){this.bits[$0]=this.bits[$0]&~filter.bits[$0];}this.$2();},settingsOwned:false,$3:function(){if(this.settingsOwned){}},toString:function(){return String.format('{0},{1},{2}',this.bits[0],this.bits[1],this.bits[2]);}}
wwtlib.Coordinates=function(ascention,declination){this.$2=ascention+(Math.PI*80)%(Math.PI*2);this.$3=declination;}
wwtlib.Coordinates.geoTo3d=function(lat,lng){return wwtlib.Vector3d.create((Math.cos(lng*wwtlib.Coordinates.RC)*Math.cos(lat*wwtlib.Coordinates.RC)*1),(Math.sin(lat*wwtlib.Coordinates.RC)*1),(Math.sin(lng*wwtlib.Coordinates.RC)*Math.cos(lat*wwtlib.Coordinates.RC)*1));}
wwtlib.Coordinates.geoTo3dDouble=function(lat,lng){return wwtlib.Vector3d.create(Math.cos(lng*wwtlib.Coordinates.RC)*Math.cos(lat*wwtlib.Coordinates.RC)*1,Math.sin(lat*wwtlib.Coordinates.RC)*1,Math.sin(lng*wwtlib.Coordinates.RC)*Math.cos(lat*wwtlib.Coordinates.RC)*1);}
wwtlib.Coordinates.geoTo3dDoubleRad=function(lat,lng,radius){lng-=180;return wwtlib.Vector3d.create(Math.cos(lng*wwtlib.Coordinates.RC)*Math.cos(lat*wwtlib.Coordinates.RC)*radius,Math.sin(lat*wwtlib.Coordinates.RC)*radius,Math.sin(lng*wwtlib.Coordinates.RC)*Math.cos(lat*wwtlib.Coordinates.RC)*radius);}
wwtlib.Coordinates.geoTo3dRad=function(lat,lng,radius){return wwtlib.Vector3d.create((Math.cos(lng*wwtlib.Coordinates.RC)*Math.cos(lat*wwtlib.Coordinates.RC)*radius),(Math.sin(lat*wwtlib.Coordinates.RC)*radius),(Math.sin(lng*wwtlib.Coordinates.RC)*Math.cos(lat*wwtlib.Coordinates.RC)*radius));}
wwtlib.Coordinates.raDecTo3d=function(ra,dec){return wwtlib.Vector3d.create((Math.cos(ra*wwtlib.Coordinates.RCRA)*Math.cos(dec*wwtlib.Coordinates.RC)*1),(Math.sin(dec*wwtlib.Coordinates.RC)*1),(Math.sin(ra*wwtlib.Coordinates.RCRA)*Math.cos(dec*wwtlib.Coordinates.RC)*1));}
wwtlib.Coordinates.raDecTo3dAu=function(ra,dec,au){return wwtlib.Vector3d.create((Math.cos(ra*wwtlib.Coordinates.RCRA)*Math.cos(dec*wwtlib.Coordinates.RC)*au),(Math.sin(dec*wwtlib.Coordinates.RC)*au),(Math.sin(ra*wwtlib.Coordinates.RCRA)*Math.cos(dec*wwtlib.Coordinates.RC)*au));}
wwtlib.Coordinates.raDecTo3dMat=function(ra,dec,mat){return wwtlib.Vector3d.$1(wwtlib.Vector3d.create((Math.cos(ra*wwtlib.Coordinates.RCRA)*Math.cos(dec*wwtlib.Coordinates.RC)*1),(Math.sin(dec*wwtlib.Coordinates.RC)*1),(Math.sin(ra*wwtlib.Coordinates.RCRA)*Math.cos(dec*wwtlib.Coordinates.RC)*1)),mat);}
wwtlib.Coordinates.raDecTo3dPointRad=function(point,radius){point.set_dec(-point.get_dec());return wwtlib.Vector3d.create((Math.cos(point.get_RA()*wwtlib.Coordinates.RCRA)*Math.cos(point.get_dec()*wwtlib.Coordinates.RC)*radius),(Math.sin(point.get_dec()*wwtlib.Coordinates.RC)*radius),(Math.sin(point.get_RA()*wwtlib.Coordinates.RCRA)*Math.cos(point.get_dec()*wwtlib.Coordinates.RC)*radius));}
wwtlib.Coordinates.sterographicTo3d=function(x,y,radius,standardLat,meridean,falseEasting,falseNorthing,scale,north){var $0=90;var $1=0;x-=falseEasting;y-=falseNorthing;if(!!x||!!y){var $2=(1+Math.sin(Math.abs(standardLat)/180*Math.PI))*6371000/scale;var $3=$2*$2;var $4=180/Math.PI;if(!x){$1=(90*y<0)?-1:1;}else{$1=Math.atan2(y,x)*$4;}var $5=(x*x)+(y*y);$0=($3-$5)/($3+$5);$0=Math.asin($0)*$4;if(!north){$0=-$0;$1=-$1;meridean=-meridean;}}return wwtlib.Coordinates.geoTo3dDoubleRad($0,90+$1+meridean,radius);}
wwtlib.Coordinates.equitorialToHorizon=function(equitorial,location,utc){var $0=wwtlib.Coordinates.mstFromUTC2(utc,location.get_lng())-(equitorial.get_RA()*15);if($0<0){$0+=360;}var $1=$0*wwtlib.Coordinates.RC;var $2=equitorial.get_dec()*wwtlib.Coordinates.RC;var $3=location.get_lat()*wwtlib.Coordinates.RC;var $4=Math.sin($2)*Math.sin($3)+Math.cos($2)*Math.cos($3)*Math.cos($1);var $5=Math.asin($4);var $6=(Math.sin($2)-Math.sin($5)*Math.sin($3))/(Math.cos($5)*Math.cos($3));var $7=Math.acos($6);var $8=new wwtlib.Coordinates($7,$5);if(Math.sin($1)>0){$8.set_az((360-$8.get_az()));}return $8;}
wwtlib.Coordinates.horizonToEquitorial=function(altAz,location,utc){var $0=wwtlib.Coordinates.mstFromUTC2(utc,location.get_lng());var $1;var $2;var $3=wwtlib.Coordinates.$1(altAz.get_alt()*wwtlib.Coordinates.RC,altAz.get_az()*wwtlib.Coordinates.RC,location.get_lat()*wwtlib.Coordinates.RC);$1=$3.x;$2=$3.y;var $4=($1/wwtlib.Coordinates.RC);$0+=$4;if($0<0){$0+=360;}if($0>360){$0-=360;}return wwtlib.Coordinates.fromRaDec($0/15,$2/wwtlib.Coordinates.RC);}
wwtlib.Coordinates.$1=function($p0,$p1,$p2){var $0=0;var $1=0;$p1=Math.PI-$p1;if($p1<0){$p1+=Math.PI*2;}$0=Math.atan2(Math.sin($p1),Math.cos($p1)*Math.sin($p2)+Math.tan($p0)*Math.cos($p2));if($0<0){$0+=Math.PI*2;}$1=Math.asin(Math.sin($p2)*Math.sin($p0)-Math.cos($p2)*Math.cos($p0)*Math.cos($p1));return wwtlib.Vector2d.create($0,$1);}
wwtlib.Coordinates.mstFromUTC2=function(utc,lng){var $0=utc.getUTCFullYear();var $1=utc.getUTCMonth()+1;var $2=utc.getUTCDate();var $3=utc.getUTCHours();var $4=utc.getUTCMinutes();var $5=utc.getUTCSeconds()+utc.getUTCMilliseconds()/1000;if($1===1||$1===2){$0-=1;$1+=12;}var $6=parseInt(($0/100));var $7=2-$6+Math.floor(($6/4));var $8=Math.floor(365.25*$0);var $9=Math.floor(30.6001*($1+1));var $A;var $B;var $C;var $D;$A=$7+$8+$9-730550.5+$2+($3+$4/60+$5/3600)/24;$C=$A/36525;$D=280.46061837+360.98564736629*$A+0.000387933*$C*$C-$C*$C*$C/38710000+lng;if($D>0){while($D>360){$D=$D-360;}}else{while($D<0){$D=$D+360;}}return $D;}
wwtlib.Coordinates.cartesianToSpherical=function(vector){var $0;var $1;var $2=Math.sqrt(vector.x*vector.x+vector.y*vector.y+vector.z*vector.z);var $3=Math.sqrt(vector.x*vector.x+vector.z*vector.z);$1=Math.asin(vector.y/$2);if(0<vector.x){$0=Math.asin(vector.z/$3);}else if(0>vector.x){$0=Math.PI-Math.asin(vector.z/$3);}else{$0=0;}return new wwtlib.Coordinates($0,$1);}
wwtlib.Coordinates.cartesianToSpherical2=function(vector){var $0=Math.sqrt(vector.x*vector.x+vector.y*vector.y+vector.z*vector.z);var $1=Math.atan2(vector.z,vector.x);var $2=Math.asin(vector.y/$0);return new wwtlib.Coordinates($1,$2);}
wwtlib.Coordinates.cartesianToSphericalSky=function(vector){var $0=Math.sqrt(vector.x*vector.x+vector.y*vector.y+vector.z*vector.z);var $1=Math.atan2(vector.z,vector.x);var $2=Math.asin(-vector.y/$0);return wwtlib.Vector2d.create($1/Math.PI*12,$2/Math.PI*180);}
wwtlib.Coordinates.cartesianToLatLng=function(vector){var $0=Math.sqrt(vector.x*vector.x+vector.y*vector.y+vector.z*vector.z);var $1=Math.atan2(vector.z,vector.x);var $2=Math.asin(vector.y/$0);return wwtlib.Vector2d.create($1*180/Math.PI,$2*180/Math.PI);}
wwtlib.Coordinates.cartesianToSpherical3=function(vector){var $0=Math.sqrt(vector.x*vector.x+vector.y*vector.y+vector.z*vector.z);var $1=Math.atan2(vector.z,vector.x);var $2=Math.asin(vector.y/$0);return new wwtlib.Coordinates($1,$2);}
wwtlib.Coordinates.sign=function(target){return (target<0)?-1:1;}
wwtlib.Coordinates.formatDMSSign=function(angle,sign){try{angle+=(wwtlib.Coordinates.sign(angle)*0.0001388888888889);var $0=parseInt(angle);var $1=((angle-parseInt(angle))*60);var $2=(($1-parseInt($1))*60);if(sign){var $3=(angle>0)?'+':'-';return String.format('{3}{0:00;00}:{1:00}:{2:00}',$0,Math.abs(parseInt($1)),Math.abs(parseInt($2)),$3);}else{return String.format('{0:00}:{1:00}:{2:00}',$0,Math.abs(parseInt($1)),Math.abs(parseInt($2)));}}catch($4){return '';}}
wwtlib.Coordinates.formatDMS=function(angle){try{angle+=(((angle<0)?-1:1)*0.0001388888888889);var $0=Math.abs(parseInt(angle));var $1=((angle-parseInt(angle))*60);var $2=(($1-parseInt($1))*60);var $3=(angle<0)?'-':'';return String.format('{3}{0}:{1}:{2}',Math.abs($0),Math.abs(parseInt($1)),Math.abs(parseInt($2)),$3);}catch($4){return '';}}
wwtlib.Coordinates.formatDMSWide=function(angle){try{angle+=(wwtlib.Coordinates.sign(angle)*0.0001388888888889);var $0=Math.abs(parseInt(angle));var $1=((angle-parseInt(angle))*60);var $2=(($1-parseInt($1))*60);var $3=(angle<0)?'-':'';return String.format('{3}{0:00} : {1:00} : {2:00}',$0,Math.abs(parseInt($1)),Math.abs(parseInt($2)),$3);}catch($4){return '';}}
wwtlib.Coordinates.formatHMS=function(angle){try{angle+=(wwtlib.Coordinates.sign(angle)*0.0001388888888889);var $0=parseInt(angle);var $1=((angle-parseInt(angle))*60);var $2=(($1-parseInt($1))*60);return String.format('{0:00}h{1:00}m{2:00}s',$0,Math.abs(parseInt($1)),Math.abs(parseInt($2)));}catch($3){return '';}}
wwtlib.Coordinates.fromRaDec=function(ra,dec){return new wwtlib.Coordinates((ra-12)*15*wwtlib.Coordinates.RC,dec*wwtlib.Coordinates.RC);}
wwtlib.Coordinates.fromLatLng=function(lat,lng){return new wwtlib.Coordinates(lng*wwtlib.Coordinates.RC,lat*wwtlib.Coordinates.RC);}
wwtlib.Coordinates.dmsToDegrees=function(Degrees,Minutes,Seconds){return Degrees+Minutes/60+Seconds/3600;}
wwtlib.Coordinates.degreesToRadians=function(Degrees){return Degrees*0.0174532925199433;}
wwtlib.Coordinates.radiansToDegrees=function(Radians){return Radians*57.2957795130823;}
wwtlib.Coordinates.radiansToHours=function(Radians){return Radians*3.81971863420549;}
wwtlib.Coordinates.hoursToRadians=function(Hours){return Hours*0.261799387799149;}
wwtlib.Coordinates.hoursToDegrees=function(Hours){return Hours*15;}
wwtlib.Coordinates.degreesToHours=function(Degrees){return Degrees/15;}
wwtlib.Coordinates.PI=function(){return 3.14159265358979;}
wwtlib.Coordinates.mapTo0To360Range=function(Degrees){var $0=Degrees;while($0<0){$0+=360;}while($0>360){$0-=360;}return $0;}
wwtlib.Coordinates.mapTo0To24Range=function(HourAngle){var $0=HourAngle;while($0<0){$0+=24;}while($0>24){$0-=24;}return $0;}
wwtlib.Coordinates.meanObliquityOfEcliptic=function(JD){var $0=(JD-2451545)/3652500;var $1=$0*$0;var $2=$1*$0;var $3=$2*$0;var $4=$3*$0;var $5=$4*$0;var $6=$5*$0;var $7=$6*$0;var $8=$7*$0;var $9=$8*$0;return wwtlib.Coordinates.dmsToDegrees(23,26,21.448)-wwtlib.Coordinates.dmsToDegrees(0,0,4680.93)*$0-wwtlib.Coordinates.dmsToDegrees(0,0,1.55)*$1+wwtlib.Coordinates.dmsToDegrees(0,0,1999.25)*$2-wwtlib.Coordinates.dmsToDegrees(0,0,51.38)*$3-wwtlib.Coordinates.dmsToDegrees(0,0,249.67)*$4-wwtlib.Coordinates.dmsToDegrees(0,0,39.05)*$5+wwtlib.Coordinates.dmsToDegrees(0,0,7.12)*$6+wwtlib.Coordinates.dmsToDegrees(0,0,27.87)*$7+wwtlib.Coordinates.dmsToDegrees(0,0,5.79)*$8+wwtlib.Coordinates.dmsToDegrees(0,0,2.45)*$9;}
wwtlib.Coordinates.j2000toGalactic=function(J2000RA,J2000DEC){var $0=[Math.cos(J2000RA/180*Math.PI)*Math.cos(J2000DEC/180*Math.PI),Math.sin(J2000RA/180*Math.PI)*Math.cos(J2000DEC/180*Math.PI),Math.sin(J2000DEC/180*Math.PI)];if(wwtlib.Coordinates.$4==null){wwtlib.Coordinates.$4=new Array(3);wwtlib.Coordinates.$4[0]=[-0.0548755604,-0.8734370902,-0.4838350155];wwtlib.Coordinates.$4[1]=[0.4941094279,-0.44482963,0.7469822445];wwtlib.Coordinates.$4[2]=[-0.867666149,-0.1980763734,0.4559837762];}var $1=new Array(3);for(var $4=0;$4<3;$4++){$1[$4]=$0[0]*wwtlib.Coordinates.$4[$4][0]+$0[1]*wwtlib.Coordinates.$4[$4][1]+$0[2]*wwtlib.Coordinates.$4[$4][2];}var $2=Math.atan2($1[1],$1[0]);if($2<0){$2=$2+2*Math.PI;}if($2>2*Math.PI){$2=$2-2*Math.PI;}var $3=Math.atan2($1[2],Math.sqrt($1[0]*$1[0]+$1[1]*$1[1]));return [$2/Math.PI*180,$3/Math.PI*180];}
wwtlib.Coordinates.galacticTo3dDouble=function(l,b){var $0=wwtlib.Coordinates.galactictoJ2000(l,b);return wwtlib.Coordinates.raDecTo3dAu($0[0]/15,$0[1],1);}
wwtlib.Coordinates.galactictoJ2000=function(GalacticL2,GalacticB2){var $0=[Math.cos(GalacticL2/180*Math.PI)*Math.cos(GalacticB2/180*Math.PI),Math.sin(GalacticL2/180*Math.PI)*Math.cos(GalacticB2/180*Math.PI),Math.sin(GalacticB2/180*Math.PI)];if(wwtlib.Coordinates.$4==null){wwtlib.Coordinates.$4=new Array(3);wwtlib.Coordinates.$4[0]=[-0.0548755604,-0.8734370902,-0.4838350155];wwtlib.Coordinates.$4[1]=[0.4941094279,-0.44482963,0.7469822445];wwtlib.Coordinates.$4[2]=[-0.867666149,-0.1980763734,0.4559837762];}var $1=new Array(3);for(var $4=0;$4<3;$4++){$1[$4]=$0[0]*wwtlib.Coordinates.$4[0][$4]+$0[1]*wwtlib.Coordinates.$4[1][$4]+$0[2]*wwtlib.Coordinates.$4[2][$4];}var $2=Math.atan2($1[1],$1[0]);if($2<0){$2=$2+2*Math.PI;}if($2>2*Math.PI){$2=$2-2*Math.PI;}var $3=Math.atan2($1[2],Math.sqrt($1[0]*$1[0]+$1[1]*$1[1]));return [$2/Math.PI*180,$3/Math.PI*180];}
wwtlib.Coordinates.prototype={distance:function(pointB){var $0=this.get_lat();var $1=this.get_lng()*Math.cos($0*wwtlib.Coordinates.RC);var $2=pointB.get_lat();var $3=pointB.get_lng()*Math.cos($2*wwtlib.Coordinates.RC);return Math.sqrt(($0-$2)*($0-$2)+($1-$3)*($1-$3));},distance3d:function(pointB){var $0=wwtlib.Coordinates.geoTo3dDouble(pointB.get_lat(),pointB.get_lng());var $1=wwtlib.Coordinates.geoTo3dDouble(this.get_lat(),this.get_lng());var $2=wwtlib.Vector3d.subtractVectors($0,$1);return $2.length()/wwtlib.Coordinates.RC;},angle:function(pointB){var $0=this.get_lat();var $1=this.get_lng()*Math.cos($0*wwtlib.Coordinates.RC);var $2=pointB.get_lat();var $3=pointB.get_lng()*Math.cos($2*wwtlib.Coordinates.RC);return Math.atan2(($2-$0),($3-$1));},get_RA:function(){return (((this.$2/Math.PI)*12)+12)%24;},set_RA:function(value){this.$2=(value/12)*Math.PI;return value;},get_dec:function(){return this.$3/wwtlib.Coordinates.RC;},set_dec:function(value){this.$3=value*wwtlib.Coordinates.RC;return value;},get_lat:function(){return this.$3/wwtlib.Coordinates.RC;},set_lat:function(value){this.$3=value*wwtlib.Coordinates.RC;return value;},get_lng:function(){var $0=this.$2/wwtlib.Coordinates.RC;if($0<=180){return $0;}else{return (-180+(180-$0));}},set_lng:function(value){this.$2=((value*wwtlib.Coordinates.RC)+(Math.PI*2)%(Math.PI*2));return value;},get_alt:function(){return this.$3/wwtlib.Coordinates.RC;},set_alt:function(value){this.$3=value*wwtlib.Coordinates.RC;return value;},get_az:function(){return this.$2/wwtlib.Coordinates.RC;},set_az:function(value){this.$2=value*wwtlib.Coordinates.RC;return value;},$2:0,$3:0,toString:function(){return String.format('Lat: {0}, Lng: {1}',this.get_lat(),this.get_lng());}}
wwtlib.PositionTexture=function(){this.position=new wwtlib.Vector3d();}
wwtlib.PositionTexture.createPos=function(pos,u,v){var $0=new wwtlib.PositionTexture();$0.tu=u*wwtlib.Tile.uvMultiple;$0.tv=v*wwtlib.Tile.uvMultiple;$0.position=pos;return $0;}
wwtlib.PositionTexture.createPosRaw=function(pos,u,v){var $0=new wwtlib.PositionTexture();$0.tu=u;$0.tv=v;$0.position=pos;return $0;}
wwtlib.PositionTexture.createPosSize=function(pos,u,v,width,height){var $0=new wwtlib.PositionTexture();$0.tu=u*width;$0.tv=v*height;$0.position=pos;return $0;}
wwtlib.PositionTexture.create=function(xvalue,yvalue,zvalue,u,v){var $0=new wwtlib.PositionTexture();$0.position=wwtlib.Vector3d.create(xvalue,yvalue,zvalue);$0.tu=u*wwtlib.Tile.uvMultiple;$0.tv=v*wwtlib.Tile.uvMultiple;return $0;}
wwtlib.PositionTexture.prototype={tu:0,tv:0,position:null,copy:function(){var $0=new wwtlib.PositionTexture();$0.position=wwtlib.Vector3d.makeCopy(this.position);$0.tu=this.tu;$0.tv=this.tv;return $0;},toString:function(){return String.format('{0}, {1}, {2}, {3}, {4}',this.position.x,this.position.y,this.position.z,this.tu,this.tv);}}
wwtlib.PositionColoredTextured=function(){this.position=new wwtlib.Vector3d();}
wwtlib.PositionColoredTextured.createPos=function(pos,u,v){var $0=new wwtlib.PositionColoredTextured();$0.tu=u*wwtlib.Tile.uvMultiple;$0.tv=v*wwtlib.Tile.uvMultiple;$0.position=pos;return $0;}
wwtlib.PositionColoredTextured.createPosRaw=function(pos,u,v){var $0=new wwtlib.PositionColoredTextured();$0.tu=u;$0.tv=v;$0.position=pos;return $0;}
wwtlib.PositionColoredTextured.createPosSize=function(pos,u,v,width,height){var $0=new wwtlib.PositionColoredTextured();$0.tu=u*width;$0.tv=v*height;$0.position=pos;return $0;}
wwtlib.PositionColoredTextured.create=function(xvalue,yvalue,zvalue,u,v){var $0=new wwtlib.PositionTexture();$0.position=wwtlib.Vector3d.create(xvalue,yvalue,zvalue);$0.tu=u*wwtlib.Tile.uvMultiple;$0.tv=v*wwtlib.Tile.uvMultiple;return $0;}
wwtlib.PositionColoredTextured.prototype={tu:0,tv:0,position:null,copy:function(){var $0=new wwtlib.PositionTexture();$0.position=wwtlib.Vector3d.makeCopy(this.position);$0.tu=this.tu;$0.tv=this.tv;return $0;},toString:function(){return String.format('{0}, {1}, {2}, {3}, {4}',this.position.x,this.position.y,this.position.z,this.tu,this.tv);}}
wwtlib.Vector3d=function(){}
wwtlib.Vector3d.create=function(valueX,valueY,valueZ){var $0=new wwtlib.Vector3d();$0.x=valueX;$0.y=valueY;$0.z=valueZ;return $0;}
wwtlib.Vector3d.makeCopy=function(value){var $0=new wwtlib.Vector3d();$0.x=value.x;$0.y=value.y;$0.z=value.z;return $0;}
wwtlib.Vector3d.negate=function(vec){return wwtlib.Vector3d.create(-vec.x,-vec.y,-vec.z);}
wwtlib.Vector3d.midPoint=function(left,right){var $0=wwtlib.Vector3d.create((left.x+right.x)/2,(left.y+right.y)/2,(left.z+right.z)/2);$0.normalize();return $0;}
wwtlib.Vector3d.midPointByLength=function(left,right){var $0=wwtlib.Vector3d.create((left.x+right.x)/2,(left.y+right.y)/2,(left.z+right.z)/2);$0.normalize();$0.multiply(left.length());return $0;}
wwtlib.Vector3d.get_empty=function(){return wwtlib.Vector3d.create(0,0,0);}
wwtlib.Vector3d.addVectors=function(left,right){return wwtlib.Vector3d.create(left.x+right.x,left.y+right.y,left.z+right.z);}
wwtlib.Vector3d.cross=function(left,right){return wwtlib.Vector3d.create(left.y*right.z-left.z*right.y,left.z*right.x-left.x*right.z,left.x*right.y-left.y*right.x);}
wwtlib.Vector3d.dot=function(left,right){return left.x*right.x+left.y*right.y+left.z*right.z;}
wwtlib.Vector3d.getLength=function(source){return Math.sqrt(source.x*source.x+source.y*source.y+source.z*source.z);}
wwtlib.Vector3d.getLengthSq=function(source){return source.x*source.x+source.y*source.y+source.z*source.z;}
wwtlib.Vector3d.lerp=function(left,right,interpolater){return wwtlib.Vector3d.create(left.x*(1-interpolater)+right.x*interpolater,left.y*(1-interpolater)+right.y*interpolater,left.z*(1-interpolater)+right.z*interpolater);}
wwtlib.Vector3d.midpoint=function(left,right){var $0=wwtlib.Vector3d.create(left.x*(0.5)+right.x*0.5,left.y*(0.5)+right.y*0.5,left.z*(0.5)+right.z*0.5);$0.normalize();return $0;}
wwtlib.Vector3d.slerp=function(left,right,interpolater){var $0=wwtlib.Vector3d.dot(left,right);while($0<0.98){var $2=wwtlib.Vector3d.midpoint(left,right);if(interpolater>0.5){left=$2;interpolater-=0.5;interpolater*=2;}else{right=$2;interpolater*=2;}$0=wwtlib.Vector3d.dot(left,right);}var $1=wwtlib.Vector3d.lerp(left,right,interpolater);$1.normalize();return $1;}
wwtlib.Vector3d.multiplyScalar=function(source,f){var $0=source.copy();$0.multiply(f);return $0;}
wwtlib.Vector3d.scale=function(source,scalingFactor){var $0=source;$0.multiply(scalingFactor);return $0;}
wwtlib.Vector3d.subtractVectors=function(left,right){var $0=left.copy();$0.subtract(right);return $0;}
wwtlib.Vector3d.parse=function(data){var $0=new wwtlib.Vector3d();var $1=data.split(',');if($1.length===3){$0.x=parseFloat($1[0]);$0.y=parseFloat($1[1]);$0.z=parseFloat($1[2]);}return $0;}
wwtlib.Vector3d.$1=function($p0,$p1){return $p1.transform($p0);}
wwtlib.Vector3d.prototype={x:0,y:0,z:0,copy:function(){var $0=new wwtlib.Vector3d();$0.x=this.x;$0.y=this.y;$0.z=this.z;return $0;},round:function(){this.x=parseInt((this.x*65536))/65536;this.y=parseInt((this.y*65536))/65536;this.z=parseInt((this.z*65536))/65536;},add:function(source){this.x+=source.x;this.y+=source.y;this.z+=source.z;},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z;},multiply:function(s){this.x*=s;this.y*=s;this.z*=s;},normalize:function(){var $0=this.length();if(!!$0){this.x/=$0;this.y/=$0;this.z/=$0;}},rotateX:function(radians){var $0;var $1;$1=this.y*Math.cos(radians)-this.z*Math.sin(radians);$0=this.y*Math.sin(radians)+this.z*Math.cos(radians);this.z=$0;this.y=$1;},rotateZ:function(radians){var $0;var $1;$0=this.x*Math.cos(radians)-this.y*Math.sin(radians);$1=this.x*Math.sin(radians)+this.y*Math.cos(radians);this.y=$1;this.x=$0;},rotateY:function(radians){var $0;var $1;$0=this.z*Math.cos(radians)-this.x*Math.sin(radians);$1=this.z*Math.sin(radians)+this.x*Math.cos(radians);this.x=$1;this.z=$0;},subtract:function(source){this.x-=source.x;this.y-=source.y;this.z-=source.z;},toString:function(){return String.format('{0}, {1}, {2}',this.x,this.y,this.z);},toSpherical:function(){var $0;var $1;var $2=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);var $3=Math.sqrt(this.x*this.x+this.z*this.z);$1=Math.asin(this.y/$2);if(!$3){$0=0;}else if(0<=this.x){$0=Math.asin(this.z/$3);}else{$0=Math.PI-Math.asin(this.z/$3);}return wwtlib.Vector2d.create((($0+Math.PI)%(2*Math.PI)),($1+(Math.PI/2)));},toRaDec:function(){var $0=this.toSpherical();$0.x=$0.x/Math.PI*12;$0.y=($0.y/Math.PI*180)-90;return $0;},distanceToLine:function(x1,x2){var $0=wwtlib.Vector3d.subtractVectors(x2,x1);var $1=wwtlib.Vector3d.subtractVectors(x1,this);var $2=wwtlib.Vector3d.cross($0,$1);var $3=$2.length();var $4=wwtlib.Vector3d.subtractVectors(x2,x1);var $5=$4.length();return $3/$5;},$0:function($p0){var $0=$p0.transform(this);this.x=$0.x;this.y=$0.y;this.z=$0.z;}}
wwtlib.Vector2d=function(){}
wwtlib.Vector2d.lerp=function(left,right,interpolater){return wwtlib.Vector2d.create(left.x*(1-interpolater)+right.x*interpolater,left.y*(1-interpolater)+right.y*interpolater);}
wwtlib.Vector2d.cartesianToSpherical2=function(vector){var $0=Math.sqrt(vector.x*vector.x+vector.y*vector.y+vector.z*vector.z);var $1=Math.atan2(vector.z,vector.x);var $2=Math.asin(vector.y/$0);return wwtlib.Vector2d.create($1/Math.PI*180,$2/Math.PI*180);}
wwtlib.Vector2d.average3d=function(left,right){var $0=wwtlib.Coordinates.geoTo3dDouble(left.y,left.x);var $1=wwtlib.Coordinates.geoTo3dDouble(right.y,right.x);var $2=wwtlib.Vector3d.addVectors($0,$1);$2.multiply(0.5);$2.normalize();return wwtlib.Vector2d.cartesianToSpherical2($2);}
wwtlib.Vector2d.subtract=function(vec){return wwtlib.Vector2d.create(-vec.x,-vec.y);}
wwtlib.Vector2d.create=function(x,y){var $0=new wwtlib.Vector2d();$0.x=x;$0.y=y;return $0;}
wwtlib.Vector2d.subtractVector=function(left,right){return wwtlib.Vector2d.create(left.x-right.x,left.y-right.y);}
wwtlib.Vector2d.prototype={x:0,y:0,distance3d:function(pointB){var $0=wwtlib.Coordinates.geoTo3dDouble(pointB.y,pointB.x);var $1=wwtlib.Coordinates.geoTo3dDouble(this.y,this.x);var $2=wwtlib.Vector3d.subtractVectors($0,$1);return $2.length()/Math.PI*180;},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y);},normalize:function(){var $0=this.get_length();if(!!$0){this.x/=$0;this.y/=$0;}},extend:function(factor){this.x=this.x*factor;this.y=this.y*factor;}}
wwtlib.Matrix3d=function(){}
wwtlib.Matrix3d.create=function(m11,m12,m13,m14,m21,m22,m23,m24,m31,m32,m33,m34,offsetX,offsetY,offsetZ,m44){var $0=new wwtlib.Matrix3d();$0.$0=m11;$0.$1=m12;$0.$2=m13;$0.$3=m14;$0.$4=m21;$0.$5=m22;$0.$6=m23;$0.$7=m24;$0.$8=m31;$0.$9=m32;$0.$A=m33;$0.$B=m34;$0.$C=offsetX;$0.$D=offsetY;$0.$E=offsetZ;$0.$F=m44;$0.$10=true;return $0;}
wwtlib.Matrix3d.get_identity=function(){var $0=new wwtlib.Matrix3d();$0.set(wwtlib.Matrix3d.$11);return $0;}
wwtlib.Matrix3d.multiplyMatrix=function(matrix1,matrix2){if(matrix1.get_$1B()){return matrix2;}if(matrix2.get_$1B()){return matrix1;}return wwtlib.Matrix3d.create((((matrix1.$0*matrix2.$0)+(matrix1.$1*matrix2.$4))+(matrix1.$2*matrix2.$8))+(matrix1.$3*matrix2.$C),(((matrix1.$0*matrix2.$1)+(matrix1.$1*matrix2.$5))+(matrix1.$2*matrix2.$9))+(matrix1.$3*matrix2.$D),(((matrix1.$0*matrix2.$2)+(matrix1.$1*matrix2.$6))+(matrix1.$2*matrix2.$A))+(matrix1.$3*matrix2.$E),(((matrix1.$0*matrix2.$3)+(matrix1.$1*matrix2.$7))+(matrix1.$2*matrix2.$B))+(matrix1.$3*matrix2.$F),(((matrix1.$4*matrix2.$0)+(matrix1.$5*matrix2.$4))+(matrix1.$6*matrix2.$8))+(matrix1.$7*matrix2.$C),(((matrix1.$4*matrix2.$1)+(matrix1.$5*matrix2.$5))+(matrix1.$6*matrix2.$9))+(matrix1.$7*matrix2.$D),(((matrix1.$4*matrix2.$2)+(matrix1.$5*matrix2.$6))+(matrix1.$6*matrix2.$A))+(matrix1.$7*matrix2.$E),(((matrix1.$4*matrix2.$3)+(matrix1.$5*matrix2.$7))+(matrix1.$6*matrix2.$B))+(matrix1.$7*matrix2.$F),(((matrix1.$8*matrix2.$0)+(matrix1.$9*matrix2.$4))+(matrix1.$A*matrix2.$8))+(matrix1.$B*matrix2.$C),(((matrix1.$8*matrix2.$1)+(matrix1.$9*matrix2.$5))+(matrix1.$A*matrix2.$9))+(matrix1.$B*matrix2.$D),(((matrix1.$8*matrix2.$2)+(matrix1.$9*matrix2.$6))+(matrix1.$A*matrix2.$A))+(matrix1.$B*matrix2.$E),(((matrix1.$8*matrix2.$3)+(matrix1.$9*matrix2.$7))+(matrix1.$A*matrix2.$B))+(matrix1.$B*matrix2.$F),(((matrix1.$C*matrix2.$0)+(matrix1.$D*matrix2.$4))+(matrix1.$E*matrix2.$8))+(matrix1.$F*matrix2.$C),(((matrix1.$C*matrix2.$1)+(matrix1.$D*matrix2.$5))+(matrix1.$E*matrix2.$9))+(matrix1.$F*matrix2.$D),(((matrix1.$C*matrix2.$2)+(matrix1.$D*matrix2.$6))+(matrix1.$E*matrix2.$A))+(matrix1.$F*matrix2.$E),(((matrix1.$C*matrix2.$3)+(matrix1.$D*matrix2.$7))+(matrix1.$E*matrix2.$B))+(matrix1.$F*matrix2.$F));}
wwtlib.Matrix3d.lookAtLH=function(cameraPosition,cameraTarget,cameraUpVector){var $0=wwtlib.Vector3d.subtractVectors(cameraTarget,cameraPosition);$0.normalize();var $1=wwtlib.Vector3d.cross(cameraUpVector,$0);$1.normalize();var $2=wwtlib.Vector3d.cross($0,$1);var $3=wwtlib.Matrix3d.create($1.x,$2.x,$0.x,0,$1.y,$2.y,$0.y,0,$1.z,$2.z,$0.z,0,-wwtlib.Vector3d.dot($1,cameraPosition),-wwtlib.Vector3d.dot($2,cameraPosition),-wwtlib.Vector3d.dot($0,cameraPosition),1);return $3;}
wwtlib.Matrix3d.$1A=function(){var $0=wwtlib.Matrix3d.create(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);$0.set_$1B(true);return $0;}
wwtlib.Matrix3d.equals=function(matrix1,matrix2){if(matrix1.get_$1B()||matrix2.get_$1B()){return (matrix1.get_isIdentity()===matrix2.get_isIdentity());}if((((matrix1.get_m11()===matrix2.get_m11()&&matrix1.get_m12()===matrix2.get_m12())&&(matrix1.get_m13()===matrix2.get_m13()&&matrix1.get_m14()===matrix2.get_m14()))&&((matrix1.get_m21()===matrix2.get_m21()&&matrix1.get_m22()===matrix2.get_m22())&&(matrix1.get_m23()===matrix2.get_m23()&&matrix1.get_m24()===matrix2.get_m24())))&&(((matrix1.get_m31()===matrix2.get_m31()&&matrix1.get_m32()===matrix2.get_m32())&&(matrix1.get_m33()===matrix2.get_m33()&&matrix1.get_m34()===matrix2.get_m34()))&&((matrix1.get_offsetX()===matrix2.get_offsetX()&&matrix1.get_offsetY()===matrix2.get_offsetY())&&matrix1.get_offsetZ()===matrix2.get_offsetZ()))){return matrix1.get_m44()===matrix2.get_m44();}return false;}
wwtlib.Matrix3d.fromMatrix2d=function(mat){var $0=wwtlib.Matrix3d.$1A();$0.set_m11(mat.m11);$0.set_m12(mat.m12);$0.set_m13(mat.m13);$0.set_m21(mat.m21);$0.set_m22(mat.m22);$0.set_m23(mat.m23);$0.set_m31(mat.m31);$0.set_m32(mat.m32);$0.set_m33(mat.m33);$0.$10=true;return $0;}
wwtlib.Matrix3d.$1C=function($p0){var $0=$p0;var $1=wwtlib.Matrix3d.get_identity();$1.$0=Math.cos($0);$1.$5=1;$1.$8=Math.sin($0);$1.$2=-Math.sin($0);$1.$A=Math.cos($0);$1.$10=true;return $1;}
wwtlib.Matrix3d.$1D=function($p0){var $0=$p0;var $1=wwtlib.Matrix3d.get_identity();$1.$0=1;$1.$5=Math.cos($0);$1.$9=-Math.sin($0);$1.$6=Math.sin($0);$1.$A=Math.cos($0);$1.$10=true;return $1;}
wwtlib.Matrix3d.$1E=function($p0){var $0=$p0;var $1=wwtlib.Matrix3d.get_identity();$1.$0=Math.cos($0);$1.$4=-Math.sin($0);$1.$1=Math.sin($0);$1.$5=Math.cos($0);$1.$A=1;$1.$10=true;return $1;}
wwtlib.Matrix3d.$1F=function($p0,$p1,$p2){var $0=wwtlib.Matrix3d.get_identity();$0.$0=$p0;$0.$5=$p1;$0.$A=$p2;$0.$10=true;return $0;}
wwtlib.Matrix3d.$20=function($p0,$p1,$p2){var $0=wwtlib.Matrix3d.get_identity();$0.set_offsetX($p0);$0.set_offsetY($p1);$0.set_offsetZ($p2);$0.$10=true;return $0;}
wwtlib.Matrix3d.perspectiveFovLH=function(fieldOfViewY,aspectRatio,znearPlane,zfarPlane){var $0=1/Math.tan(fieldOfViewY/2);var $1=$0/aspectRatio;return wwtlib.Matrix3d.create($1,0,0,0,0,$0,0,0,0,0,zfarPlane/(zfarPlane-znearPlane),1,0,0,-znearPlane*zfarPlane/(zfarPlane-znearPlane),0);}
wwtlib.Matrix3d.perspectiveOffCenterLH=function(left,right,bottom,top,znearPlane,zfarPlane){return wwtlib.Matrix3d.create(2*znearPlane/(right-left),0,0,0,0,2*znearPlane/(top-bottom),0,0,(left+right)/(left-right),(top+bottom)/(bottom-top),zfarPlane/(zfarPlane-znearPlane),1,0,0,znearPlane*zfarPlane/(znearPlane-zfarPlane),0);}
wwtlib.Matrix3d.invertMatrix=function(matrix3d){var $0=matrix3d;$0.invert();return $0;}
wwtlib.Matrix3d.translation=function(vector3d){return wwtlib.Matrix3d.$20(vector3d.x,vector3d.y,vector3d.z);}
wwtlib.Matrix3d.getMapMatrix=function(center,fieldWidth,fieldHeight,rotation){var $0=0;var $1=0;$0=-((center.get_lng()+180-(fieldWidth/2))/360);$1=-(1-((center.get_lat()+90+(fieldHeight/2))/180));var $2=new wwtlib.Matrix2d();var $3=0;var $4=0;$3=360/fieldWidth;$4=180/fieldHeight;$2=wwtlib.Matrix2d.multiply($2,wwtlib.Matrix2d.translation($0,$1));$2=wwtlib.Matrix2d.multiply($2,wwtlib.Matrix2d.scaling($3,$4));if(!!rotation){$2=wwtlib.Matrix2d.multiply($2,wwtlib.Matrix2d.translation(-0.5,-0.5));$2=wwtlib.Matrix2d.multiply($2,wwtlib.Matrix2d.rotation(rotation));$2=wwtlib.Matrix2d.multiply($2,wwtlib.Matrix2d.translation(0.5,0.5));}return wwtlib.Matrix3d.fromMatrix2d($2);}
wwtlib.Matrix3d.prototype={$0:0,$1:0,$2:0,$3:0,$4:0,$5:0,$6:0,$7:0,$8:0,$9:0,$A:0,$B:0,$C:0,$D:0,$E:0,$F:0,$10:false,clone:function(){var $0=new wwtlib.Matrix3d();$0.set(this);return $0;},setIdentity:function(){this.set(wwtlib.Matrix3d.$11);},set:function(mat){this.$0=mat.$0;this.$1=mat.$1;this.$2=mat.$2;this.$3=mat.$3;this.$4=mat.$4;this.$5=mat.$5;this.$6=mat.$6;this.$7=mat.$7;this.$8=mat.$8;this.$9=mat.$9;this.$A=mat.$A;this.$B=mat.$B;this.$C=mat.$C;this.$D=mat.$D;this.$E=mat.$E;this.$F=mat.$F;this.$10=true;},floatArray:function(){var $0=new Array(16);$0[0]=this.$0;$0[1]=this.$1;$0[2]=this.$2;$0[3]=this.$3;$0[4]=this.$4;$0[5]=this.$5;$0[6]=this.$6;$0[7]=this.$7;$0[8]=this.$8;$0[9]=this.$9;$0[10]=this.$A;$0[11]=this.$B;$0[12]=this.$C;$0[13]=this.$D;$0[14]=this.$E;$0[15]=this.$F;return $0;},get_isIdentity:function(){if(this.get_$1B()){return true;}if(((((this.$0===1)&&(!this.$1))&&((!this.$2)&&(!this.$3)))&&(((!this.$4)&&(this.$5===1))&&((!this.$6)&&(!this.$7))))&&((((!this.$8)&&(!this.$9))&&((this.$A===1)&&(!this.$B)))&&(((!this.$C)&&(!this.$D))&&((!this.$E)&&(this.$F===1))))){this.set_$1B(true);return true;}return false;},prepend:function(matrix){this.set(wwtlib.Matrix3d.multiplyMatrix(matrix,this));},append:function(matrix){this.$21(matrix);},scale:function(scale){if(this.get_$1B()){this.$13(scale);}else{this.$0*=scale.x;this.$1*=scale.y;this.$2*=scale.z;this.$4*=scale.x;this.$5*=scale.y;this.$6*=scale.z;this.$8*=scale.x;this.$9*=scale.y;this.$A*=scale.z;this.$C*=scale.x;this.$D*=scale.y;this.$E*=scale.z;}},scalePrepend:function(scale){if(this.get_$1B()){this.$13(scale);}else{this.$0*=scale.x;this.$1*=scale.x;this.$2*=scale.x;this.$3*=scale.x;this.$4*=scale.y;this.$5*=scale.y;this.$6*=scale.y;this.$7*=scale.y;this.$8*=scale.z;this.$9*=scale.z;this.$A*=scale.z;this.$B*=scale.z;}},scaleAt:function(scale,center){if(this.get_$1B()){this.$14(scale,center);}else{var $0=this.$3*center.x;this.$0=$0+(scale.x*(this.$0-$0));$0=this.$3*center.y;this.$1=$0+(scale.y*(this.$1-$0));$0=this.$3*center.z;this.$2=$0+(scale.z*(this.$2-$0));$0=this.$7*center.x;this.$4=$0+(scale.x*(this.$4-$0));$0=this.$7*center.y;this.$5=$0+(scale.y*(this.$5-$0));$0=this.$7*center.z;this.$6=$0+(scale.z*(this.$6-$0));$0=this.$B*center.x;this.$8=$0+(scale.x*(this.$8-$0));$0=this.$B*center.y;this.$9=$0+(scale.y*(this.$9-$0));$0=this.$B*center.z;this.$A=$0+(scale.z*(this.$A-$0));$0=this.$F*center.x;this.$C=$0+(scale.x*(this.$C-$0));$0=this.$F*center.y;this.$D=$0+(scale.y*(this.$D-$0));$0=this.$F*center.z;this.$E=$0+(scale.z*(this.$E-$0));}},scaleAtPrepend:function(scale,center){if(this.get_$1B()){this.$14(scale,center);}else{var $0=center.x-(center.x*scale.x);var $1=center.y-(center.y*scale.y);var $2=center.z-(center.z*scale.z);this.$C+=((this.$0*$0)+(this.$4*$1))+(this.$8*$2);this.$D+=((this.$1*$0)+(this.$5*$1))+(this.$9*$2);this.$E+=((this.$2*$0)+(this.$6*$1))+(this.$A*$2);this.$F+=((this.$3*$0)+(this.$7*$1))+(this.$B*$2);this.$0*=scale.x;this.$1*=scale.x;this.$2*=scale.x;this.$3*=scale.x;this.$4*=scale.y;this.$5*=scale.y;this.$6*=scale.y;this.$7*=scale.y;this.$8*=scale.z;this.$9*=scale.z;this.$A*=scale.z;this.$B*=scale.z;}},translate:function(offset){if(this.get_$1B()){this.$15(offset);}else{this.$0+=this.$3*offset.x;this.$1+=this.$3*offset.y;this.$2+=this.$3*offset.z;this.$4+=this.$7*offset.x;this.$5+=this.$7*offset.y;this.$6+=this.$7*offset.z;this.$8+=this.$B*offset.x;this.$9+=this.$B*offset.y;this.$A+=this.$B*offset.z;this.$C+=this.$F*offset.x;this.$D+=this.$F*offset.y;this.$E+=this.$F*offset.z;}},translatePrepend:function(offset){if(this.get_$1B()){this.$15(offset);}else{this.$C+=((this.$0*offset.x)+(this.$4*offset.y))+(this.$8*offset.z);this.$D+=((this.$1*offset.x)+(this.$5*offset.y))+(this.$9*offset.z);this.$E+=((this.$2*offset.x)+(this.$6*offset.y))+(this.$A*offset.z);this.$F+=((this.$3*offset.x)+(this.$7*offset.y))+(this.$B*offset.z);}},transform:function(point){var $0=new wwtlib.Vector3d();if(!this.get_$1B()){var $1=point.x;var $2=point.y;var $3=point.z;$0.x=((($1*this.$0)+($2*this.$4))+($3*this.$8))+this.$C;$0.y=((($1*this.$1)+($2*this.$5))+($3*this.$9))+this.$D;$0.z=((($1*this.$2)+($2*this.$6))+($3*this.$A))+this.$E;if(!this.get_isAffine()){var $4=((($1*this.$3)+($2*this.$7))+($3*this.$B))+this.$F;$0.x/=$4;$0.y/=$4;$0.z/=$4;}}return $0;},$12:function($p0,$p1){$p1.x=((($p0.x*this.$0)+($p0.y*this.$4))+($p0.z*this.$8))+this.$C;$p1.y=((($p0.x*this.$1)+($p0.y*this.$5))+($p0.z*this.$9))+this.$D;$p1.z=((($p0.x*this.$2)+($p0.y*this.$6))+($p0.z*this.$A))+this.$E;var $0=((($p0.x*this.$3)+($p0.y*this.$7))+($p0.z*this.$B))+this.$F;$p1.x/=$0;$p1.y/=$0;$p1.z/=$0;},transformArray:function(points){if(points!=null){for(var $0=0;$0<points.length;$0++){this.$16(points[$0]);}}},projectArrayToScreen:function(input,output){if(input!=null&&output!=null){var $0=this.get_isAffine();for(var $1=0;$1<input.length;$1++){var $2=input[$1].x;var $3=input[$1].y;var $4=input[$1].z;if($0){output[$1].x=(((($2*this.$0)+($3*this.$4))+($4*this.$8))+this.$C);output[$1].y=(((($2*this.$1)+($3*this.$5))+($4*this.$9))+this.$D);output[$1].z=((($2*this.$2)+($3*this.$6))+($4*this.$A))+this.$E;}else{var $5=((($2*this.$3)+($3*this.$7))+($4*this.$B))+this.$F;output[$1].x=((((($2*this.$0)+($3*this.$4))+($4*this.$8))+this.$C)/$5);output[$1].y=((((($2*this.$1)+($3*this.$5))+($4*this.$9))+this.$D)/$5);output[$1].z=(((($2*this.$2)+($3*this.$6))+($4*this.$A))+this.$E)/$5;}}}},projectToScreen:function(input,width,height){var $0=new wwtlib.Vector3d();var $1=input.x;var $2=input.y;var $3=input.z;if(this.get_isAffine()){$0.x=((((($1*this.$0)+($2*this.$4))+($3*this.$8))+this.$C)+0.5)*width;$0.y=(-(((($1*this.$1)+($2*this.$5))+($3*this.$9))+this.$D)+0.5)*height;$0.z=((($1*this.$2)+($2*this.$6))+($3*this.$A))+this.$E;}else{var $4=((($1*this.$3)+($2*this.$7))+($3*this.$B))+this.$F;$0.x=(((((($1*this.$0)+($2*this.$4))+($3*this.$8))+this.$C)/$4)+0.5)*width;$0.y=(-((((($1*this.$1)+($2*this.$5))+($3*this.$9))+this.$D)/$4)+0.5)*height;$0.z=(((($1*this.$2)+($2*this.$6))+($3*this.$A))+this.$E)/$4;}return $0;},get_isAffine:function(){if(this.get_$1B()){return true;}if(((!this.$3)&&(!this.$7))&&(!this.$B)){return (this.$F===1);}return false;},get_determinant:function(){if(this.get_$1B()){return 1;}if(this.get_isAffine()){return this.$17();}var $0=(this.$2*this.$7)-(this.$6*this.$3);var $1=(this.$2*this.$B)-(this.$A*this.$3);var $2=(this.$2*this.$F)-(this.$E*this.$3);var $3=(this.$6*this.$B)-(this.$A*this.$7);var $4=(this.$6*this.$F)-(this.$E*this.$7);var $5=(this.$A*this.$F)-(this.$E*this.$B);var $6=((this.$5*$1)-(this.$9*$0))-(this.$1*$3);var $7=((this.$1*$4)-(this.$5*$2))+(this.$D*$0);var $8=((this.$9*$2)-(this.$D*$1))-(this.$1*$5);var $9=((this.$5*$5)-(this.$9*$4))+(this.$D*$3);return ((((this.$C*$6)+(this.$8*$7))+(this.$4*$8))+(this.$0*$9));},get_hasInverse:function(){return !wwtlib.DoubleUtilities.isZero(this.get_determinant());},invert:function(){if(!this.$19()){return;}},transpose:function(){var $0=new wwtlib.Matrix3d();$0.set(this);this.$1=$0.$4;this.$2=$0.$8;this.$3=$0.$C;this.$6=$0.$9;this.$7=$0.$D;this.$B=$0.$E;this.$4=$0.$1;this.$8=$0.$2;this.$C=$0.$3;this.$9=$0.$6;this.$D=$0.$7;this.$E=$0.$B;},get_m11:function(){if(this.get_$1B()){return 1;}return this.$0;},set_m11:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$0=value;return value;},get_m12:function(){return this.$1;},set_m12:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$1=value;return value;},get_m13:function(){return this.$2;},set_m13:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$2=value;return value;},get_m14:function(){return this.$3;},set_m14:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$3=value;return value;},get_m21:function(){return this.$4;},set_m21:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$4=value;return value;},get_m22:function(){if(this.get_$1B()){return 1;}return this.$5;},set_m22:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$5=value;return value;},get_m23:function(){return this.$6;},set_m23:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$6=value;return value;},get_m24:function(){return this.$7;},set_m24:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$7=value;return value;},get_m31:function(){return this.$8;},set_m31:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$8=value;return value;},get_m32:function(){return this.$9;},set_m32:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$9=value;return value;},get_m33:function(){if(this.get_$1B()){return 1;}return this.$A;},set_m33:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$A=value;return value;},get_m34:function(){return this.$B;},set_m34:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$B=value;return value;},get_m41:function(){return this.get_offsetX();},set_m41:function(value){this.set_offsetX(value);return value;},get_m42:function(){return this.get_offsetY();},set_m42:function(value){this.set_offsetY(value);return value;},get_m43:function(){return this.get_offsetZ();},set_m43:function(value){this.set_offsetZ(value);return value;},get_offsetX:function(){return this.$C;},set_offsetX:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$C=value;return value;},get_offsetY:function(){return this.$D;},set_offsetY:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$D=value;return value;},get_offsetZ:function(){return this.$E;},set_offsetZ:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$E=value;return value;},get_m44:function(){if(this.get_$1B()){return 1;}return this.$F;},set_m44:function(value){if(this.get_$1B()){this.set(wwtlib.Matrix3d.$11);this.set_$1B(false);}this.$F=value;return value;},$13:function($p0){this.$0=$p0.x;this.$5=$p0.y;this.$A=$p0.z;this.$F=1;this.set_$1B(false);},$14:function($p0,$p1){this.$0=$p0.x;this.$5=$p0.y;this.$A=$p0.z;this.$F=1;this.$C=$p1.x-($p1.x*$p0.x);this.$D=$p1.y-($p1.y*$p0.y);this.$E=$p1.z-($p1.z*$p0.z);this.set_$1B(false);},$15:function($p0){this.$0=this.$5=this.$A=this.$F=1;this.$C=$p0.x;this.$D=$p0.y;this.$E=$p0.z;this.set_$1B(false);},$16:function($p0){if(!this.get_$1B()){var $0=$p0.x;var $1=$p0.y;var $2=$p0.z;$p0.x=((($0*this.$0)+($1*this.$4))+($2*this.$8))+this.$C;$p0.y=((($0*this.$1)+($1*this.$5))+($2*this.$9))+this.$D;$p0.z=((($0*this.$2)+($1*this.$6))+($2*this.$A))+this.$E;if(!this.get_isAffine()){var $3=((($0*this.$3)+($1*this.$7))+($2*this.$B))+this.$F;$p0.x/=$3;$p0.y/=$3;$p0.z/=$3;}}},multiplyVector:function(vector){if(!this.get_$1B()){var $0=vector.x;var $1=vector.y;var $2=vector.z;vector.x=(($0*this.$0)+($1*this.$4))+($2*this.$8);vector.y=(($0*this.$1)+($1*this.$5))+($2*this.$9);vector.z=(($0*this.$2)+($1*this.$6))+($2*this.$A);}},$17:function(){var $0=(this.$1*this.$6)-(this.$5*this.$2);var $1=(this.$9*this.$2)-(this.$1*this.$A);var $2=(this.$5*this.$A)-(this.$9*this.$6);return (((this.$8*$0)+(this.$4*$1))+(this.$0*$2));},$18:function(){var $0=(this.$1*this.$6)-(this.$5*this.$2);var $1=(this.$9*this.$2)-(this.$1*this.$A);var $2=(this.$5*this.$A)-(this.$9*this.$6);var $3=((this.$8*$0)+(this.$4*$1))+(this.$0*$2);if(wwtlib.DoubleUtilities.isZero($3)){return false;}var $4=(this.$4*this.$2)-(this.$0*this.$6);var $5=(this.$0*this.$A)-(this.$8*this.$2);var $6=(this.$8*this.$6)-(this.$4*this.$A);var $7=(this.$0*this.$5)-(this.$4*this.$1);var $8=(this.$0*this.$9)-(this.$8*this.$1);var $9=(this.$0*this.$D)-(this.$C*this.$1);var $A=(this.$4*this.$9)-(this.$8*this.$5);var $B=(this.$4*this.$D)-(this.$C*this.$5);var $C=(this.$8*this.$D)-(this.$C*this.$9);var $D=((this.$6*$9)-(this.$E*$7))-(this.$2*$B);var $E=((this.$2*$C)-(this.$A*$9))+(this.$E*$8);var $F=((this.$A*$B)-(this.$E*$A))-(this.$6*$C);var $10=$7;var $11=-$8;var $12=$A;var $13=1/$3;this.$0=$2*$13;this.$1=$1*$13;this.$2=$0*$13;this.$4=$6*$13;this.$5=$5*$13;this.$6=$4*$13;this.$8=$12*$13;this.$9=$11*$13;this.$A=$10*$13;this.$C=$F*$13;this.$D=$E*$13;this.$E=$D*$13;return true;},$19:function(){if(!this.get_$1B()){if(this.get_isAffine()){return this.$18();}var $0=(this.$2*this.$7)-(this.$6*this.$3);var $1=(this.$2*this.$B)-(this.$A*this.$3);var $2=(this.$2*this.$F)-(this.$E*this.$3);var $3=(this.$6*this.$B)-(this.$A*this.$7);var $4=(this.$6*this.$F)-(this.$E*this.$7);var $5=(this.$A*this.$F)-(this.$E*this.$B);var $6=((this.$5*$1)-(this.$9*$0))-(this.$1*$3);var $7=((this.$1*$4)-(this.$5*$2))+(this.$D*$0);var $8=((this.$9*$2)-(this.$D*$1))-(this.$1*$5);var $9=((this.$5*$5)-(this.$9*$4))+(this.$D*$3);var $A=(((this.$C*$6)+(this.$8*$7))+(this.$4*$8))+(this.$0*$9);if(wwtlib.DoubleUtilities.isZero($A)){return false;}var $B=((this.$0*$3)-(this.$4*$1))+(this.$8*$0);var $C=((this.$4*$2)-(this.$C*$0))-(this.$0*$4);var $D=((this.$0*$5)-(this.$8*$2))+(this.$C*$1);var $E=((this.$8*$4)-(this.$C*$3))-(this.$4*$5);$0=(this.$0*this.$5)-(this.$4*this.$1);$1=(this.$0*this.$9)-(this.$8*this.$1);$2=(this.$0*this.$D)-(this.$C*this.$1);$3=(this.$4*this.$9)-(this.$8*this.$5);$4=(this.$4*this.$D)-(this.$C*this.$5);$5=(this.$8*this.$D)-(this.$C*this.$9);var $F=((this.$2*$3)-(this.$6*$1))+(this.$A*$0);var $10=((this.$6*$2)-(this.$E*$0))-(this.$2*$4);var $11=((this.$2*$5)-(this.$A*$2))+(this.$E*$1);var $12=((this.$A*$4)-(this.$E*$3))-(this.$6*$5);var $13=((this.$7*$1)-(this.$B*$0))-(this.$3*$3);var $14=((this.$3*$4)-(this.$7*$2))+(this.$F*$0);var $15=((this.$B*$2)-(this.$F*$1))-(this.$3*$5);var $16=((this.$7*$5)-(this.$B*$4))+(this.$F*$3);var $17=1/$A;this.$0=$9*$17;this.$1=$8*$17;this.$2=$7*$17;this.$3=$6*$17;this.$4=$E*$17;this.$5=$D*$17;this.$6=$C*$17;this.$7=$B*$17;this.$8=$16*$17;this.$9=$15*$17;this.$A=$14*$17;this.$B=$13*$17;this.$C=$12*$17;this.$D=$11*$17;this.$E=$10*$17;this.$F=$F*$17;}return true;},get_$1B:function(){return !this.$10;},set_$1B:function($p0){this.$10=!$p0;return $p0;},$21:function($p0){this.set(wwtlib.Matrix3d.multiplyMatrix(this,$p0));}}
wwtlib.Matrix2d=function(){}
wwtlib.Matrix2d.create=function(m11,m12,m13,m21,m22,m23,m31,m32,m33){var $0=new wwtlib.Matrix2d();$0.m11=m11;$0.m12=m12;$0.m13=m13;$0.m21=m21;$0.m22=m22;$0.m23=m23;$0.m31=m31;$0.m32=m32;$0.m33=m33;return $0;}
wwtlib.Matrix2d.rotation=function(angle){var $0=new wwtlib.Matrix2d();$0.m11=Math.cos(angle);$0.m21=-Math.sin(angle);$0.m12=Math.sin(angle);$0.m22=Math.cos(angle);return $0;}
wwtlib.Matrix2d.translation=function(x,y){var $0=new wwtlib.Matrix2d();$0.m31=x;$0.m32=y;return $0;}
wwtlib.Matrix2d.scaling=function(x,y){var $0=new wwtlib.Matrix2d();$0.m11=x;$0.m22=y;return $0;}
wwtlib.Matrix2d.multiply=function(matrix1,matrix2){return wwtlib.Matrix2d.create((((matrix1.m11*matrix2.m11)+(matrix1.m12*matrix2.m21))+(matrix1.m13*matrix2.m31)),(((matrix1.m11*matrix2.m12)+(matrix1.m12*matrix2.m22))+(matrix1.m13*matrix2.m32)),(((matrix1.m11*matrix2.m13)+(matrix1.m12*matrix2.m23))+(matrix1.m13*matrix2.m33)),(((matrix1.m21*matrix2.m11)+(matrix1.m22*matrix2.m21))+(matrix1.m23*matrix2.m31)),(((matrix1.m21*matrix2.m12)+(matrix1.m22*matrix2.m22))+(matrix1.m23*matrix2.m32)),(((matrix1.m21*matrix2.m13)+(matrix1.m22*matrix2.m23))+(matrix1.m23*matrix2.m33)),(((matrix1.m31*matrix2.m11)+(matrix1.m32*matrix2.m21))+(matrix1.m33*matrix2.m31)),(((matrix1.m31*matrix2.m12)+(matrix1.m32*matrix2.m22))+(matrix1.m33*matrix2.m32)),(((matrix1.m31*matrix2.m13)+(matrix1.m32*matrix2.m23))+(matrix1.m33*matrix2.m33)));}
wwtlib.Matrix2d.prototype={m11:1,m12:0,m13:0,m21:0,m22:1,m23:0,m31:0,m32:0,m33:1}
wwtlib.DoubleUtilities=function(){}
wwtlib.DoubleUtilities.isZero=function(value){return (Math.abs(value)<2.22044604925031E-50);}
wwtlib.DoubleUtilities.isOne=function(value){return (Math.abs(value-1)<2.22044604925031E-50);}
wwtlib.DoubleUtilities.radiansToDegrees=function(radians){return radians*180/Math.PI;}
wwtlib.DoubleUtilities.degreesToRadians=function(degrees){return degrees*Math.PI/180;}
wwtlib.DoubleUtilities.clamp=function(x,min,max){return Math.max(min,Math.min(x,max));}
wwtlib.PlaneD=function(valuePointA,valuePointB,valuePointC,valuePointD){this.a=valuePointA;this.b=valuePointB;this.c=valuePointC;this.d=valuePointD;}
wwtlib.PlaneD.prototype={a:0,b:0,c:0,d:0,normalize:function(){var $0=Math.sqrt(this.a*this.a+this.b*this.b+this.c*this.c);this.a/=$0;this.b/=$0;this.c/=$0;this.d/=$0;},dot:function(v){return this.b*v.y+this.c*v.z+this.d*v.w+this.a*v.x;}}
wwtlib.Vector4d=function(valueX,valueY,valueZ,valueW){this.x=valueX;this.y=valueY;this.z=valueZ;this.w=valueW;}
wwtlib.Vector4d.prototype={x:0,y:0,z:0,w:0}
wwtlib.PositionNormalTexturedX2=function(){}
wwtlib.PositionNormalTexturedX2.create2UV=function(pos,nor,u,v,u1,v1){var $0=new wwtlib.PositionNormalTexturedX2();$0.x=pos.x;$0.y=pos.y;$0.z=pos.z;$0.nx=nor.x;$0.ny=nor.y;$0.nz=nor.z;$0.tu=u;$0.tv=v;$0.tu1=u1;$0.tv1=v1;return $0;}
wwtlib.PositionNormalTexturedX2.create=function(pos,nor,u,v){var $0=new wwtlib.PositionNormalTexturedX2();$0.x=pos.x;$0.y=pos.y;$0.z=pos.z;$0.nx=nor.x;$0.ny=nor.y;$0.nz=nor.z;$0.tu=u;$0.tv=v;var $1=wwtlib.Coordinates.cartesianToSpherical2(nor);$0.tu1=(($1.get_lng()+180)/360);$0.tv1=(1-(($1.get_lat()+90)/180));return $0;}
wwtlib.PositionNormalTexturedX2.createLong2UV=function(xvalue,yvalue,zvalue,nxvalue,nyvalue,nzvalue,u,v,u1,v1){var $0=new wwtlib.PositionNormalTexturedX2();$0.x=xvalue;$0.y=yvalue;$0.z=zvalue;$0.nx=nxvalue;$0.ny=nyvalue;$0.nz=nzvalue;$0.tu=u;$0.tv=v;$0.tu1=u1;$0.tv1=v1;return $0;}
wwtlib.PositionNormalTexturedX2.get_strideSize=function(){return 40;}
wwtlib.PositionNormalTexturedX2.prototype={x:0,y:0,z:0,nx:0,ny:0,nz:0,tu:0,tv:0,tu1:0,tv1:0,get_lat:function(){return (1-this.tv1)*180-90;},set_lat:function(value){this.tv1=(1-((value+90)/180));return value;},get_lng:function(){return this.tu1*360-180;},set_lng:function(value){this.tu1=((value+180)/360);return value;},createLong:function(xvalue,yvalue,zvalue,nxvalue,nyvalue,nzvalue,u,v){var $0=new wwtlib.PositionNormalTexturedX2();$0.x=xvalue;$0.y=yvalue;$0.z=zvalue;$0.nx=nxvalue;$0.ny=nyvalue;$0.nz=nzvalue;$0.tu=u;$0.tv=v;var $1=wwtlib.Coordinates.cartesianToSpherical2(wwtlib.Vector3d.create(this.nx,this.ny,this.nz));$0.tu1=(($1.get_lng()+180)/360);$0.tv1=(1-(($1.get_lat()+90)/180));return $0;},get_normal:function(){return wwtlib.Vector3d.create(this.nx,this.ny,this.nz);},set_normal:function(value){this.nx=value.x;this.ny=value.y;this.nz=value.z;return value;},get_position:function(){return wwtlib.Vector3d.create(this.x,this.y,this.y);},set_position:function(value){this.x=value.x;this.y=value.y;this.z=value.z;return value;},toString:function(){return String.format('X={0}, Y={1}, Z={2}, Nx={3}, Ny={4}, Nz={5}, U={6}, V={7}, U1={8}, U2={9}',this.x,this.y,this.z,this.nx,this.ny,this.nz,this.tu,this.tv,this.tu1,this.tv1);}}
wwtlib.SphereHull=function(){}
wwtlib.SphereHull.$0=function($p0,$p1){var $0=new wwtlib.SphereHull();$0.center=$p0;$0.radius=$p1;return $0;}
wwtlib.SphereHull.prototype={center:null,radius:0}
wwtlib.ConvexHull=function(){}
wwtlib.ConvexHull.findEnclosingSphere=function(list){var $0=new wwtlib.Vector3d();var $1=0;var $2=list.length;var $3;var $4;var $5;var $6;var $7;var $8;var $9;var $A;var $B;var $C;var $D;var $E;var $F=new wwtlib.Vector3d();var $10=new wwtlib.Vector3d();var $11=new wwtlib.Vector3d();var $12=new wwtlib.Vector3d();var $13=new wwtlib.Vector3d();var $14=new wwtlib.Vector3d();var $15=new wwtlib.Vector3d();var $16=new wwtlib.Vector3d();$F.x=$11.y=$13.z=100000000;$10.x=$12.y=$14.z=-1000000000;for($3=0;$3<$2;$3++){var $17=list[$3];if($17.x<$F.x){$F=$17;}if($17.x>$10.x){$10=$17;}if($17.y<$11.y){$11=$17;}if($17.y>$12.y){$12=$17;}if($17.z<$13.z){$13=$17;}if($17.z>$14.z){$14=$17;}}$4=$10.x-$F.x;$5=$10.y-$F.y;$6=$10.z-$F.z;$8=$4*$4+$5*$5+$6*$6;$4=$12.x-$11.x;$5=$12.y-$11.y;$6=$12.z-$11.z;$9=$4*$4+$5*$5+$6*$6;$4=$14.x-$13.x;$5=$14.y-$13.y;$6=$14.z-$13.z;$A=$4*$4+$5*$5+$6*$6;$15=$F;$16=$10;$B=$8;if($9>$B){$B=$9;$15=$11;$16=$12;}if($A>$B){$15=$13;$16=$14;}$0.x=($15.x+$16.x)/2;$0.y=($15.y+$16.y)/2;$0.z=($15.z+$16.z)/2;$4=$16.x-$0.x;$5=$16.y-$0.y;$6=$16.z-$0.z;$7=$4*$4+$5*$5+$6*$6;$1=Math.sqrt($7);for($3=0;$3<$2;$3++){var $18=list[$3];$4=$18.x-$0.x;$5=$18.y-$0.y;$6=$18.z-$0.z;$D=$4*$4+$5*$5+$6*$6;if($D>$7){$C=Math.sqrt($D);$1=($1+$C)/2;$7=$1*$1;$E=$C-$1;$0.x=($1*$0.x+$E*$18.x)/$C;$0.y=($1*$0.y+$E*$18.y)/$C;$0.z=($1*$0.z+$E*$18.z)/$C;}}return wwtlib.SphereHull.$0($0,$1);}
wwtlib.EquirectangularTile=function(){wwtlib.EquirectangularTile.initializeBase(this);}
wwtlib.EquirectangularTile.create=function(level,x,y,dataset,parent){var $0=new wwtlib.EquirectangularTile();$0.parent=parent;$0.level=level;$0.tileX=x;$0.tileY=y;$0.dataset=dataset;$0.$10=!dataset.get_bottomsUp();$0.computeBoundingSphere();return $0;}
wwtlib.EquirectangularTile.prototype={$F:0,$10:true,computeBoundingSphere:function(){if(!this.$10){this.computeBoundingSphereBottomsUp();return;}this.$F=this.dataset.get_baseTileDegrees()/Math.pow(2,this.level);var $0=(90-((this.tileY)*this.$F));var $1=(90-(((this.tileY+1))*this.$F));var $2=((this.tileX*this.$F)-180);var $3=((((this.tileX+1))*this.$F)-180);var $4=($0+$1)/2;var $5=($2+$3)/2;this.sphereCenter=this.geoTo3d($4,$5,false);this.topLeft=this.geoTo3d($0,$2,false);this.bottomRight=this.geoTo3d($1,$3,false);this.topRight=this.geoTo3d($0,$3,false);this.bottomLeft=this.geoTo3d($1,$2,false);var $6=this.geoTo3d($0,$2,false);$6.subtract(this.sphereCenter);this.sphereRadius=$6.length();this.$F=$3-$2;},computeBoundingSphereBottomsUp:function(){var $0=this.dataset.get_baseTileDegrees()/(Math.pow(2,this.level));var $1=(-90+(((this.tileY+1))*$0));var $2=(-90+((this.tileY)*$0));var $3=((this.tileX*$0)-180);var $4=((((this.tileX+1))*$0)-180);var $5=($1+$2)/2;var $6=($3+$4)/2;this.sphereCenter=this.geoTo3d($5,$6,false);this.topLeft=this.geoTo3d($1,$3,false);this.bottomRight=this.geoTo3d($2,$4,false);this.topRight=this.geoTo3d($1,$4,false);this.bottomLeft=this.geoTo3d($2,$3,false);var $7=this.topLeft;$7.subtract(this.sphereCenter);this.sphereRadius=$7.length();$0=$4-$3;},$11:1,createGeometry:function(renderContext){wwtlib.EquirectangularTile.callBaseMethod(this, 'createGeometry',[renderContext]);if(renderContext.gl==null){if(!this.dataset.get_dataSetType()||this.dataset.get_dataSetType()===1){this.$11=Math.max(2,(4-this.level)*2);}}else{this.$11=32;}try{for(var $10=0;$10<4;$10++){this.$0[$10]=[];}if(!this.$10){return this.$12(renderContext);}var $0,$1;var $2=0;var $3=this.dataset.get_baseTileDegrees()/Math.pow(2,this.level);var $4=(90-((this.tileY)*$3));var $5=(90-(((this.tileY+1))*$3));var $6=((this.tileX*$3)-180);var $7=((((this.tileX+1))*$3)-180);var $8=$7-$6;var $9=$5-$4;this.topLeft=this.geoTo3d($4,$6,false);this.bottomRight=this.geoTo3d($5,$7,false);this.topRight=this.geoTo3d($4,$7,false);this.bottomLeft=this.geoTo3d($5,$6,false);var $A=new Array((this.$11+1)*(this.$11+1));var $B,$C;var $D=1/this.$11;for($C=0;$C<=this.$11;$C++){if($C!==this.$11){$0=$4+($D*$9*$C);}else{$0=$5;}for($B=0;$B<=this.$11;$B++){if($B!==this.$11){$1=$6+($D*$8*$B);}else{$1=$7;}$2=$C*(this.$11+1)+$B;$A[$2]=wwtlib.PositionTexture.createPos(this.geoTo3d($0,$1,false),$B*$D,$C*$D);}}this.triangleCount=this.$11*this.$11*2;var $E=this.$11/2;var $F=0;if(renderContext.gl==null){for(var $11=0;$11<2;$11++){for(var $12=0;$12<2;$12++){$2=0;for(var $13=($E*$11);$13<($E*($11+1));$13++){for(var $14=($E*$12);$14<($E*($12+1));$14++){var $15;var $16;var $17;$15=$A[($13*(this.$11+1)+$14)];$16=$A[(($13+1)*(this.$11+1)+$14)];$17=$A[($13*(this.$11+1)+($14+1))];this.$0[$F].add(wwtlib.RenderTriangle.create($15,$17,$16,this.texture,this.level));$15=$A[($13*(this.$11+1)+($14+1))];$16=$A[(($13+1)*(this.$11+1)+$14)];$17=$A[(($13+1)*(this.$11+1)+($14+1))];this.$0[$F].add(wwtlib.RenderTriangle.create($15,$17,$16,this.texture,this.level));}}$F++;}}}else{this.$2=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34962,this.$2);var $18=new Float32Array($A.length*5);var $19=$18;$2=0;var $enum1=ss.IEnumerator.getEnumerator($A);while($enum1.moveNext()){var $1A=$enum1.current;$2=this.addVertex($19,$2,$1A);}wwtlib.Tile.prepDevice.bufferData(34962,$18,35044);for(var $1B=0;$1B<2;$1B++){for(var $1C=0;$1C<2;$1C++){var $1D=new Uint16Array(this.triangleCount*3);var $1E=$1D;$2=0;for(var $1F=($E*$1B);$1F<($E*($1B+1));$1F++){for(var $20=($E*$1C);$20<($E*($1C+1));$20++){$1E[$2++]=($1F*(this.$11+1)+$20);$1E[$2++]=(($1F+1)*(this.$11+1)+$20);$1E[$2++]=($1F*(this.$11+1)+($20+1));$1E[$2++]=($1F*(this.$11+1)+($20+1));$1E[$2++]=(($1F+1)*(this.$11+1)+$20);$1E[$2++]=(($1F+1)*(this.$11+1)+($20+1));}}this.$1[$F]=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34963,this.$1[$F]);wwtlib.Tile.prepDevice.bufferData(34963,$1D,35044);$F++;}}}}catch($21){}return true;},$12:function($p0){var $0,$1;var $2=0;var $3=this.dataset.get_baseTileDegrees()/Math.pow(2,this.level);var $4=(-90+(((this.tileY+1))*$3));var $5=(-90+((this.tileY)*$3));var $6=((this.tileX*$3)-180);var $7=((((this.tileX+1))*$3)-180);var $8=$7-$6;var $9=$5-$4;var $A=new Array((this.$11+1)*(this.$11+1));var $B,$C;var $D=1/this.$11;for($C=0;$C<=this.$11;$C++){if($C!==this.$11){$0=$4+($D*$9*$C);}else{$0=$5;}for($B=0;$B<=this.$11;$B++){if($B!==this.$11){$1=$6+($D*$8*$B);}else{$1=$7;}$2=$C*(this.$11+1)+$B;$A[$2]=wwtlib.PositionTexture.createPos(this.geoTo3d($0,$1,false),$B*$D,$C*$D);}}this.triangleCount=this.$11*this.$11*2;var $E=this.$11/2;var $F=0;if($p0.gl==null){for(var $10=0;$10<2;$10++){for(var $11=0;$11<2;$11++){$2=0;for(var $12=($E*$10);$12<($E*($10+1));$12++){for(var $13=($E*$11);$13<($E*($11+1));$13++){var $14;var $15;var $16;$14=$A[($12*(this.$11+1)+$13)];$15=$A[(($12+1)*(this.$11+1)+$13)];$16=$A[($12*(this.$11+1)+($13+1))];this.$0[$F].add(wwtlib.RenderTriangle.create($14,$16,$15,this.texture,this.level));$14=$A[($12*(this.$11+1)+($13+1))];$15=$A[(($12+1)*(this.$11+1)+$13)];$16=$A[(($12+1)*(this.$11+1)+($13+1))];this.$0[$F].add(wwtlib.RenderTriangle.create($14,$16,$15,this.texture,this.level));}}$F++;}}}else{this.$2=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34962,this.$2);var $17=new Float32Array($A.length*5);var $18=$17;$2=0;var $enum1=ss.IEnumerator.getEnumerator($A);while($enum1.moveNext()){var $19=$enum1.current;$2=this.addVertex($18,$2,$19);}wwtlib.Tile.prepDevice.bufferData(34962,$17,35044);for(var $1A=0;$1A<2;$1A++){for(var $1B=0;$1B<2;$1B++){var $1C=new Uint16Array(this.triangleCount*3);var $1D=$1C;$2=0;for(var $1E=($E*$1A);$1E<($E*($1A+1));$1E++){for(var $1F=($E*$1B);$1F<($E*($1B+1));$1F++){$1D[$2++]=($1E*(this.$11+1)+$1F);$1D[$2++]=(($1E+1)*(this.$11+1)+$1F);$1D[$2++]=($1E*(this.$11+1)+($1F+1));$1D[$2++]=($1E*(this.$11+1)+($1F+1));$1D[$2++]=(($1E+1)*(this.$11+1)+$1F);$1D[$2++]=(($1E+1)*(this.$11+1)+($1F+1));}}this.$1[$F]=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34963,this.$1[$F]);wwtlib.Tile.prepDevice.bufferData(34963,$1C,35044);$F++;}}}return true;}}
wwtlib.Folder=function(){this.$B=new Date();this.$D=[];this.$E=[];this.$F=[];this.$10=[];this.$11=[];this.$12=[];}
wwtlib.Folder.prototype={toString:function(){return this.$13;},parent:null,isProxy:false,$0:false,get_versionDependent:function(){return this.$0;},set_versionDependent:function(value){this.$0=value;var $enum1=ss.IEnumerator.getEnumerator(this.$11);while($enum1.moveNext()){var $0=$enum1.current;$0.set_versionDependent(this.$0);}return value;},$1:true,get_readOnly:function(){return this.$1;},set_readOnly:function(value){this.$1=value;return value;},$2:false,get_dirty:function(){return this.$2;},set_dirty:function(value){this.$2=value;return value;},$3:null,$4:null,loadFromUrl:function(url,complete){this.$4=complete;this.$3=new wwtlib.WebFile(wwtlib._Util.$3(url));this.$3.onStateChange=ss.Delegate.create(this,this.$5);this.$3.send();},$5:function(){if(this.$3.get_state()===2){alert(this.$3.get_message());}else if(this.$3.get_state()===1){var $0=wwtlib._Util.$6(this.$3.getXml(),'Folder');if($0==null){var $1=this.$3.getXml();if($1!=null){$0=wwtlib._Util.$6($1,'Folder');}}if($0!=null){this.$6();this.$7($0);}if(this.$4!=null){this.$4();}}},$6:function(){this.$11.clear();this.$10.clear();this.$12.clear();this.get_imagesets().clear();},$7:function($p0){if($p0.attributes.getNamedItem('Name')!=null){this.$13=$p0.attributes.getNamedItem('Name').nodeValue;}else{this.$13='';}if($p0.attributes.getNamedItem('Url')!=null){this.$15=$p0.attributes.getNamedItem('Url').nodeValue;}if($p0.attributes.getNamedItem('Thumbnail')!=null){this.$16=$p0.attributes.getNamedItem('Thumbnail').nodeValue;}var $enum1=ss.IEnumerator.getEnumerator($p0.childNodes);while($enum1.moveNext()){var $0=$enum1.current;switch($0.nodeName){case 'Folder':var $1=new wwtlib.Folder();$1.parent=this;$1.$7($0);this.$11.add($1);break;case 'Place':this.$12.add(wwtlib.Place.$11($0));break;case 'ImageSet':this.get_imagesets().add(wwtlib.Imageset.fromXMLNode($0));break;case 'Tour':this.get_tours().add(wwtlib.Tour.$0($0));break;}}},addChildFolder:function(child){this.$11.add(child);this.$2=true;},removeChildFolder:function(child){this.$11.remove(child);this.$2=true;},addChildPlace:function(child){this.$12.add(child);this.$2=true;},removeChildPlace:function(child){this.$12.remove(child);this.$2=true;},$8:null,get_thumbnail:function(){return this.$8;},set_thumbnail:function(value){this.$8=value;return value;},$9:null,get_bounds:function(){return this.$9;},set_bounds:function(value){this.$9=value;return value;},get_isImage:function(){return false;},get_isTour:function(){return false;},get_isFolder:function(){return true;},get_isCloudCommunityItem:function(){return !!this.$1F||this.$21>0;},$A:null,refresh:function(){if(this.$A==null){this.$A=new wwtlib.Folder();this.$A.isProxy=true;this.$A.parent=this.parent;}this.$A.loadFromUrl(this.$15,this.$C);this.$C=null;},$C:null,childLoadCallback:function(callback){this.$C=callback;var $0=this.get_children();if(this.$A==null){callback();}},get_children:function(){if(String.isNullOrEmpty(this.$15)){this.$D.clear();if(this.parent!=null){var $0=new wwtlib.wwtlib$4();$0.$0=this.parent;this.$D.add($0);}if(this.get_folders()!=null){var $enum1=ss.IEnumerator.getEnumerator(this.get_folders());while($enum1.moveNext()){var $1=$enum1.current;this.$D.add($1);}}if(this.get_imagesets()!=null){var $enum2=ss.IEnumerator.getEnumerator(this.get_imagesets());while($enum2.moveNext()){var $2=$enum2.current;this.$D.add($2);}}if(this.get_places()!=null){var $enum3=ss.IEnumerator.getEnumerator(this.get_places());while($enum3.moveNext()){var $3=$enum3.current;this.$D.add($3);}}if(this.get_tours()!=null){var $enum4=ss.IEnumerator.getEnumerator(this.get_tours());while($enum4.moveNext()){var $4=$enum4.current;this.$D.add($4);}}return this.$D;}else{var $5=(this.$B-Date.get_now())/1000;if(true||this.get_refreshType()===1||this.$A==null||(!this.get_refreshType()&&(parseInt(this.$19)<$5))){this.refresh();}if(this.$A!=null){return this.$A.get_children();}else{return null;}}},$13:null,$14:0,$15:null,$16:null,$17:0,$18:false,$19:null,$1A:true,$1B:false,$1C:false,$1D:0,$1E:null,$1F:0,get_msrCommunityId:function(){return this.$1F;},set_msrCommunityId:function(value){this.$1F=value;return value;},$20:0,get_msrComponentId:function(){return this.$20;},set_msrComponentId:function(value){this.$20=value;return value;},$21:0,get_permission:function(){return this.$21;},set_permission:function(value){this.$21=value;return value;},get_folders:function(){return this.$11;},set_folders:function(value){this.$11=value;return value;},get_places:function(){return this.$12;},set_places:function(value){this.$12=value;return value;},get_imagesets:function(){return this.$F;},set_imagesets:function(value){this.$F=value;return value;},get_tours:function(){return this.$10;},set_tours:function(value){this.$10=value;return value;},get_name:function(){if(this.$13==null){return '';}else{return this.$13;}},set_name:function(value){this.$13=value;return value;},get_group:function(){return this.$14;},set_group:function(value){this.$14=value;return value;},get_url:function(){return this.$15;},set_url:function(value){this.$15=value;return value;},get_thumbnailUrl:function(){if(String.isNullOrEmpty(this.$16)){return 'http://cdn.worldwidetelescope.org/wwtweb/thumbnail.aspx?name=folder';}return this.$16;},set_thumbnailUrl:function(value){this.$16=value;return value;},get_refreshType:function(){return this.$17;},set_refreshType:function(value){this.$17=value;this.set_refreshTypeSpecified(true);return value;},get_refreshTypeSpecified:function(){return this.$18;},set_refreshTypeSpecified:function(value){this.$18=value;return value;},get_refreshInterval:function(){return this.$19;},set_refreshInterval:function(value){this.$19=value;return value;},get_browseable:function(){return this.$1A;},set_browseable:function(value){this.$1A=value;this.$1B=true;return value;},get_browseableSpecified:function(){return this.$1B;},set_browseableSpecified:function(value){this.$1B=value;return value;},get_searchable:function(){return this.$1C;},set_searchable:function(value){this.$1C=value;return value;},get_type:function(){return this.$1D;},set_type:function(value){this.$1D=value;return value;},get_subType:function(){return this.$1E;},set_subType:function(value){this.$1E=value;return value;}}
wwtlib.FolderBrowser=function(){this.$0=[];this.$1=-1;this.$F=0;this.$1B=-1;this.$1C=-1;}
wwtlib.FolderBrowser.create=function(){var $0=new wwtlib.FolderBrowser();$0.height=85;$0.width=1920;$0.canvas=document.createElement('canvas');$0.canvas.width=$0.width;$0.canvas.height=$0.height;$0.setup();$0.loadImages();return $0;}
wwtlib.FolderBrowser.prototype={canvas:null,top:10,left:10,setup:function(){this.canvas.addEventListener('click',ss.Delegate.create(this,this.onClick),false);this.canvas.addEventListener('dblclick',ss.Delegate.create(this,this.onDoubleClick),false);this.canvas.addEventListener('mousemove',ss.Delegate.create(this,this.onMouseMove),false);this.canvas.addEventListener('mouseup',ss.Delegate.create(this,this.onMouseUp),false);this.canvas.addEventListener('mousedown',ss.Delegate.create(this,this.onMouseDown),false);this.canvas.addEventListener('mousewheel',ss.Delegate.create(this,this.onMouseWheel),false);this.canvas.addEventListener('touchstart',ss.Delegate.create(this,this.onTouchStart),false);this.canvas.addEventListener('touchmove',ss.Delegate.create(this,this.onTouchMove),false);this.canvas.addEventListener('touchend',ss.Delegate.create(this,this.onTouchEnd),false);this.canvas.addEventListener('mouseout',ss.Delegate.create(this,this.onMouseUp),false);},onTouchStart:function(e){var $0=e;$0.preventDefault();this.$3=true;this.$4=$0.targetTouches[0].pageX;this.$5=$0.targetTouches[0].pageY;this.$1=this.$1F(wwtlib.Vector2d.create($0.targetTouches[0].pageX,$0.targetTouches[0].pageY));},onTouchMove:function(e){var $0=e;$0.preventDefault();if(this.$3){var $1=$0.targetTouches[0].pageX-this.$4;var $2=$0.targetTouches[0].pageY-this.$5;if(this.$3){this.$18=true;}if(!this.$18){var $3=this.$1F(wwtlib.Vector2d.create($0.targetTouches[0].pageX,$0.targetTouches[0].pageY));if(this.$1C!==$3){this.$1C=$3;}}else{var $4=Math.round((($0.targetTouches[0].pageX-this.$4)+this.$1A)/this.$10);var $5=Math.round((($0.targetTouches[0].pageX-this.$4)+this.$1A)-($4*this.$10));this.$1A=$5;this.$19-=$4;if(this.$19<0){this.$1A-=(this.$10*this.$19);this.$19=0;}this.$4=$0.targetTouches[0].pageX;this.$5=$0.targetTouches[0].pageY;}this.refresh();}},onTouchEnd:function(e){var $0=e;$0.preventDefault();if(this.$18){this.$18=false;this.$6=true;}else if(this.$1>-1&&this.$3){this.$2(this.$1);}this.$1A=0;this.$3=false;this.refresh();},onClick:function(e){if(!this.$6){var $0=this.$1F(wwtlib.Vector2d.create(e.offsetX,e.offsetY));this.$2($0);}else{this.$6=false;}},$2:function($p0){if($p0>-1){if(Type.canCast(this.$0[$p0],wwtlib.Place)){var $0=this.$0[$p0];wwtlib.WWTControl.singleton.gotoTarget($0,false,false,true);return;}if(Type.canCast(this.$0[$p0],wwtlib.Imageset)){var $1=this.$0[$p0];wwtlib.WWTControl.singleton.renderContext.set_backgroundImageset($1);return;}if(Type.canCast(this.$0[$p0],wwtlib.Tour)){var $2=this.$0[$p0];wwtlib.WWTControl.singleton.playTour($2.get_tourUrl());return;}if(Type.canCast(this.$0[$p0],wwtlib.Folder)){var $3=this.$0[$p0];this.$19=0;$3.childLoadCallback(ss.Delegate.create(this,function(){
this.$0=$3.get_children();this.refresh();}));return;}if(Type.canCast(this.$0[$p0],wwtlib.wwtlib$4)){var $4=this.$0[$p0];if($4.$0!=null){this.$19=0;$4.$0.childLoadCallback(ss.Delegate.create(this,function(){
this.$0=$4.$0.get_children();this.refresh();}));}return;}}return;},onDoubleClick:function(e){wwtlib.RenderTriangle.renderingOn=!wwtlib.RenderTriangle.renderingOn;},onGestureChange:function(e){var $0=e;this.$3=false;var $1=$0.scale;},$3:false,$4:0,$5:0,onMouseDown:function(e){this.$3=true;this.$4=wwtlib.Mouse.offsetX(this.canvas,e);this.$5=wwtlib.Mouse.offsetY(this.canvas,e);},onMouseMove:function(e){if(this.$3){this.$18=true;}if(!this.$18){var $0=this.$1F(wwtlib.Vector2d.create(wwtlib.Mouse.offsetX(this.canvas,e),wwtlib.Mouse.offsetY(this.canvas,e)));if(this.$1C!==$0){this.$1C=$0;}}else{var $1=Math.round(((wwtlib.Mouse.offsetX(this.canvas,e)-this.$4)+this.$1A)/this.$10);var $2=Math.round(((wwtlib.Mouse.offsetX(this.canvas,e)-this.$4)+this.$1A)-($1*this.$10));this.$1A=$2;this.$19-=$1;if(this.$19<0){this.$1A-=(this.$10*this.$19);this.$19=0;}this.$4=wwtlib.Mouse.offsetX(this.canvas,e);this.$5=wwtlib.Mouse.offsetY(this.canvas,e);}this.refresh();},$6:false,onMouseUp:function(e){if(this.$18){this.$1A=0;this.$18=false;this.$6=true;}this.$3=false;this.refresh();},onMouseWheel:function(e){var $0=e;var $1=$0.wheelDelta;},loadImages:function(){if(!wwtlib.FolderBrowser.$8&&!wwtlib.FolderBrowser.$7){wwtlib.FolderBrowser.$9=0;wwtlib.FolderBrowser.$8=false;wwtlib.FolderBrowser.$7=true;wwtlib.FolderBrowser.$A=document.createElement('img');wwtlib.FolderBrowser.$A.src='images/thumbBackground.png';wwtlib.FolderBrowser.$A.addEventListener('load',ss.Delegate.create(this,function($p1_0){
wwtlib.FolderBrowser.$9++;if(wwtlib.FolderBrowser.$9===5){wwtlib.FolderBrowser.$7=false;wwtlib.FolderBrowser.$8=true;this.refresh();}}),false);wwtlib.FolderBrowser.$B=document.createElement('img');wwtlib.FolderBrowser.$B.src='images/thumbBackgroundHover.png';wwtlib.FolderBrowser.$B.addEventListener('load',ss.Delegate.create(this,function($p1_0){
wwtlib.FolderBrowser.$9++;if(wwtlib.FolderBrowser.$9===5){wwtlib.FolderBrowser.$7=false;wwtlib.FolderBrowser.$8=true;this.refresh();}}),false);wwtlib.FolderBrowser.$C=document.createElement('img');wwtlib.FolderBrowser.$C.src='images/thumbBackgroundWide.png';wwtlib.FolderBrowser.$C.addEventListener('load',ss.Delegate.create(this,function($p1_0){
wwtlib.FolderBrowser.$9++;if(wwtlib.FolderBrowser.$9===5){wwtlib.FolderBrowser.$7=false;wwtlib.FolderBrowser.$8=true;this.refresh();}}),false);wwtlib.FolderBrowser.$D=document.createElement('img');wwtlib.FolderBrowser.$D.src='images/thumbBackgroundWideHover.png';wwtlib.FolderBrowser.$D.addEventListener('load',ss.Delegate.create(this,function($p1_0){
wwtlib.FolderBrowser.$9++;if(wwtlib.FolderBrowser.$9===5){wwtlib.FolderBrowser.$7=false;wwtlib.FolderBrowser.$8=true;this.refresh();}}),false);wwtlib.FolderBrowser.$E=document.createElement('img');wwtlib.FolderBrowser.$E.src='images/dragInsertMarker.png';wwtlib.FolderBrowser.$E.addEventListener('load',ss.Delegate.create(this,function($p1_0){
wwtlib.FolderBrowser.$9++;if(wwtlib.FolderBrowser.$9===5){wwtlib.FolderBrowser.$7=false;wwtlib.FolderBrowser.$8=true;this.refresh();}}),false);}},get_thumbnailSize:function(){return this.$F;},set_thumbnailSize:function(value){this.$F=value;switch(value){case 1:this.$10=180;this.$11=75;this.$12=65;this.$13=180;break;case 0:this.$10=110;this.$11=75;this.$12=65;this.$13=110;break;}this.$16();this.refresh();return value;},refresh:function(){if(this.width!==window.innerWidth){this.width=window.innerWidth;this.canvas.width=this.canvas.width;}this.paint();},$10:110,$11:75,$12:65,$13:110,$14:110,$15:1,get_rowCount:function(){return this.$15;},set_rowCount:function(value){if(this.$15!==value){this.$15=value;this.$16();}return value;},$16:function(){},$17:6,get_colCount:function(){return this.$17;},set_colCount:function(value){if(this.$17!==value){this.$17=value;this.$16();}return value;},$18:false,$19:0,$1A:0,get_itemsPerPage:function(){return this.$15*this.$17;},get_currentPage:function(){return this.$19/this.get_itemsPerPage();},showAddButton:false,get_pageCount:function(){return Math.max(1,((this.$0.length+this.get_itemsPerPage()-1)+((this.showAddButton)?1:0))/this.get_itemsPerPage());},width:0,height:0,paint:function(){var $0=this.canvas.getContext('2d');$0.fillStyle='rgb(20, 22, 31)';$0.fillRect(0,0,this.width,this.height);if(!wwtlib.FolderBrowser.$8){return;}var $1=(this.height-10*2);var $2=(this.width-10*2);this.set_rowCount(Math.round(Math.max($1/this.$12,1)));this.set_colCount(Math.round(Math.max($2/this.$10,1)));this.$14=($2+13)/this.get_colCount();this.$19=Math.round((this.$19/this.get_itemsPerPage())*this.get_itemsPerPage());var $3;var $4=this.$19;for(var $5=0;$5<this.$15;$5++){for(var $6=0;$6<this.$17;$6++){if($4>=this.$0.length){if(!this.$0.length||this.showAddButton){$3=wwtlib.Rectangle.create(this.left+$6*this.$14+3+this.$1A,this.top+$5*this.$11,this.$13-10,60);$0.drawImage((this.$F===1)?wwtlib.FolderBrowser.$C:wwtlib.FolderBrowser.$A,parseInt(($6*this.$14))+this.$1A,$5*this.$11);}break;}$3=wwtlib.Rectangle.create(this.left+$6*this.$14+3+this.$1A,this.top+$5*this.$11,this.$13-14,60);var $7='white';if($4===this.$1C||($4===this.$1B&&this.$1C===-1)){$0.drawImage((this.$F===1)?wwtlib.FolderBrowser.$D:wwtlib.FolderBrowser.$B,this.left+parseInt(($6*this.$14))+this.$1A,this.top+$5*this.$11);$7='yellow';}else{$0.drawImage((this.$F===1)?wwtlib.FolderBrowser.$C:wwtlib.FolderBrowser.$A,this.left+parseInt(($6*this.$14))+this.$1A,this.top+$5*this.$11);}this.$0[$4].set_bounds(wwtlib.Rectangle.create((this.left+$6*this.$14)+this.$1A,this.top+($5*this.$11),parseInt(this.$14),this.$11));try{var $8=this.$0[$4].get_thumbnail();if($8!=null){$0.drawImage($8,this.left+($6*this.$14)+2+this.$1A,this.top+$5*this.$11+3);$0.strokeStyle='rgb(0,0,0)';$0.rect(this.left+parseInt(($6*this.$14))+2+this.$1A,this.top+$5*this.$11+3,this.$0[$4].get_thumbnail().width,this.$0[$4].get_thumbnail().height);}else{this.$0[$4].set_thumbnail(document.createElement('img'));this.$0[$4].get_thumbnail().src=this.$0[$4].get_thumbnailUrl();this.$0[$4].get_thumbnail().addEventListener('load',ss.Delegate.create(this,function($p1_0){
this.refresh();}),false);}}catch($9){}$0.fillStyle=$7;$0.strokeStyle=$7;$0.lineWidth=1;$0.font='normal 8pt Arial';$0.fillText(this.$0[$4].get_name(),$3.x,$3.y+$3.height,$3.width);$4++;}if($4>=this.$0.length){break;}}},$1E:false,imageClicked:false,$1F:function($p0){var $0=wwtlib.Vector2d.create($p0.x+this.left,$p0.y+this.top);this.imageClicked=false;var $1=-1;var $2=parseInt(($0.x/this.$14));var $3=parseInt(($0.x%this.$14));if($2>=this.$17){return -1;}if($2<0){return -1;}var $4=parseInt(($0.y/this.$11));var $5=parseInt(($0.y%this.$11));if($4>=this.$15){return -1;}if($4<0){return -1;}$1=this.$19+$4*this.$17+$2;if($1===this.$0.length){this.$1E=true;}else{this.$1E=false;}if($1>this.$0.length-1){return -1;}if((this.$0[$1]).get_isImage()&&$5<16&&$3>78){this.imageClicked=true;}return $1;},$20:function($p0){this.$0=$p0;}}
wwtlib.wwtlib$4=function(){this.$2=new wwtlib.Rectangle();}
wwtlib.wwtlib$4.prototype={get_name:function(){return 'Up Level';},$0:null,$1:null,get_thumbnail:function(){return this.$1;},set_thumbnail:function($p0){this.$1=$p0;return $p0;},get_thumbnailUrl:function(){return 'http://www.worldwidetelescope.org/wwtweb/thumbnail.aspx?Name=folderup';},set_thumbnailUrl:function($p0){return;return $p0;},get_bounds:function(){return this.$2;},set_bounds:function($p0){this.$2=$p0;return $p0;},get_isImage:function(){return false;},get_isTour:function(){return false;},get_isFolder:function(){return false;},get_isCloudCommunityItem:function(){return false;},get_readOnly:function(){return false;},get_children:function(){if(this.$0==null){return [];}else{return this.$0.get_children();}}}
wwtlib.Imageset=function(){this.$F=0;this.$10=3;}
wwtlib.Imageset.getTileKey=function(imageset,level,x,y){return imageset.get_imageSetID().toString()+'\\'+level.toString()+'\\'+y.toString()+'_'+x.toString();}
wwtlib.Imageset.getNewTile=function(imageset,level,x,y,parent){switch(imageset.get_projection()){case 0:var $0=wwtlib.MercatorTile.create(level,x,y,imageset,parent);return $0;case 1:return wwtlib.EquirectangularTile.create(level,x,y,imageset,parent);case 3:default:return wwtlib.ToastTile.create(level,x,y,imageset,parent);case 5:return wwtlib.SkyImageTile.create(level,x,y,imageset,parent);case 6:return wwtlib.PlotTile.create(level,x,y,imageset,parent);case 2:var $1=wwtlib.TangentTile.create(level,x,y,imageset,parent);return $1;}}
wwtlib.Imageset.fromXMLNode=function(node){try{var $0=2;var $1=2;if(node.attributes.getNamedItem('DataSetType')!=null){switch(node.attributes.getNamedItem('DataSetType').nodeValue.toLowerCase()){case 'earth':$0=0;break;case 'planet':$0=1;break;case 'sky':$0=2;break;case 'panorama':$0=3;break;case 'solarsystem':$0=4;break;}}var $2=3;switch(node.attributes.getNamedItem('BandPass').nodeValue){case 'Gamma':$2=0;break;case 'XRay':$2=1;break;case 'Ultraviolet':$2=2;break;case 'Visible':$2=3;break;case 'HydrogenAlpha':$2=4;break;case 'IR':$2=4;break;case 'Microwave':$2=5;break;case 'Radio':$2=6;break;case 'VisibleNight':$2=6;break;default:break;}var $3=1;if(node.attributes.getNamedItem('WidthFactor')!=null){$3=parseInt(node.attributes.getNamedItem('WidthFactor').nodeValue);}if(node.attributes.getNamedItem('Generic')==null||!Boolean.parse(node.attributes.getNamedItem('Generic').nodeValue)){switch(node.attributes.getNamedItem('Projection').nodeValue.toLowerCase()){case 'tan':case 'tangent':$1=2;break;case 'mercator':$1=0;break;case 'equirectangular':$1=1;break;case 'toast':$1=3;break;case 'spherical':$1=4;break;case 'plotted':$1=6;break;case 'skyimage':$1=5;break;}var $4=node.attributes.getNamedItem('FileType').nodeValue;if(!$4.startsWith('.')){$4='.'+$4;}var $5='';var $6=wwtlib._Util.$6(node,'ThumbnailUrl');if($6!=null){if(String.isNullOrEmpty($6.text)){var $1D=$6;$5=$1D.textContent;}else{$5=$6.text;}}var $7=false;var $8=false;if(node.attributes.getNamedItem('StockSet')!=null){$7=Boolean.parse(node.attributes.getNamedItem('StockSet').nodeValue);}if(node.attributes.getNamedItem('ElevationModel')!=null){$8=Boolean.parse(node.attributes.getNamedItem('ElevationModel').nodeValue);}var $9='';if(node.attributes.getNamedItem('DemUrl')!=null){$9=node.attributes.getNamedItem('DemUrl').nodeValue;}var $A='';if(node.attributes.getNamedItem('AltUrl')!=null){$A=node.attributes.getNamedItem('AltUrl').nodeValue;}var $B=0;if(node.attributes.getNamedItem('OffsetX')!=null){$B=parseFloat(node.attributes.getNamedItem('OffsetX').nodeValue);}var $C=0;if(node.attributes.getNamedItem('OffsetY')!=null){$C=parseFloat(node.attributes.getNamedItem('OffsetY').nodeValue);}var $D='';var $E=wwtlib._Util.$6(node,'Credits');if($E!=null){$D=$E.text;}var $F='';$E=wwtlib._Util.$6(node,'CreditsUrl');if($E!=null){$F=$E.text;}var $10=0;if(node.attributes.getNamedItem('MeanRadius')!=null){$10=parseFloat(node.attributes.getNamedItem('MeanRadius').nodeValue);}var $11=null;if(node.attributes.getNamedItem('ReferenceFrame')!=null){$11=node.attributes.getNamedItem('ReferenceFrame').nodeValue;}var $12='';if(node.attributes.getNamedItem('Name')!=null){$12=node.attributes.getNamedItem('Name').nodeValue;}var $13='';if(node.attributes.getNamedItem('Url')!=null){$13=node.attributes.getNamedItem('Url').nodeValue;}var $14=0;if(node.attributes.getNamedItem('BaseTileLevel')!=null){$14=parseInt(node.attributes.getNamedItem('BaseTileLevel').nodeValue);}var $15=0;if(node.attributes.getNamedItem('TileLevels')!=null){$15=parseInt(node.attributes.getNamedItem('TileLevels').nodeValue);}var $16=0;if(node.attributes.getNamedItem('BaseDegreesPerTile')!=null){$16=parseFloat(node.attributes.getNamedItem('BaseDegreesPerTile').nodeValue);}var $17=false;if(node.attributes.getNamedItem('BottomsUp')!=null){$17=Boolean.parse(node.attributes.getNamedItem('BottomsUp').nodeValue);}var $18='';if(node.attributes.getNamedItem('QuadTreeMap')!=null){$18=node.attributes.getNamedItem('QuadTreeMap').nodeValue;}var $19=0;if(node.attributes.getNamedItem('CenterX')!=null){$19=parseFloat(node.attributes.getNamedItem('CenterX').nodeValue);}var $1A=0;if(node.attributes.getNamedItem('CenterY')!=null){$1A=parseFloat(node.attributes.getNamedItem('CenterY').nodeValue);}var $1B=0;if(node.attributes.getNamedItem('Rotation')!=null){$1B=parseFloat(node.attributes.getNamedItem('Rotation').nodeValue);}var $1C=false;if(node.attributes.getNamedItem('Sparse')!=null){$1C=Boolean.parse(node.attributes.getNamedItem('Sparse').nodeValue);}return wwtlib.Imageset.create($12,$13,$0,$2,$1,Math.abs(wwtlib._Util.$0($13)),$14,$15,256,$16,$4,$17,$18,$19,$1A,$1B,$1C,$5,$7,$8,$3,$B,$C,$D,$F,$9,$A,$10,$11);}else{return wwtlib.Imageset.createGeneric($0,$2);}}catch($1E){return null;}}
wwtlib.Imageset.createGeneric=function(dataSetType,bandPass){var $0=new wwtlib.Imageset();$0.$19=true;$0.$16='Generic';$0.$17=false;$0.$F=dataSetType;$0.$10=bandPass;$0.$A='';$0.url='';$0.$6=0;$0.$3=0;$0.$2=0;$0.$5='';$0.$0=1;$0.$8=false;$0.$9=0;$0.$7=(!$0.$0);$0.$B=0;$0.$C=0;$0.$D=0;$0.$18='';$0.$13=wwtlib.Matrix3d.get_identity();$0.$13.$21(wwtlib.Matrix3d.$1D(($0.get_rotation()/180*Math.PI)));$0.$13.$21(wwtlib.Matrix3d.$1E(($0.get_centerY()/180*Math.PI)));$0.$13.$21(wwtlib.Matrix3d.$1C((((360-$0.get_centerX())+180)/180*Math.PI)));return $0;}
wwtlib.Imageset.create=function(name,url,dataSetType,bandPass,projection,imageSetID,baseLevel,levels,tileSize,baseTileDegrees,extension,bottomsUp,quadTreeMap,centerX,centerY,rotation,sparse,thumbnailUrl,defaultSet,elevationModel,wf,offsetX,offsetY,credits,creditsUrl,demUrlIn,alturl,meanRadius,referenceFrame){var $0=new wwtlib.Imageset();$0.set_referenceFrame(referenceFrame);$0.set_meanRadius(meanRadius);$0.$11=alturl;$0.demUrl=demUrlIn;$0.$1E=credits;$0.$1F=creditsUrl;$0.$1D=offsetY;$0.$1C=offsetX;$0.$4=wf;$0.$1B=elevationModel;$0.$1A=defaultSet;$0.$16=name;$0.$17=sparse;$0.$F=dataSetType;$0.$10=bandPass;$0.$A=quadTreeMap;$0.url=url;$0.$6=levels;$0.$3=baseTileDegrees;$0.$2=imageSetID;$0.$5=extension;$0.$0=projection;$0.$8=bottomsUp;$0.$9=baseLevel;$0.$7=(!projection);$0.$B=centerX;$0.$C=centerY;$0.$D=rotation;$0.$18=thumbnailUrl;$0.$15();return $0;}
wwtlib.Imageset.prototype={$0:0,get_projection:function(){return this.$0;},set_projection:function(value){this.$0=value;return value;},$1:null,get_referenceFrame:function(){return this.$1;},set_referenceFrame:function(value){this.$1=value;return value;},$2:0,get_imageSetID:function(){return this.$2;},set_imageSetID:function(value){this.$2=value;return value;},$3:0,get_baseTileDegrees:function(){return this.$3;},set_baseTileDegrees:function(value){this.$3=value;return value;},$4:1,get_widthFactor:function(){return this.$4;},set_widthFactor:function(value){this.$4=value;return value;},getHashCode:function(){return wwtlib._Util.$0(this.get_url());},url:null,get_url:function(){return this.url;},set_url:function(value){this.url=value;return value;},demUrl:'',get_demUrl:function(){if(String.isNullOrEmpty(this.demUrl)&&!this.$0){return 'http://www.worldwidetelescope.org/wwtweb/BingDemTile.aspx?Q={0},{1},{2}';}return this.demUrl;},set_demUrl:function(value){this.demUrl=value;return value;},$5:null,get_extension:function(){return this.$5;},set_extension:function(value){this.$5=value;return value;},$6:0,get_levels:function(){return this.$6;},set_levels:function(value){this.$6=value;return value;},$7:false,$8:false,get_bottomsUp:function(){return this.$8;},set_bottomsUp:function(value){this.$8=value;return value;},get_mercator:function(){return this.$7;},set_mercator:function(value){this.$7=value;return value;},$9:1,get_baseLevel:function(){return this.$9;},set_baseLevel:function(value){this.$9=value;return value;},$A:'0123',get_quadTreeTileMap:function(){return this.$A;},set_quadTreeTileMap:function(value){this.$A=value;return value;},$B:0,get_centerX:function(){return this.$B;},set_centerX:function(value){if(this.$B!==value){this.$B=value;this.$15();}return value;},$C:0,get_centerY:function(){return this.$C;},set_centerY:function(value){if(this.$C!==value){this.$C=value;this.$15();}return value;},$D:0,get_rotation:function(){return this.$D;},set_rotation:function(value){if(this.$D!==value){this.$D=value;this.$15();}return value;},$E:0,get_meanRadius:function(){return this.$E;},set_meanRadius:function(value){this.$E=value;return value;},get_bandPass:function(){return this.$10;},set_bandPass:function(value){this.$10=value;return value;},get_dataSetType:function(){return this.$F;},set_dataSetType:function(value){this.$F=value;return value;},$11:'',get_altUrl:function(){return this.$11;},set_altUrl:function(value){this.$11=value;return value;},$12:false,get_singleImage:function(){return this.$12;},set_singleImage:function(value){this.$12=value;return value;},toString:function(){if(this.get_defaultSet()){return this.$16+' *';}else{return this.$16;}},get_stockImageSet:function(){if(this.$19||!this.$1A){return this;}else{return wwtlib.Imageset.createGeneric(this.get_dataSetType(),this.get_bandPass());}},equals:function(obj){if(obj==null){return false;}if(!(Type.canCast(obj,wwtlib.Imageset))){return false;}var $0=obj;return (wwtlib._Util.$0($0.get_url())===wwtlib._Util.$0(this.get_url())&&$0.get_dataSetType()===this.get_dataSetType()&&$0.get_bandPass()===this.get_bandPass()&&$0.get_generic()===this.get_generic());},$13:null,get_matrix:function(){if(!this.$14){this.$15();}return this.$13;},set_matrix:function(value){this.$13=value;return value;},$14:false,$15:function(){this.$14=true;this.$13=wwtlib.Matrix3d.get_identity();this.$13.$21(wwtlib.Matrix3d.$1D((this.get_rotation()/180*Math.PI)));this.$13.$21(wwtlib.Matrix3d.$1E((this.get_centerY()/180*Math.PI)));this.$13.$21(wwtlib.Matrix3d.$1C(((360-this.get_centerX())/180*Math.PI)));},$16:'',get_name:function(){return this.$16;},set_name:function(value){this.$16=value;return value;},$17:false,get_sparse:function(){return this.$17;},set_sparse:function(value){this.$17=value;return value;},$18:'',get_thumbnailUrl:function(){return this.$18;},set_thumbnailUrl:function(value){this.$18=value;return value;},$19:false,get_generic:function(){return this.$19;},set_generic:function(value){this.$19=value;return value;},$1A:false,$1B:false,get_elevationModel:function(){return this.$1B;},set_elevationModel:function(value){this.$1B=value;return value;},get_defaultSet:function(){return this.$1A;},set_defaultSet:function(value){this.$1A=value;return value;},$1C:0,get_offsetX:function(){return this.$1C;},set_offsetX:function(value){this.$1C=value;return value;},$1D:0,get_offsetY:function(){return this.$1D;},set_offsetY:function(value){this.$1D=value;return value;},$1E:null,get_creditsText:function(){return this.$1E;},set_creditsText:function(value){this.$1E=value;return value;},$1F:null,get_creditsUrl:function(){return this.$1F;},set_creditsUrl:function(value){this.$1F=value;return value;},get_isMandelbrot:function(){return false;},$20:null,get_thumbnail:function(){return this.$20;},set_thumbnail:function(value){this.$20=value;return value;},$21:null,get_bounds:function(){return this.$21;},set_bounds:function(value){this.$21=value;return value;},get_isImage:function(){return true;},get_isTour:function(){return false;},get_isFolder:function(){return false;},get_isCloudCommunityItem:function(){return false;},get_readOnly:function(){return false;},get_children:function(){return [];}}
wwtlib.ViewMoverKenBurnsStyle=function(from,to,time,fromDateTime,toDateTime,type){this.interpolationType=0;this.interpolationType=type;if(Math.abs(from.lng-to.lng)>180){if(from.lng>to.lng){from.lng-=360;}else{from.lng+=360;}}this.$1=fromDateTime;this.$2=toDateTime;this.$5=toDateTime-fromDateTime;this.$0=from.copy();this.to=to.copy();this.$3=Date.get_now();this.$4=time;}
wwtlib.ViewMoverKenBurnsStyle.prototype={fastDirectionMove:false,$0:null,to:null,$1:null,$2:null,$3:null,$4:0,$5:0,$6:false,$7:false,get_complete:function(){return this.$6;},get_currentPosition:function(){var $0=Date.get_now()-this.$3;var $1=($0)/1000;var $2=$1/this.$4;if(!this.$7&&$2>=0.5){this.$7=true;if(this.$8!=null){this.$8();}}if($2>=1){$2=1;this.$6=true;return this.to.copy();}if(wwtlib.Settings.get_active().get_galacticMode()&&wwtlib.WWTControl.singleton.renderContext.space){return wwtlib.CameraParameters.interpolateGreatCircle(this.$0,this.to,$2,this.interpolationType,this.fastDirectionMove);}return wwtlib.CameraParameters.interpolate(this.$0,this.to,$2,this.interpolationType,this.fastDirectionMove);},get_currentDateTime:function(){var $0=Date.get_now()-this.$3;var $1=($0)/1000;var $2=$1/this.$4;var $3=this.$5*$2;var $4=new Date(this.$1.getTime()+parseInt($3));return $4;},$8:null,get_midpoint:function(){return this.$8;},set_midpoint:function(value){this.$8=value;return value;},get_moveTime:function(){return this.$4;}}
wwtlib.wwtlib$5=function(){}
wwtlib.wwtlib$5.$A=function($p0,$p1){var $0=new wwtlib.wwtlib$5();$0.$C($p0,$p1);return $0;}
wwtlib.wwtlib$5.$B=function($p0,$p1,$p2){var $0=new wwtlib.wwtlib$5();$0.$7=$0.$8=$p2;$0.$C($p0.copy(),$p1.copy());return $0;}
wwtlib.wwtlib$5.prototype={$0:null,$1:null,to:null,$2:null,$3:null,$4:0,$5:0,$6:0,$7:0.6,$8:0.6,$9:7,$C:function($p0,$p1){if(Math.abs($p0.lng-$p1.lng)>180){if($p0.lng>$p1.lng){$p0.lng-=360;}else{$p0.lng+=360;}}if($p1.zoom<=0){$p1.zoom=360;}if($p0.zoom<=0){$p0.zoom=360;}this.$0=$p0;this.to=$p1;this.$3=Date.get_now();var $0=360;var $1;var $2=Math.abs($p0.lng-$p1.lng);var $3=Math.abs($p0.lat-$p1.lat);var $4=Math.sqrt($3*$3+$2*$2);$0=($4/3)*20;if($0>360){$0=360;}if($0<$p0.zoom){$0=$p0.zoom;}$1=($4/180)*(360/$0)*this.$9;var $5=Math.max(Math.abs($p0.angle-$p1.angle),Math.abs($p0.rotation-$p1.rotation));var $6=Math.max(Math.abs(wwtlib._Util.$1($0,2)-wwtlib._Util.$1($p0.zoom,2)),$5);this.$4=this.$7*$6;this.$5=this.$4+$1;var $7=Math.abs(wwtlib._Util.$1($0,2)-wwtlib._Util.$1($p1.zoom,2));this.$6=this.$5+Math.max((this.$8*$7),$5);this.$1=$p0.copy();this.$1.zoom=$0;this.$1.angle=($p0.angle+$p1.angle)/2;this.$1.rotation=($p0.rotation+$p1.rotation)/2;this.$2=$p1.copy();this.$2.zoom=this.$1.zoom;this.$2.angle=this.$1.angle;this.$2.rotation=this.$1.rotation;},$D:false,$E:false,get_complete:function(){return this.$E;},get_currentPosition:function(){var $0=Date.get_now()-this.$3;var $1=($0)/1000;if($1<this.$4){return wwtlib.CameraParameters.interpolate(this.$0,this.$1,$1/this.$4,3,false);}else if($1<this.$5){$1-=this.$4;if(wwtlib.Settings.get_active().get_galacticMode()&&wwtlib.WWTControl.singleton.renderContext.space){return wwtlib.CameraParameters.interpolateGreatCircle(this.$1,this.$2,$1/(this.$5-this.$4),3,false);}return wwtlib.CameraParameters.interpolate(this.$1,this.$2,$1/(this.$5-this.$4),3,false);}else{if(!this.$D){this.$D=true;if(this.$F!=null){this.$F();}}$1-=this.$5;var $2=$1/(this.$6-this.$5);if($2>1){$2=1;this.$E=true;return this.to.copy();}return wwtlib.CameraParameters.interpolate(this.$2,this.to,$2,3,false);}},get_currentDateTime:function(){wwtlib.SpaceTimeController.updateClock();return wwtlib.SpaceTimeController.get_now();},$F:null,get_midpoint:function(){return this.$F;},set_midpoint:function($p0){this.$F=$p0;return $p0;},get_moveTime:function(){return this.$6;}}
window.$0=function(){var $0=document.getElementById('canvas');var $1=$0.getContext('2d');$1.fillStyle='rgb(80,0,0)';$1.fillRect(120,120,165,160);$1.fillStyle='rgba(0, 0, 160, 0.5)';$1.fillRect(140,140,165,160);}
wwtlib.MercatorTile=function(){wwtlib.MercatorTile.initializeBase(this);}
wwtlib.MercatorTile.create=function(level,X,Y,dataset,parent){var $0=new wwtlib.MercatorTile();$0.parent=parent;$0.level=level;$0.tileX=X;$0.tileY=Y;$0.dataset=dataset;$0.computeBoundingSphere();return $0;}
wwtlib.MercatorTile.getCentrePointOffsetAsTileRatio=function(lat,lon,zoom){var $0=wwtlib.MercatorTile.absoluteLonToMetersAtZoom(lon,zoom);var $1=($0/256)-Math.floor($0/256);var $2=wwtlib.MercatorTile.absoluteLatToMetersAtZoom(lat,zoom);var $3=($2/256)-Math.floor($2/256);return wwtlib.Vector2d.create($1,$3);}
wwtlib.MercatorTile.relativeMetersToLatAtZoom=function(Y,zoom){var $0=wwtlib.MercatorTile.metersPerPixel2(zoom);var $1=Y*$0;return wwtlib.MercatorTile.$18(Math.PI/2-2*Math.atan(Math.exp(0-$1/6378137)));}
wwtlib.MercatorTile.relativeMetersToLonAtZoom=function(X,zoom){var $0=wwtlib.MercatorTile.metersPerPixel2(zoom);var $1=X*$0;return wwtlib.MercatorTile.$18($1/6378137);}
wwtlib.MercatorTile.absoluteLatToMetersAtZoom=function(latitude,zoom){var $0=Math.sin(wwtlib.MercatorTile.$17(latitude));var $1=6378137/2*Math.log((1+$0)/(1-$0));var $2=wwtlib.MercatorTile.metersPerPixel2(zoom);return parseInt((Math.round(20037508-$1)/$2));}
wwtlib.MercatorTile.absoluteMetersToLatAtZoom=function(Y,zoom){var $0=wwtlib.MercatorTile.metersPerPixel2(zoom);var $1=20037508-Y*$0;return wwtlib.MercatorTile.$18(Math.PI/2-2*Math.atan(Math.exp(0-$1/6378137)));}
wwtlib.MercatorTile.absoluteLonToMetersAtZoom=function(longitude,zoom){var $0=6378137*wwtlib.MercatorTile.$17(longitude);var $1=wwtlib.MercatorTile.metersPerPixel2(zoom);return parseInt((($0+20037508)/$1));}
wwtlib.MercatorTile.absoluteMetersToLonAtZoom=function(X,zoom){var $0=wwtlib.MercatorTile.metersPerPixel2(zoom);var $1=X*$0-20037508;return wwtlib.MercatorTile.$18($1/6378137);}
wwtlib.MercatorTile.absoluteLonToMetersAtZoomTile=function(longitude,zoom,tileX){var $0=6378137*wwtlib.MercatorTile.$17(longitude);var $1=wwtlib.MercatorTile.metersPerPixel2(zoom);return parseInt((($0+20037508)/$1));}
wwtlib.MercatorTile.absoluteLatToMetersAtZoomTile=function(latitude,zoom,tileX){var $0=Math.sin(wwtlib.MercatorTile.$17(latitude));var $1=6378137/2*Math.log((1+$0)/(1-$0));var $2=wwtlib.MercatorTile.metersPerPixel2(zoom);return parseInt((Math.round(20037508-$1)/$2));}
wwtlib.MercatorTile.absoluteMetersToLonAtZoomByTileY=function(X,zoom,tileY){var $0=wwtlib.MercatorTile.metersPerPixel2(zoom);var $1=X*$0-20037508;return wwtlib.MercatorTile.$18($1/6378137);}
wwtlib.MercatorTile.$17=function($p0){return ($p0*Math.PI/180);}
wwtlib.MercatorTile.metersPerPixel2=function(zoom){return (156543/(1<<zoom));}
wwtlib.MercatorTile.$18=function($p0){return ($p0*180/Math.PI);}
wwtlib.MercatorTile.prototype={$F:0,$10:0,$11:0,$12:0,$13:0,computeBoundingSphere:function(){this.$F=360/Math.pow(2,this.level);this.$10=wwtlib.MercatorTile.absoluteMetersToLatAtZoom(this.tileY*256,this.level);this.$11=wwtlib.MercatorTile.absoluteMetersToLatAtZoom((this.tileY+1)*256,this.level);this.$12=((this.tileX*this.$F)-180);this.$13=((((this.tileX+1))*this.$F)-180);var $0=(this.$10+this.$11)/2;var $1=(this.$12+this.$13)/2;this.sphereCenter=this.geoTo3d($0,$1,false);this.topLeft=this.geoTo3d(this.$10,this.$12,false);this.bottomRight=this.geoTo3d(this.$11,this.$13,false);this.topRight=this.geoTo3d(this.$10,this.$13,false);this.bottomLeft=this.geoTo3d(this.$11,this.$12,false);if(!this.tileY){this.topLeft=wwtlib.Vector3d.create(0,1,0);this.topRight=wwtlib.Vector3d.create(0,1,0);}if(this.tileY===Math.pow(2,this.level)-1){this.bottomRight=wwtlib.Vector3d.create(0,-1,0);this.bottomLeft=wwtlib.Vector3d.create(0,-1,0);}var $2=this.topLeft;$2.subtract(this.sphereCenter);this.sphereRadius=$2.length();$2=this.bottomRight;$2.subtract(this.sphereCenter);var $3=$2.length();if(this.sphereRadius<$3){this.sphereRadius=$3;}this.$F=Math.abs(this.$11-this.$10);},isPointInTile:function(lat,lng){if(!this.demReady||this.demData==null||lat<Math.min(this.$10,this.$11)||lat>Math.max(this.$11,this.$10)||lng<Math.min(this.$12,this.$13)||lng>Math.max(this.$12,this.$13)){return false;}return true;},getSurfacePointAltitude:function(lat,lng,meters){if(this.level<wwtlib.Tile.lastDeepestLevel){var $enum1=ss.IEnumerator.getEnumerator(this.children);while($enum1.moveNext()){var $1=$enum1.current;if($1!=null){if($1.isPointInTile(lat,lng)){var $2=$1.getSurfacePointAltitude(lat,lng,meters);if(!!$2){return $2;}else{break;}}}}}var $0=this.$14(lat,lng,(meters)?1:this.get_$4());return $0;},$14:function($p0,$p1,$p2){var $0=Math.abs(this.$11-this.$10);var $1=Math.abs(this.$13-this.$12);var $2=(($p0-Math.min(this.$11,this.$10))/$0*32);var $3=(($p1-Math.min(this.$13,this.$12))/$1*32);var $4=Math.min(31,parseInt($2));var $5=Math.min(31,parseInt($3));var $6=$3-$5;var $7=$2-$4;var $8=this.demData[$4*33+$5];var $9=this.demData[$4*33+($5+1)];var $A=this.demData[($4+1)*33+$5];var $B=this.demData[($4+1)*33+($5+1)];var $C=$8*(1-$6)+$6*$9;var $D=$A*(1-$6)+$6*$B;var $E=$C*(1-$7)+$7*$D;return $E/$p2;},$15:32,createGeometry:function(renderContext){wwtlib.MercatorTile.callBaseMethod(this, 'createGeometry',[renderContext]);if(this.geometryCreated){return true;}this.geometryCreated=true;if(wwtlib.Tile.uvMultiple===256){if(!this.dataset.get_dataSetType()||this.dataset.get_dataSetType()===1){this.$15=Math.max(2,(6-this.level)*2);}}for(var $0=0;$0<4;$0++){this.$0[$0]=[];}var $1,$2;var $3=0;var $4=360/Math.pow(2,this.level);this.$10=wwtlib.MercatorTile.absoluteMetersToLatAtZoom(this.tileY*256,this.level);this.$11=wwtlib.MercatorTile.absoluteMetersToLatAtZoom((this.tileY+1)*256,this.level);this.$12=((this.tileX*$4)-180);this.$13=((((this.tileX+1))*$4)-180);var $5=wwtlib.MercatorTile.absoluteMetersToLatAtZoom(((this.tileY*2)+1)*256,this.level+1);this.topLeft=this.geoTo3d(this.$10,this.$12,false);this.bottomRight=this.geoTo3d(this.$11,this.$13,false);this.topRight=this.geoTo3d(this.$10,this.$13,false);this.bottomLeft=this.geoTo3d(this.$11,this.$12,false);var $6=new Array((this.$15+1)*(this.$15+1));$4=this.$13-this.$12;var $7=($4/this.$15);var $8,$9;var $A=1/this.$15;var $B=this.$11-$5;for($9=0;$9<this.$15/2;$9++){if($9!==this.$15/2){$1=this.$11-(2*$A*$B*$9);}else{$1=$5;}for($8=0;$8<=this.$15;$8++){if($8!==this.$15){$2=this.$12+($A*$4*$8);}else{$2=this.$13;}$3=$9*(this.$15+1)+$8;$6[$3]=new wwtlib.PositionTexture();$6[$3].position=this.geoTo3dWithAlt($1,$2,false,true);$6[$3].tu=($8*$A)*wwtlib.Tile.uvMultiple;$6[$3].tv=((wwtlib.MercatorTile.absoluteLatToMetersAtZoom($1,this.level)-(this.tileY*256))/256)*wwtlib.Tile.uvMultiple;this.demIndex++;}}$B=this.$10-$5;for($9=this.$15/2;$9<=this.$15;$9++){if($9!==this.$15){$1=$5+(2*$A*$B*($9-(this.$15/2)));}else{$1=this.$10;}for($8=0;$8<=this.$15;$8++){if($8!==this.$15){$2=this.$12+($A*$4*$8);}else{$2=this.$13;}$3=$9*(this.$15+1)+$8;$6[$3]=new wwtlib.PositionTexture();$6[$3].position=this.geoTo3dWithAlt($1,$2,false,true);$6[$3].tu=($8*$A)*wwtlib.Tile.uvMultiple;$6[$3].tv=((wwtlib.MercatorTile.absoluteLatToMetersAtZoom($1,this.level)-(this.tileY*256))/256)*wwtlib.Tile.uvMultiple;this.demIndex++;}}if(!this.tileY){$9=this.$15;for($8=0;$8<=this.$15;$8++){$3=$9*(this.$15+1)+$8;$6[$3].position=wwtlib.Vector3d.create(0,1,0);}}if(this.tileY===Math.pow(2,this.level)-1){$9=0;for($8=0;$8<=this.$15;$8++){$3=$9*(this.$15+1)+$8;$6[$3].position=wwtlib.Vector3d.create(0,-1,0);}}this.triangleCount=this.$15*this.$15*2;var $C=this.$15/2;var $D=0;if(renderContext.gl==null){for(var $E=0;$E<2;$E++){for(var $F=0;$F<2;$F++){$3=0;for($9=($C*$E);$9<($C*($E+1));$9++){for($8=($C*$F);$8<($C*($F+1));$8++){var $10;var $11;var $12;$10=$6[($9*(this.$15+1)+$8)];$11=$6[(($9+1)*(this.$15+1)+$8)];$12=$6[($9*(this.$15+1)+($8+1))];var $13=wwtlib.RenderTriangle.create($10,$11,$12,this.texture,this.level);this.$0[$D].add($13);$10=$6[($9*(this.$15+1)+($8+1))];$11=$6[(($9+1)*(this.$15+1)+$8)];$12=$6[(($9+1)*(this.$15+1)+($8+1))];$13=wwtlib.RenderTriangle.create($10,$11,$12,this.texture,this.level);this.$0[$D].add($13);}}$D++;}}}else{this.$2=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34962,this.$2);var $14=new Float32Array($6.length*5);var $15=$14;$3=0;var $enum1=ss.IEnumerator.getEnumerator($6);while($enum1.moveNext()){var $16=$enum1.current;$3=this.addVertex($15,$3,$16);}wwtlib.Tile.prepDevice.bufferData(34962,$14,35044);for(var $17=0;$17<2;$17++){for(var $18=0;$18<2;$18++){var $19=new Uint16Array(this.triangleCount*3);var $1A=$19;$3=0;for($9=($C*$17);$9<($C*($17+1));$9++){for($8=($C*$18);$8<($C*($18+1));$8++){$1A[$3++]=($9*(this.$15+1)+$8);$1A[$3++]=(($9+1)*(this.$15+1)+$8);$1A[$3++]=($9*(this.$15+1)+($8+1));$1A[$3++]=($9*(this.$15+1)+($8+1));$1A[$3++]=(($9+1)*(this.$15+1)+$8);$1A[$3++]=(($9+1)*(this.$15+1)+($8+1));}}this.$1[$D]=wwtlib.Tile.prepDevice.createBuffer();wwtlib.Tile.prepDevice.bindBuffer(34963,this.$1[$D]);wwtlib.Tile.prepDevice.bufferData(34963,$19,35044);$D++;}}}return true;},$16:function($p0,$p1){return this.demData[(32-$p1)*33+$p0];},createDemFromParent:function(){var $0=Type.safeCast(this.parent,wwtlib.MercatorTile);if($0==null||$0.demData==null){return false;}var $1=(((this.tileX%2)===1)?16:0);var $2=(((this.tileY%2)===1)?16:0);this.demData=new Array(this.demSize);for(var $3=0;$3<33;$3+=2){var $4=true;for(var $5=0;$5<33;$5++){if($4){this.demData[(32-$3)*33+$5]=$0.$16(($5/2)+$1,($3/2)+$2);}else{this.demData[(32-$3)*33+$5]=(($0.$16(($5/2)+$1,($3/2)+$2)+$0.$16((($5/2)+$1)+1,($3/2)+$2))/2);}$4=!$4;}}for(var $6=1;$6<33;$6+=2){for(var $7=0;$7<33;$7++){this.demData[(32-$6)*33+$7]=((this.$16($7,$6-1)+this.$16($7,$6+1))/2);}}var $enum1=ss.IEnumerator.getEnumerator(this.demData);while($enum1.moveNext()){var $8=$enum1.current;this.demAverage+=$8;}this.demAverage/=this.demData.length;this.demReady=true;return true;}}
wwtlib.Place=function(){this.$4=wwtlib.CameraParameters.create(0,0,-1,0,0,100);this.$5=wwtlib.Vector3d.create(0,0,0);this.$7=1048576;this.$8=2;}
wwtlib.Place.create=function(name,lat,lng,classification,constellation,type,zoomFactor){var $0=new wwtlib.Place();$0.set_zoomLevel(zoomFactor);$0.$6=constellation;$0.$3=name;if(type===2||type===4){$0.$4.set_RA(lng);}else{$0.set_lng(lng);}$0.set_lat(lat);$0.set_classification(classification);$0.set_type(type);return $0;}
wwtlib.Place.createCameraParams=function(name,camParams,classification,constellation,type,target){var $0=new wwtlib.Place();$0.$6=constellation;$0.$3=name;$0.set_classification(classification);$0.$4=camParams;$0.set_type(type);$0.set_target(target);return $0;}
wwtlib.Place.$11=function($p0){var $0=new wwtlib.Place();$0.$3=$p0.attributes.getNamedItem('Name').nodeValue;if($p0.attributes.getNamedItem('DataSetType')!=null){switch($p0.attributes.getNamedItem('DataSetType').nodeValue.toLowerCase()){case 'earth':$0.$8=0;break;case 'planet':$0.$8=1;break;case 'sky':$0.$8=2;break;case 'panorama':$0.$8=3;break;case 'solarsystem':$0.$8=4;break;}}if($0.get_type()===2){$0.$4.set_RA(parseFloat($p0.attributes.getNamedItem('RA').nodeValue));$0.$4.set_dec(parseFloat($p0.attributes.getNamedItem('Dec').nodeValue));}else{$0.set_lat(parseFloat($p0.attributes.getNamedItem('Lat').nodeValue));$0.set_lng(parseFloat($p0.attributes.getNamedItem('Lng').nodeValue));}if($p0.attributes.getNamedItem('Constellation')!=null){$0.$6=$p0.attributes.getNamedItem('Constellation').nodeValue;}if($p0.attributes.getNamedItem('Classification')!=null){switch($p0.attributes.getNamedItem('Classification').nodeValue){case 'Star':$0.$7=1;break;case 'Supernova':$0.$7=2;break;case 'BlackHole':$0.$7=4;break;case 'NeutronStar':$0.$7=8;break;case 'DoubleStar':$0.$7=16;break;case 'MultipleStars':$0.$7=32;break;case 'Asterism':$0.$7=64;break;case 'Constellation':$0.$7=128;break;case 'OpenCluster':$0.$7=256;break;case 'GlobularCluster':$0.$7=512;break;case 'NebulousCluster':$0.$7=1024;break;case 'Nebula':$0.$7=2048;break;case 'EmissionNebula':$0.$7=4096;break;case 'PlanetaryNebula':$0.$7=8192;break;case 'ReflectionNebula':$0.$7=16384;break;case 'DarkNebula':$0.$7=32768;break;case 'GiantMolecularCloud':$0.$7=65536;break;case 'SupernovaRemnant':$0.$7=131072;break;case 'InterstellarDust':$0.$7=262144;break;case 'Quasar':$0.$7=524288;break;case 'Galaxy':$0.$7=1048576;break;case 'SpiralGalaxy':$0.$7=2097152;break;case 'IrregularGalaxy':$0.$7=4194304;break;case 'EllipticalGalaxy':$0.$7=8388608;break;case 'Knot':$0.$7=16777216;break;case 'PlateDefect':$0.$7=33554432;break;case 'ClusterOfGalaxies':$0.$7=67108864;break;case 'OtherNGC':$0.$7=134217728;break;case 'Unidentified':$0.$7=268435456;break;case 'SolarSystem':$0.$7=536870912;break;case 'Unfiltered':$0.$7=1073741823;break;case 'Stellar':$0.$7=63;break;case 'StellarGroupings':$0.$7=2032;break;case 'Nebulae':$0.$7=523264;break;case 'Galactic':$0.$7=133693440;break;case 'Other':$0.$7=436207616;break;default:break;}}if($p0.attributes.getNamedItem('Magnitude')!=null){$0.$9=parseFloat($p0.attributes.getNamedItem('Magnitude').nodeValue);}if($p0.attributes.getNamedItem('AngularSize')!=null){$0.angularSize=parseFloat($p0.attributes.getNamedItem('AngularSize').nodeValue);}if($p0.attributes.getNamedItem('ZoomLevel')!=null){$0.set_zoomLevel(parseFloat($p0.attributes.getNamedItem('ZoomLevel').nodeValue));}if($p0.attributes.getNamedItem('Rotation')!=null){$0.$4.rotation=parseFloat($p0.attributes.getNamedItem('Rotation').nodeValue);}if($p0.attributes.getNamedItem('Angle')!=null){$0.$4.angle=parseFloat($p0.attributes.getNamedItem('Angle').nodeValue);}if($p0.attributes.getNamedItem('Opacity')!=null){$0.$4.opacity=parseFloat($p0.attributes.getNamedItem('Opacity').nodeValue);}else{$0.$4.opacity=100;}$0.set_target(65536);if($p0.attributes.getNamedItem('Target')!=null){switch($p0.attributes.getNamedItem('Target').nodeValue){case 'Sun':$0.set_target(0);break;case 'Mercury':$0.set_target(1);break;case 'Venus':$0.set_target(2);break;case 'Mars':$0.set_target(3);break;case 'Jupiter':$0.set_target(4);break;case 'Saturn':$0.set_target(5);break;case 'Uranus':$0.set_target(6);break;case 'Neptune':$0.set_target(7);break;case 'Pluto':$0.set_target(8);break;case 'Moon':$0.set_target(9);break;case 'Io':$0.set_target(10);break;case 'Europa':$0.set_target(11);break;case 'Ganymede':$0.set_target(12);break;case 'Callisto':$0.set_target(13);break;case 'IoShadow':$0.set_target(14);break;case 'EuropaShadow':$0.set_target(15);break;case 'GanymedeShadow':$0.set_target(16);break;case 'CallistoShadow':$0.set_target(17);break;case 'SunEclipsed':$0.set_target(18);break;case 'Earth':$0.set_target(19);break;case 'Custom':$0.set_target(20);break;case 'Undefined':$0.set_target(65536);break;default:break;}}if($p0.attributes.getNamedItem('ViewTarget')!=null){$0.$4.viewTarget=wwtlib.Vector3d.parse($p0.attributes.getNamedItem('ViewTarget').nodeValue);}var $1=wwtlib._Util.$6($p0,'Description');if($1!=null){$0.htmlDescription=$1.nodeValue;}var $2=wwtlib._Util.$6($p0,'BackgroundImageSet');if($2!=null){var $4=wwtlib._Util.$6($2,'ImageSet');$0.$D=wwtlib.Imageset.fromXMLNode($4);}var $3=wwtlib._Util.$6($p0,'ForegroundImageSet');if($3!=null){var $5=wwtlib._Util.$6($3,'ImageSet');$0.$C=wwtlib.Imageset.fromXMLNode($5);}$3=wwtlib._Util.$6($p0,'ImageSet');if($3!=null){$0.$C=wwtlib.Imageset.fromXMLNode($3);}return $0;}
wwtlib.Place.$12=function($p0){var $0=$p0.split(' ');var $1='';var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1=$1+$2.substr(0,1).toUpperCase()+(($2.length>1)?$2.substr(1).toLowerCase():'')+' ';}return $1.trim();}
wwtlib.Place.prototype={$0:null,get_tag:function(){return this.$0;},set_tag:function(value){this.$0=value;return value;},$1:null,get_url:function(){return this.$1;},set_url:function(value){this.$1=value;return value;},$2:null,get_thumbnail:function(){return this.$2;},set_thumbnail:function(value){this.$2=value;return value;},$3:null,get_name:function(){return this.get_names()[0];},get_names:function(){if(String.isNullOrEmpty(this.$3)){return ''.split(';');}return this.$3.split(';');},set_names:function(value){this.$3=wwtlib.UiTools.getNamesStringFromArray(value);return value;},get_camParams:function(){if(this.get_classification()===536870912&&this.$4.target!==20){var $0=wwtlib.Planets.getPlanetLocation(this.get_name());this.$4.set_RA($0.RA);this.$4.set_dec($0.dec);this.$A=$0.distance;}return this.$4;},set_camParams:function(value){this.$4=value;return value;},updatePlanetLocation:function(jNow){this.$4.viewTarget=wwtlib.Planets.getPlanet3dLocationJD(this.get_target(),jNow);if(this.get_target()!==65536&&this.get_target()!==20){this.$4.viewTarget=wwtlib.Planets.getPlanetTargetPoint(this.get_target(),this.get_lat(),this.get_lng(),jNow);}},get_location3d:function(){if(this.get_classification()===536870912||(!this.$5.x&&!this.$5.y&&!this.$5.z)){this.$5=wwtlib.Coordinates.raDecTo3d(this.get_RA(),this.get_dec());}return this.$5;},get_lat:function(){return this.get_camParams().lat;},set_lat:function(value){this.$4.lat=value;return value;},get_lng:function(){return this.get_camParams().lng;},set_lng:function(value){this.$4.lng=value;return value;},get_opacity:function(){return this.get_camParams().opacity;},set_opacity:function(value){this.$4.opacity=value;return value;},htmlDescription:'',$6:'',get_constellation:function(){return this.$6;},set_constellation:function(value){this.$6=value;return value;},get_classification:function(){return this.$7;},set_classification:function(value){this.$7=value;return value;},get_type:function(){return this.$8;},set_type:function(value){this.$8=value;return value;},$9:0,get_magnitude:function(){return this.$9;},set_magnitude:function(value){this.$9=value;return value;},$A:0,get_distance:function(){return this.$A;},set_distance:function(value){this.$A=value;return value;},angularSize:60,get_zoomLevel:function(){return this.get_camParams().zoom;},set_zoomLevel:function(value){this.$4.zoom=value;return value;},$B:null,$C:null,get_studyImageset:function(){return this.$C;},set_studyImageset:function(value){this.$C=value;return value;},$D:null,get_backgroundImageset:function(){return this.$D;},set_backgroundImageset:function(value){if(value!=null){this.set_type(value.get_dataSetType());}this.$D=value;return value;},$E:0,get_searchDistance:function(){return this.$E;},set_searchDistance:function(value){this.$E=value;return value;},$F:50,get_elevation:function(){return this.$F;},set_elevation:function(value){this.$F=value;return value;},$10:null,get_thumbnailUrl:function(){if(String.isNullOrEmpty(this.$10)){if(this.$C!=null&&!String.isNullOrEmpty(this.$C.get_thumbnailUrl())){return this.$C.get_thumbnailUrl();}if(this.$D!=null&&!String.isNullOrEmpty(this.$D.get_thumbnailUrl())){return this.$D.get_thumbnailUrl();}var $0=this.get_name();if($0.indexOf(';')>-1){$0=$0.substr(0,$0.indexOf(';'));}if(this.get_classification()===1){return 'http://cdn.worldwidetelescope.org/wwtweb/thumbnail.aspx?name=star';}return 'http://cdn.worldwidetelescope.org/wwtweb/thumbnail.aspx?name='+$0.toLowerCase();}return this.$10;},set_thumbnailUrl:function(value){this.$10=value;return value;},get_RA:function(){return this.get_camParams().get_RA();},set_RA:function(value){this.$4.set_RA(value);return value;},get_dec:function(){return this.get_camParams().get_dec();},set_dec:function(value){this.$4.set_dec(value);return value;},toString:function(){return this.$3;},$13:null,get_bounds:function(){return this.$13;},set_bounds:function(value){this.$13=value;return value;},get_isImage:function(){return this.$C!=null||this.$D!=null;},get_isTour:function(){return false;},get_isFolder:function(){return false;},get_children:function(){return [];},get_readOnly:function(){return true;},get_target:function(){return this.$4.target;},set_target:function(value){this.$4.target=value;return value;},get_isCloudCommunityItem:function(){return false;}}
wwtlib.Class1=function(){}
GFX.registerClass('GFX');ABR.registerClass('ABR');ACFT.registerClass('ACFT');ASEP.registerClass('ASEP');COR.registerClass('COR');C3D.registerClass('C3D');CT.registerClass('CT');CalD.registerClass('CalD');DT.registerClass('DT');DYT.registerClass('DYT');CAAEarth.registerClass('CAAEarth');VSC.registerClass('VSC');CAAEclipticalElementDetails.registerClass('CAAEclipticalElementDetails');CAAEclipticalElements.registerClass('CAAEclipticalElements');EPO.registerClass('EPO');EOE.registerClass('EOE');EPD.registerClass('EPD');EOD.registerClass('EOD');ELL.registerClass('ELL');EOT.registerClass('EOT');CAAFK5.registerClass('CAAFK5');GMD.registerClass('GMD');GMDS.registerClass('GMDS');GM.registerClass('GM');CAAGlobe.registerClass('CAAGlobe');IFR.registerClass('IFR');INTP.registerClass('INTP');CAAJupiter.registerClass('CAAJupiter');CAAKepler.registerClass('CAAKepler');CAAMars.registerClass('CAAMars');CAAMercury.registerClass('CAAMercury');CAAMoon.registerClass('CAAMoon');MoonCoefficient1.registerClass('MoonCoefficient1');MoonCoefficient2.registerClass('MoonCoefficient2');MIFR.registerClass('MIFR');CAAMoonNodes.registerClass('CAAMoonNodes');CAAMoonPerigeeApogee.registerClass('CAAMoonPerigeeApogee');MPAC.registerClass('MPAC');CAAMoonPhases.registerClass('CAAMoonPhases');CAANeptune.registerClass('CAANeptune');CAANutation.registerClass('CAANutation');NUC.registerClass('NUC');CAATopocentricEclipticDetails.registerClass('CAATopocentricEclipticDetails');CAAParallax.registerClass('CAAParallax');CAAPhysicalJupiterDetails.registerClass('CAAPhysicalJupiterDetails');CAAPhysicalJupiter.registerClass('CAAPhysicalJupiter');CAAPhysicalMarsDetails.registerClass('CAAPhysicalMarsDetails');CAAPhysicalMars.registerClass('CAAPhysicalMars');CAAPhysicalSunDetails.registerClass('CAAPhysicalSunDetails');CAAPhysicalSun.registerClass('CAAPhysicalSun');CAAPluto.registerClass('CAAPluto');PlutoCoefficient1.registerClass('PlutoCoefficient1');PlutoCoefficient2.registerClass('PlutoCoefficient2');CAAPrecession.registerClass('CAAPrecession');CAARiseTransitSetDetails.registerClass('CAARiseTransitSetDetails');CAARiseTransitSet.registerClass('CAARiseTransitSet');CAASaturn.registerClass('CAASaturn');CAASaturnRingDetails.registerClass('CAASaturnRingDetails');CAASaturnRings.registerClass('CAASaturnRings');CAASidereal.registerClass('CAASidereal');CAAStellarMagnitudes.registerClass('CAAStellarMagnitudes');CAASun.registerClass('CAASun');CAAUranus.registerClass('CAAUranus');CAAVenus.registerClass('CAAVenus');wwtlib.AstroRaDec.registerClass('wwtlib.AstroRaDec');wwtlib.RiseSetDetails.registerClass('wwtlib.RiseSetDetails');wwtlib.AstroCalc.registerClass('wwtlib.AstroCalc');wwtlib.wwtlib$8.registerClass('wwtlib.wwtlib$8');wwtlib.wwtlib$B.registerClass('wwtlib.wwtlib$B');wwtlib.wwtlib$A.registerClass('wwtlib.wwtlib$A');wwtlib.wwtlib$9.registerClass('wwtlib.wwtlib$9');wwtlib.Dates.registerClass('wwtlib.Dates');wwtlib.SimpleLineList.registerClass('wwtlib.SimpleLineList');wwtlib.LineList.registerClass('wwtlib.LineList');wwtlib.TriangleList.registerClass('wwtlib.TriangleList');wwtlib.PointList.registerClass('wwtlib.PointList');wwtlib.TimeSeriesLineVertex.registerClass('wwtlib.TimeSeriesLineVertex');wwtlib.TimeSeriesPointVertex.registerClass('wwtlib.TimeSeriesPointVertex');wwtlib.SimpleLineShader.registerClass('wwtlib.SimpleLineShader');wwtlib.LineShaderNormalDates.registerClass('wwtlib.LineShaderNormalDates');wwtlib.TimeSeriesPointSpriteShader.registerClass('wwtlib.TimeSeriesPointSpriteShader');wwtlib.TileShader.registerClass('wwtlib.TileShader');wwtlib.TextShader.registerClass('wwtlib.TextShader');wwtlib.Tessellator.registerClass('wwtlib.Tessellator');wwtlib.Texture.registerClass('wwtlib.Texture');wwtlib.Grids.registerClass('wwtlib.Grids');wwtlib.Layer.registerClass('wwtlib.Layer');wwtlib.GreatCirlceRouteLayer.registerClass('wwtlib.GreatCirlceRouteLayer',wwtlib.Layer);wwtlib.ImageSetLayer.registerClass('wwtlib.ImageSetLayer',wwtlib.Layer);wwtlib.wwtlib$C.registerClass('wwtlib.wwtlib$C',wwtlib.Layer);wwtlib.DomainValue.registerClass('wwtlib.DomainValue');wwtlib.LayerManager.registerClass('wwtlib.LayerManager');wwtlib.LayerMap.registerClass('wwtlib.LayerMap');wwtlib.LayerUI.registerClass('wwtlib.LayerUI');wwtlib.LayerUIMenuItem.registerClass('wwtlib.LayerUIMenuItem');wwtlib.LayerUITreeNode.registerClass('wwtlib.LayerUITreeNode');wwtlib.Orbit.registerClass('wwtlib.Orbit');wwtlib.ReferenceFrame.registerClass('wwtlib.ReferenceFrame');wwtlib.TimeSeriesLayer.registerClass('wwtlib.TimeSeriesLayer',wwtlib.Layer);wwtlib.wwtlib$D.registerClass('wwtlib.wwtlib$D',wwtlib.TimeSeriesLayer);wwtlib.KmlCoordinate.registerClass('wwtlib.KmlCoordinate');wwtlib.KmlLineList.registerClass('wwtlib.KmlLineList');wwtlib._Table.registerClass('wwtlib._Table');wwtlib.Planets.registerClass('wwtlib.Planets');wwtlib.Tile.registerClass('wwtlib.Tile');wwtlib.PlotTile.registerClass('wwtlib.PlotTile',wwtlib.Tile);wwtlib.RenderContext.registerClass('wwtlib.RenderContext');wwtlib.RenderTriangle.registerClass('wwtlib.RenderTriangle');wwtlib.ScriptInterface.registerClass('wwtlib.ScriptInterface');wwtlib.SlideChangedEventArgs.registerClass('wwtlib.SlideChangedEventArgs',ss.EventArgs);wwtlib.ArrivedEventArgs.registerClass('wwtlib.ArrivedEventArgs',ss.EventArgs);wwtlib.AnnotationClickEventArgs.registerClass('wwtlib.AnnotationClickEventArgs',ss.EventArgs);wwtlib.CollectionLoadedEventArgs.registerClass('wwtlib.CollectionLoadedEventArgs',ss.EventArgs);wwtlib.Settings.registerClass('wwtlib.Settings',null,wwtlib.ISettings);wwtlib.SkyImageTile.registerClass('wwtlib.SkyImageTile',wwtlib.Tile);wwtlib.Text3dBatch.registerClass('wwtlib.Text3dBatch');wwtlib.GlyphItem.registerClass('wwtlib.GlyphItem');wwtlib.GlyphCache.registerClass('wwtlib.GlyphCache',null,ss.IDisposable);wwtlib.Text3d.registerClass('wwtlib.Text3d');wwtlib.SpaceTimeController.registerClass('wwtlib.SpaceTimeController');wwtlib.Star.registerClass('wwtlib.Star');wwtlib.TangentTile.registerClass('wwtlib.TangentTile',wwtlib.Tile);wwtlib.wwtlib$3.registerClass('wwtlib.wwtlib$3');wwtlib.ToastTile.registerClass('wwtlib.ToastTile',wwtlib.Tile);wwtlib.wwtlib$2.registerClass('wwtlib.wwtlib$2');wwtlib.Tour.registerClass('wwtlib.Tour',null,wwtlib.IThumbnail);wwtlib.SettingParameter.registerClass('wwtlib.SettingParameter');wwtlib.Overlay.registerClass('wwtlib.Overlay');wwtlib.BitmapOverlay.registerClass('wwtlib.BitmapOverlay',wwtlib.Overlay);wwtlib.TextOverlay.registerClass('wwtlib.TextOverlay',wwtlib.Overlay);wwtlib.ShapeOverlay.registerClass('wwtlib.ShapeOverlay',wwtlib.Overlay);wwtlib.AudioOverlay.registerClass('wwtlib.AudioOverlay',wwtlib.Overlay);wwtlib.FlipbookOverlay.registerClass('wwtlib.FlipbookOverlay',wwtlib.Overlay);wwtlib.TextObject.registerClass('wwtlib.TextObject');wwtlib.TourDocument.registerClass('wwtlib.TourDocument');wwtlib.TourPlayer.registerClass('wwtlib.TourPlayer',null,wwtlib.IUiController);wwtlib.MasterTime.registerClass('wwtlib.MasterTime');wwtlib.TourStop.registerClass('wwtlib.TourStop',null,wwtlib.ISettings);wwtlib.LayerInfo.registerClass('wwtlib.LayerInfo');wwtlib.wwtlib$7.registerClass('wwtlib.wwtlib$7');wwtlib.UiTools.registerClass('wwtlib.UiTools');wwtlib._Util.registerClass('wwtlib._Util');wwtlib.Rectangle.registerClass('wwtlib.Rectangle');wwtlib.Guid.registerClass('wwtlib.Guid');wwtlib.Mouse.registerClass('wwtlib.Mouse');wwtlib.VizLayer.registerClass('wwtlib.VizLayer');wwtlib.DataItem.registerClass('wwtlib.DataItem');wwtlib.WebFile.registerClass('wwtlib.WebFile');wwtlib._Wtml.registerClass('wwtlib._Wtml');wwtlib.WWTControl.registerClass('wwtlib.WWTControl');wwtlib.WWTElementEvent.registerClass('wwtlib.WWTElementEvent');wwtlib.Annotation.registerClass('wwtlib.Annotation');wwtlib.Circle.registerClass('wwtlib.Circle',wwtlib.Annotation);wwtlib.Poly.registerClass('wwtlib.Poly',wwtlib.Annotation);wwtlib.PolyLine.registerClass('wwtlib.PolyLine',wwtlib.Annotation);wwtlib.BlendState.registerClass('wwtlib.BlendState');wwtlib.CameraParameters.registerClass('wwtlib.CameraParameters');wwtlib.Color.registerClass('wwtlib.Color');wwtlib.Colors.registerClass('wwtlib.Colors');wwtlib.Constellations.registerClass('wwtlib.Constellations');wwtlib.Lineset.registerClass('wwtlib.Lineset');wwtlib.Linepoint.registerClass('wwtlib.Linepoint');wwtlib.ConstellationFilter.registerClass('wwtlib.ConstellationFilter');wwtlib.Coordinates.registerClass('wwtlib.Coordinates');wwtlib.PositionTexture.registerClass('wwtlib.PositionTexture');wwtlib.PositionColoredTextured.registerClass('wwtlib.PositionColoredTextured');wwtlib.Vector3d.registerClass('wwtlib.Vector3d');wwtlib.Vector2d.registerClass('wwtlib.Vector2d');wwtlib.Matrix3d.registerClass('wwtlib.Matrix3d');wwtlib.Matrix2d.registerClass('wwtlib.Matrix2d');wwtlib.DoubleUtilities.registerClass('wwtlib.DoubleUtilities');wwtlib.PlaneD.registerClass('wwtlib.PlaneD');wwtlib.Vector4d.registerClass('wwtlib.Vector4d');wwtlib.PositionNormalTexturedX2.registerClass('wwtlib.PositionNormalTexturedX2');wwtlib.SphereHull.registerClass('wwtlib.SphereHull');wwtlib.ConvexHull.registerClass('wwtlib.ConvexHull');wwtlib.EquirectangularTile.registerClass('wwtlib.EquirectangularTile',wwtlib.Tile);wwtlib.Folder.registerClass('wwtlib.Folder',null,wwtlib.IThumbnail);wwtlib.FolderBrowser.registerClass('wwtlib.FolderBrowser');wwtlib.wwtlib$4.registerClass('wwtlib.wwtlib$4',null,wwtlib.IThumbnail);wwtlib.Imageset.registerClass('wwtlib.Imageset',null,wwtlib.IThumbnail);wwtlib.ViewMoverKenBurnsStyle.registerClass('wwtlib.ViewMoverKenBurnsStyle',null,wwtlib.IViewMover);wwtlib.wwtlib$5.registerClass('wwtlib.wwtlib$5',null,wwtlib.IViewMover);wwtlib.MercatorTile.registerClass('wwtlib.MercatorTile',wwtlib.Tile);wwtlib.Place.registerClass('wwtlib.Place',null,wwtlib.IThumbnail,wwtlib.IPlace);wwtlib.Class1.registerClass('wwtlib.Class1');GFX.g_ACft=[new ACFT(0,1,0,0,0,0,0,0,0,0,0,-1719914,-2,-25,0,25,-13,1578089,156,10,32,684185,-358),new ACFT(0,2,0,0,0,0,0,0,0,0,0,6434,141,28007,-107,25697,-95,-5904,-130,11141,-48,-2559,-55),new ACFT(0,0,0,1,0,0,0,0,0,0,0,715,0,0,0,6,0,-657,0,-15,0,-282,0),new ACFT(0,0,0,0,0,0,0,1,0,0,0,715,0,0,0,0,0,-656,0,0,0,-285,0),new ACFT(0,3,0,0,0,0,0,0,0,0,0,486,-5,-236,-4,-216,-4,-446,5,-94,0,-193,0),new ACFT(0,0,0,0,1,0,0,0,0,0,0,159,0,0,0,2,0,-147,0,-6,0,-61,0),new ACFT(0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,26,0,0,0,-59,0),new ACFT(0,0,0,0,0,0,0,1,0,1,0,39,0,0,0,0,0,-36,0,0,0,-16,0),new ACFT(0,0,0,2,0,0,0,0,0,0,0,33,0,-10,0,-9,0,-30,0,-5,0,-13,0),new ACFT(0,2,0,-1,0,0,0,0,0,0,0,31,0,1,0,1,0,-28,0,0,0,-12,0),new ACFT(0,3,-8,3,0,0,0,0,0,0,0,8,0,-28,0,25,0,8,0,11,0,3,0),new ACFT(0,5,-8,3,0,0,0,0,0,0,0,8,0,-28,0,-25,0,-8,0,-11,0,-3,0),new ACFT(2,-1,0,0,0,0,0,0,0,0,0,21,0,0,0,0,0,-19,0,0,0,-8,0),new ACFT(1,0,0,0,0,0,0,0,0,0,0,-19,0,0,0,0,0,17,0,0,0,8,0),new ACFT(0,0,0,0,0,1,0,0,0,0,0,17,0,0,0,0,0,-16,0,0,0,-7,0),new ACFT(0,1,0,-2,0,0,0,0,0,0,0,16,0,0,0,0,0,15,0,1,0,7,0),new ACFT(0,0,0,0,0,0,1,0,0,0,0,16,0,0,0,1,0,-15,0,-3,0,-6,0),new ACFT(0,1,0,1,0,0,0,0,0,0,0,11,0,-1,0,-1,0,-10,0,-1,0,-5,0),new ACFT(2,-2,0,0,0,0,0,0,0,0,0,0,0,-11,0,-10,0,0,0,-4,0,0,0),new ACFT(0,1,0,-1,0,0,0,0,0,0,0,-11,0,-2,0,-2,0,9,0,-1,0,4,0),new ACFT(0,4,0,0,0,0,0,0,0,0,0,-7,0,-8,0,-8,0,6,0,-3,0,3,0),new ACFT(0,3,0,-2,0,0,0,0,0,0,0,-10,0,0,0,0,0,9,0,0,0,4,0),new ACFT(1,-2,0,0,0,0,0,0,0,0,0,-9,0,0,0,0,0,-9,0,0,0,-4,0),new ACFT(2,-3,0,0,0,0,0,0,0,0,0,-9,0,0,0,0,0,-8,0,0,0,-4,0),new ACFT(0,0,0,0,2,0,0,0,0,0,0,0,0,-9,0,-8,0,0,0,-3,0,0,0),new ACFT(2,-4,0,0,0,0,0,0,0,0,0,0,0,-9,0,8,0,0,0,3,0,0,0),new ACFT(0,3,-2,0,0,0,0,0,0,0,0,8,0,0,0,0,0,-8,0,0,0,-3,0),new ACFT(0,0,0,0,0,0,0,1,2,-1,0,8,0,0,0,0,0,-7,0,0,0,-3,0),new ACFT(8,-12,0,0,0,0,0,0,0,0,0,-4,0,-7,0,-6,0,4,0,-3,0,2,0),new ACFT(8,-14,0,0,0,0,0,0,0,0,0,-4,0,-7,0,6,0,-4,0,3,0,-2,0),new ACFT(0,0,2,0,0,0,0,0,0,0,0,-6,0,-5,0,-4,0,5,0,-2,0,2,0),new ACFT(3,-4,0,0,0,0,0,0,0,0,0,-1,0,-1,0,-2,0,-7,0,1,0,-4,0),new ACFT(0,2,0,-2,0,0,0,0,0,0,0,4,0,-6,0,-5,0,-4,0,-2,0,-2,0),new ACFT(3,-3,0,0,0,0,0,0,0,0,0,0,0,-7,0,-6,0,0,0,-3,0,0,0),new ACFT(0,2,-2,0,0,0,0,0,0,0,0,5,0,-5,0,-4,0,-5,0,-2,0,-2,0),new ACFT(0,0,0,0,0,0,0,1,-2,0,0,5,0,0,0,0,0,-5,0,0,0,-2,0)];GFX.deltaTTable=[121,112,103,95,88,82,77,72,68,63,60,56,53,51,48,46,44,42,40,38,35,33,31,29,26,24,22,20,18,16,14,12,11,10,9,8,7,7,7,7,7,7,8,8,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,12,12,12,12,13,13,13,14,14,14,14,15,15,15,15,15,16,16,16,16,16,16,16,16,15,15,14,13,13.1,12.5,12.2,12,12,12,12,12,12,11.9,11.6,11,10.2,9.2,8.2,7.1,6.2,5.6,5.4,5.3,5.4,5.6,5.9,6.2,6.5,6.8,7.1,7.3,7.5,7.6,7.7,7.3,6.2,5.2,2.7,1.4,-1.2,-2.8,-3.8,-4.8,-5.5,-5.3,-5.6,-5.7,-5.9,-6,-6.3,-6.5,-6.2,-4.7,-2.8,-0.1,2.6,5.3,7.7,10.4,13.3,16,18.2,20.2,21.2,22.4,23.5,23.8,24.3,24,23.9,23.9,23.7,24,24.3,25.3,26.2,27.3,28.2,29.1,30,30.7,31.4,32.2,33.1,34,35,36.5,38.3,40.18,42.2,44.5,46.5,48.5,50.54,52.2,53.8,54.9,55.8,56.86,58.31,59.99,61.63,62.97];GFX.g_L0EarthCoefficients=[new VSC(175347046,0,0),new VSC(3341656,4.6692568,6283.07585),new VSC(34894,4.6261,12566.1517),new VSC(3497,2.7441,5753.3849),new VSC(3418,2.8289,3.5231),new VSC(3136,3.6277,77713.7715),new VSC(2676,4.4181,7860.4194),new VSC(2343,6.1352,3930.2097),new VSC(1324,0.7425,11506.7698),new VSC(1273,2.0371,529.691),new VSC(1199,1.1096,1577.3435),new VSC(990,5.233,5884.927),new VSC(902,2.045,26.298),new VSC(857,3.508,398.149),new VSC(780,1.179,5223.694),new VSC(753,2.533,5507.553),new VSC(505,4.583,18849.228),new VSC(492,4.205,775.523),new VSC(357,2.92,0.067),new VSC(317,5.849,11790.629),new VSC(284,1.899,796.288),new VSC(271,0.315,10977.079),new VSC(243,0.345,5486.778),new VSC(206,4.806,2544.314),new VSC(205,1.869,5573.143),new VSC(202,2.458,6069.777),new VSC(156,0.833,213.299),new VSC(132,3.411,2942.463),new VSC(126,1.083,20.775),new VSC(115,0.645,0.98),new VSC(103,0.636,4694.003),new VSC(102,0.976,15720.839),new VSC(102,4.267,7.114),new VSC(99,6.21,2146.17),new VSC(98,0.68,155.42),new VSC(86,5.98,161000.69),new VSC(85,1.3,6275.96),new VSC(85,3.67,71430.7),new VSC(80,1.81,17260.15),new VSC(79,3.04,12036.46),new VSC(75,1.76,5088.63),new VSC(74,3.5,3154.69),new VSC(74,4.68,801.82),new VSC(70,0.83,9437.76),new VSC(62,3.98,8827.39),new VSC(61,1.82,7084.9),new VSC(57,2.78,6286.6),new VSC(56,4.39,14143.5),new VSC(56,3.47,6279.55),new VSC(52,0.19,12139.55),new VSC(52,1.33,1748.02),new VSC(51,0.28,5856.48),new VSC(49,0.49,1194.45),new VSC(41,5.37,8429.24),new VSC(41,2.4,19651.05),new VSC(39,6.17,10447.39),new VSC(37,6.04,10213.29),new VSC(37,2.57,1059.38),new VSC(36,1.71,2352.87),new VSC(36,1.78,6812.77),new VSC(33,0.59,17789.85),new VSC(30,0.44,83996.85),new VSC(30,2.74,1349.87),new VSC(25,3.16,4690.48)];GFX.g_L1EarthCoefficients=[new VSC(628331966747,0,0),new VSC(206059,2.678235,6283.07585),new VSC(4303,2.6351,12566.1517),new VSC(425,1.59,3.523),new VSC(119,5.796,26.298),new VSC(109,2.966,1577.344),new VSC(93,2.59,18849.23),new VSC(72,1.14,529.69),new VSC(68,1.87,398.15),new VSC(67,4.41,5507.55),new VSC(59,2.89,5223.69),new VSC(56,2.17,155.42),new VSC(45,0.4,796.3),new VSC(36,0.47,775.52),new VSC(29,2.65,7.11),new VSC(21,5.43,0.98),new VSC(19,1.85,5486.78),new VSC(19,4.97,213.3),new VSC(17,2.99,6275.96),new VSC(16,0.03,2544.31),new VSC(16,1.43,2146.17),new VSC(15,1.21,10977.08),new VSC(12,2.83,1748.02),new VSC(12,3.26,5088.63),new VSC(12,5.27,1194.45),new VSC(12,2.08,4694),new VSC(11,0.77,553.57),new VSC(10,1.3,6286.6),new VSC(10,4.24,1349.87),new VSC(9,2.7,242.73),new VSC(9,5.64,951.72),new VSC(8,5.3,2352.87),new VSC(6,2.65,9437.76),new VSC(6,4.67,4690.48)];GFX.g_L2EarthCoefficients=[new VSC(52919,0,0),new VSC(8720,1.0721,6283.0758),new VSC(309,0.867,12566.152),new VSC(27,0.05,3.52),new VSC(16,5.19,26.3),new VSC(16,3.68,155.42),new VSC(10,0.76,18849.23),new VSC(9,2.06,77713.77),new VSC(7,0.83,775.52),new VSC(5,4.66,1577.34),new VSC(4,1.03,7.11),new VSC(4,3.44,5573.14),new VSC(3,5.14,796.3),new VSC(3,6.05,5507.55),new VSC(3,1.19,242.73),new VSC(3,6.12,529.69),new VSC(3,0.31,398.15),new VSC(3,2.28,553.57),new VSC(2,4.38,5223.69),new VSC(2,3.75,0.98)];GFX.g_L3EarthCoefficients=[new VSC(289,5.844,6283.076),new VSC(35,0,0),new VSC(17,5.49,12566.15),new VSC(3,5.2,155.42),new VSC(1,4.72,3.52),new VSC(1,5.3,18849.23),new VSC(1,5.97,242.73)];GFX.g_L4EarthCoefficients=[new VSC(114,3.142,0),new VSC(8,4.13,6283.08),new VSC(1,3.84,12566.15)];GFX.g_L5EarthCoefficients=[new VSC(1,3.14,0)];GFX.g_B0EarthCoefficients=[new VSC(280,3.199,84334.662),new VSC(102,5.422,5507.553),new VSC(80,3.88,5223.69),new VSC(44,3.7,2352.87),new VSC(32,4,1577.34)];GFX.g_B1EarthCoefficients=[new VSC(9,3.9,5507.55),new VSC(6,1.73,5223.69)];GFX.g_B2EarthCoefficients=[new VSC(22378,3.38509,10213.28555),new VSC(282,0,0),new VSC(173,5.256,20426.571),new VSC(27,3.87,30639.86)];GFX.g_B3EarthCoefficients=[new VSC(647,4.992,10213.286),new VSC(20,3.14,0),new VSC(6,0.77,20426.57),new VSC(3,5.44,30639.86)];GFX.g_B4EarthCoefficients=[new VSC(14,0.32,10213.29)];GFX.g_R0EarthCoefficients=[new VSC(100013989,0,0),new VSC(1670700,3.0984635,6283.07585),new VSC(13956,3.05525,12566.1517),new VSC(3084,5.1985,77713.7715),new VSC(1628,1.1739,5753.3849),new VSC(1576,2.8469,7860.4194),new VSC(925,5.453,11506.77),new VSC(542,4.564,3930.21),new VSC(472,3.661,5884.927),new VSC(346,0.964,5507.553),new VSC(329,5.9,5223.694),new VSC(307,0.299,5573.143),new VSC(243,4.273,11790.629),new VSC(212,5.847,1577.344),new VSC(186,5.022,10977.079),new VSC(175,3.012,18849.228),new VSC(110,5.055,5486.778),new VSC(98,0.89,6069.78),new VSC(86,5.69,15720.84),new VSC(86,1.27,161000.69),new VSC(65,0.27,17260.15),new VSC(63,0.92,529.69),new VSC(57,2.01,83996.85),new VSC(56,5.24,71430.7),new VSC(49,3.25,2544.31),new VSC(47,2.58,775.52),new VSC(45,5.54,9437.76),new VSC(43,6.01,6275.96),new VSC(39,5.36,4694),new VSC(38,2.39,8827.39),new VSC(37,0.83,19651.05),new VSC(37,4.9,12139.55),new VSC(36,1.67,12036.46),new VSC(35,1.84,2942.46),new VSC(33,0.24,7084.9),new VSC(32,0.18,5088.63),new VSC(32,1.78,398.15),new VSC(28,1.21,6286.6),new VSC(28,1.9,6279.55),new VSC(26,4.59,10447.39)];GFX.g_R1EarthCoefficients=[new VSC(103019,1.10749,6283.07585),new VSC(1721,1.0644,12566.1517),new VSC(702,3.142,0),new VSC(32,1.02,18849.23),new VSC(31,2.84,5507.55),new VSC(25,1.32,5223.69),new VSC(18,1.42,1577.34),new VSC(10,5.91,10977.08),new VSC(9,1.42,6275.96),new VSC(9,0.27,5486.78)];GFX.g_R2EarthCoefficients=[new VSC(4359,5.7846,6283.0758),new VSC(124,5.579,12566.152),new VSC(12,3.14,0),new VSC(9,3.63,77713.77),new VSC(6,1.87,5573.14),new VSC(3,5.47,18849.23)];GFX.g_R3EarthCoefficients=[new VSC(145,4.273,6283.076),new VSC(7,3.92,12566.15)];GFX.g_R4EarthCoefficients=[new VSC(4,2.56,6283.08)];GFX.g_L1EarthCoefficientsJ2000=[new VSC(628307584999,0,0),new VSC(206059,2.678235,6283.07585),new VSC(4303,2.6351,12566.1517),new VSC(425,1.59,3.523),new VSC(119,5.796,26.298),new VSC(109,2.966,1577.344),new VSC(93,2.59,18849.23),new VSC(72,1.14,529.69),new VSC(68,1.87,398.15),new VSC(67,4.41,5507.55),new VSC(59,2.89,5223.69),new VSC(56,2.17,155.42),new VSC(45,0.4,796.3),new VSC(36,0.47,775.52),new VSC(29,2.65,7.11),new VSC(21,5.43,0.98),new VSC(19,1.85,5486.78),new VSC(19,4.97,213.3),new VSC(17,2.99,6275.96),new VSC(16,0.03,2544.31),new VSC(16,1.43,2146.17),new VSC(15,1.21,10977.08),new VSC(12,2.83,1748.02),new VSC(12,3.26,5088.63),new VSC(12,5.27,1194.45),new VSC(12,2.08,4694),new VSC(11,0.77,553.57),new VSC(10,1.3,6286.6),new VSC(10,4.24,1349.87),new VSC(9,2.7,242.73),new VSC(9,5.64,951.72),new VSC(8,5.3,2352.87),new VSC(6,2.65,9437.76),new VSC(6,4.67,4690.48)];GFX.g_L2EarthCoefficientsJ2000=[new VSC(8722,1.0725,6283.0758),new VSC(991,3.1416,0),new VSC(295,0.437,12566.152),new VSC(27,0.05,3.52),new VSC(16,5.19,26.3),new VSC(16,3.69,155.42),new VSC(9,0.3,18849.23),new VSC(9,2.06,77713.77),new VSC(7,0.83,775.52),new VSC(5,4.66,1577.34),new VSC(4,1.03,7.11),new VSC(4,3.44,5573.14),new VSC(3,5.14,796.3),new VSC(3,6.05,5507.55),new VSC(3,1.19,242.73),new VSC(3,6.12,529.69),new VSC(3,0.3,398.15),new VSC(3,2.28,553.57),new VSC(2,4.38,5223.69),new VSC(2,3.75,0.98)];GFX.g_L3EarthCoefficientsJ2000=[new VSC(289,5.842,6283.076),new VSC(21,6.05,12566.15),new VSC(3,5.2,155.42),new VSC(3,3.14,0),new VSC(1,4.72,3.52),new VSC(1,5.97,242.73),new VSC(1,5.54,18849.23)];GFX.g_L4EarthCoefficientsJ2000=[new VSC(8,4.14,6283.08),new VSC(1,3.28,12566.15)];GFX.g_B1EarthCoefficientsJ2000=[new VSC(227778,3.413766,6283.07585),new VSC(3806,3.3706,12566.1517),new VSC(3620,0,0),new VSC(72,3.33,18849.23),new VSC(8,3.89,5507.55),new VSC(8,1.79,5223.69),new VSC(6,5.2,2352.87)];GFX.g_B2EarthCoefficientsJ2000=[new VSC(9721,5.1519,6283.07585),new VSC(233,3.1416,0),new VSC(134,0.644,12566.152),new VSC(7,1.07,18849.23)];GFX.g_B3EarthCoefficientsJ2000=[new VSC(276,0.595,6283.076),new VSC(17,3.14,0),new VSC(4,0.12,12566.15)];GFX.g_B4EarthCoefficientsJ2000=[new VSC(6,2.27,6283.08),new VSC(1,0,0)];GFX.g_L0JupiterCoefficients=[new VSC(59954691,0,0),new VSC(9695899,5.0619179,529.6909651),new VSC(573610,1.444062,7.113547),new VSC(306389,5.417347,1059.38193),new VSC(97178,4.14265,632.78374),new VSC(72903,3.64043,522.57742),new VSC(64264,3.41145,103.09277),new VSC(39806,2.29377,419.48464),new VSC(38858,1.27232,316.39187),new VSC(27965,1.78455,536.80451),new VSC(13590,5.77481,1589.0729),new VSC(8769,3.63,949.1756),new VSC(8246,3.5823,206.1855),new VSC(7368,5.081,735.8765),new VSC(6263,0.025,213.2991),new VSC(6114,4.5132,1162.4747),new VSC(5305,4.1863,1052.2684),new VSC(5305,1.3067,14.2271),new VSC(4905,1.3208,110.2063),new VSC(4647,4.6996,3.9322),new VSC(3045,4.3168,426.5982),new VSC(2610,1.5667,846.0828),new VSC(2028,1.0638,3.1814),new VSC(1921,0.9717,639.8973),new VSC(1765,2.1415,1066.4955),new VSC(1723,3.8804,1265.5675),new VSC(1633,3.582,515.4639),new VSC(1432,4.2968,625.6702),new VSC(973,4.098,95.979),new VSC(884,2.437,412.371),new VSC(733,6.085,838.969),new VSC(731,3.806,1581.959),new VSC(709,1.293,742.99),new VSC(692,6.134,2118.764),new VSC(614,4.109,1478.867),new VSC(582,4.54,309.278),new VSC(495,3.756,323.505),new VSC(441,2.958,454.909),new VSC(417,1.036,2.488),new VSC(390,4.897,1692.166),new VSC(376,4.703,1368.66),new VSC(341,5.715,533.623),new VSC(330,4.74,0.048),new VSC(262,1.877,0.963),new VSC(261,0.82,380.128),new VSC(257,3.724,199.072),new VSC(244,5.22,728.763),new VSC(235,1.227,909.819),new VSC(220,1.651,543.918),new VSC(207,1.855,525.759),new VSC(202,1.807,1375.774),new VSC(197,5.293,1155.361),new VSC(175,3.73,942.062),new VSC(175,3.226,1898.351),new VSC(175,5.91,956.289),new VSC(158,4.365,1795.258),new VSC(151,3.906,74.782),new VSC(149,4.377,1685.052),new VSC(141,3.136,491.558),new VSC(138,1.318,1169.588),new VSC(131,4.169,1045.155),new VSC(117,2.5,1596.186),new VSC(117,3.389,0.521),new VSC(106,4.554,526.51)];GFX.g_L1JupiterCoefficients=[new VSC(52993480757,0,0),new VSC(489741,4.220667,529.690965),new VSC(228919,6.026475,7.113547),new VSC(27655,4.57266,1059.38193),new VSC(20721,5.45939,522.57742),new VSC(12106,0.16986,536.80451),new VSC(6068,4.4242,103.0928),new VSC(5434,3.9848,419.4846),new VSC(4238,5.8901,14.2271),new VSC(2212,5.2677,206.1855),new VSC(1746,4.9267,1589.0729),new VSC(1296,5.5513,3.1814),new VSC(1173,5.8565,1052.2684),new VSC(1163,0.5145,3.9322),new VSC(1099,5.307,515.4639),new VSC(1007,0.4648,735.8765),new VSC(1004,3.1504,426.5982),new VSC(848,5.758,110.206),new VSC(827,4.803,213.299),new VSC(816,0.586,1066.495),new VSC(725,5.518,639.897),new VSC(568,5.989,625.67),new VSC(474,4.132,412.371),new VSC(413,5.737,95.979),new VSC(345,4.242,632.784),new VSC(336,3.732,1162.475),new VSC(234,4.035,949.176),new VSC(234,6.243,309.278),new VSC(199,1.505,838.969),new VSC(195,2.219,323.505),new VSC(187,6.086,742.99),new VSC(184,6.28,543.918),new VSC(171,5.417,199.072),new VSC(131,0.626,728.763),new VSC(115,0.68,846.083),new VSC(115,5.286,2118.764),new VSC(108,4.493,956.289),new VSC(80,5.82,1045.15),new VSC(72,5.34,942.06),new VSC(70,5.97,532.87),new VSC(67,5.73,21.34),new VSC(66,0.13,526.51),new VSC(65,6.09,1581.96),new VSC(59,0.59,1155.36),new VSC(58,0.99,1596.19),new VSC(57,5.97,1169.59),new VSC(57,1.41,533.62),new VSC(55,5.43,10.29),new VSC(52,5.73,117.32),new VSC(52,0.23,1368.66),new VSC(50,6.08,525.76),new VSC(47,3.63,1478.87),new VSC(47,0.51,1265.57),new VSC(40,4.16,1692.17),new VSC(34,0.1,302.16),new VSC(33,5.04,220.41),new VSC(32,5.37,508.35),new VSC(29,5.42,1272.68),new VSC(29,3.36,4.67),new VSC(29,0.76,88.87),new VSC(25,1.61,831.86)];GFX.g_L2JupiterCoefficients=[new VSC(47234,4.32148,7.11355),new VSC(38966,0,0),new VSC(30629,2.93021,529.69097),new VSC(3189,1.055,522.5774),new VSC(2729,4.8455,536.8045),new VSC(2723,3.4141,1059.3819),new VSC(1721,4.1873,14.2271),new VSC(383,5.768,419.485),new VSC(378,0.76,515.464),new VSC(367,6.055,103.093),new VSC(337,3.786,3.181),new VSC(308,0.694,206.186),new VSC(218,3.814,1589.073),new VSC(199,5.34,1066.495),new VSC(197,2.484,3.932),new VSC(156,1.406,1052.268),new VSC(146,3.814,639.897),new VSC(142,1.634,426.598),new VSC(130,5.837,412.371),new VSC(117,1.414,625.67),new VSC(97,4.03,110.21),new VSC(91,1.11,95.98),new VSC(87,2.52,632.78),new VSC(79,4.64,543.92),new VSC(72,2.22,735.88),new VSC(58,0.83,199.07),new VSC(57,3.12,213.3),new VSC(49,1.67,309.28),new VSC(40,4.02,21.34),new VSC(40,0.62,323.51),new VSC(36,2.33,728.76),new VSC(29,3.61,10.29),new VSC(28,3.24,838.97),new VSC(26,4.5,742.99),new VSC(26,2.51,1162.47),new VSC(25,1.22,1045.15),new VSC(24,3.01,956.29),new VSC(19,4.29,532.87),new VSC(18,0.81,508.35),new VSC(17,4.2,2118.76),new VSC(17,1.83,526.51),new VSC(15,5.81,1596.19),new VSC(15,0.68,942.06),new VSC(15,4,117.32),new VSC(14,5.95,316.39),new VSC(14,1.8,302.16),new VSC(13,2.52,88.87),new VSC(13,4.37,1169.59),new VSC(11,4.44,525.76),new VSC(10,1.72,1581.96),new VSC(9,2.18,1155.36),new VSC(9,3.29,220.41),new VSC(9,3.32,831.86),new VSC(8,5.76,846.08),new VSC(8,2.71,533.62),new VSC(7,2.18,1265.57),new VSC(6,0.5,949.18)];GFX.g_L3JupiterCoefficients=[new VSC(6502,2.5986,7.1135),new VSC(1357,1.3464,529.691),new VSC(471,2.475,14.227),new VSC(417,3.245,536.805),new VSC(353,2.974,522.577),new VSC(155,2.076,1059.382),new VSC(87,2.51,515.46),new VSC(44,0,0),new VSC(34,3.83,1066.5),new VSC(28,2.45,206.19),new VSC(24,1.28,412.37),new VSC(23,2.98,543.92),new VSC(20,2.1,639.9),new VSC(20,1.4,419.48),new VSC(19,1.59,103.09),new VSC(17,2.3,21.34),new VSC(17,2.6,1589.07),new VSC(16,3.15,625.67),new VSC(16,3.36,1052.27),new VSC(13,2.76,95.98),new VSC(13,2.54,199.07),new VSC(13,6.27,426.6),new VSC(9,1.76,10.29),new VSC(9,2.27,110.21),new VSC(7,3.43,309.28),new VSC(7,4.04,728.76),new VSC(6,2.52,508.35),new VSC(5,2.91,1045.15),new VSC(5,5.25,323.51),new VSC(4,4.3,88.87),new VSC(4,3.52,302.16),new VSC(4,4.09,735.88),new VSC(3,1.43,956.29),new VSC(3,4.36,1596.19),new VSC(3,1.25,213.3),new VSC(3,5.02,838.97),new VSC(3,2.24,117.32),new VSC(2,2.9,742.99),new VSC(2,2.36,942.06)];GFX.g_L4JupiterCoefficients=[new VSC(669,0.853,7.114),new VSC(114,3.142,0),new VSC(100,0.743,14.227),new VSC(50,1.65,536.8),new VSC(44,5.82,529.69),new VSC(32,4.86,522.58),new VSC(15,4.29,515.46),new VSC(9,0.71,1059.38),new VSC(5,1.3,543.92),new VSC(4,2.32,1066.5),new VSC(4,0.48,21.34),new VSC(3,3,412.37),new VSC(2,0.4,639.9),new VSC(2,4.26,199.07),new VSC(2,4.91,625.67),new VSC(2,4.26,206.19),new VSC(1,5.26,1052.27),new VSC(1,4.72,95.98),new VSC(1,1.29,1589.07)];GFX.g_L5JupiterCoefficients=[new VSC(50,5.26,7.11),new VSC(16,5.25,14.23),new VSC(4,0.01,536.8),new VSC(2,1.1,522.58),new VSC(1,3.14,0)];GFX.g_B0JupiterCoefficients=[new VSC(2268616,3.5585261,529.6909651),new VSC(110090,0,0),new VSC(109972,3.908093,1059.38193),new VSC(8101,3.6051,522.5774),new VSC(6438,0.3063,536.8045),new VSC(6044,4.2588,1589.0729),new VSC(1107,2.9853,1162.4747),new VSC(944,1.675,426.598),new VSC(942,2.936,1052.268),new VSC(894,1.754,7.114),new VSC(836,5.179,103.093),new VSC(767,2.155,632.784),new VSC(684,3.678,213.299),new VSC(629,0.643,1066.495),new VSC(559,0.014,846.083),new VSC(532,2.703,110.206),new VSC(464,1.173,949.176),new VSC(431,2.608,419.485),new VSC(351,4.611,2118.764),new VSC(132,4.778,742.99),new VSC(123,3.35,1692.166),new VSC(116,1.387,323.505),new VSC(115,5.049,316.392),new VSC(104,3.701,515.464),new VSC(103,2.319,1478.867),new VSC(102,3.153,1581.959)];GFX.g_B1JupiterCoefficients=[new VSC(177352,5.701665,529.690965),new VSC(3230,5.7794,1059.3819),new VSC(3081,5.4746,522.5774),new VSC(2212,4.7348,536.8045),new VSC(1694,3.1416,0),new VSC(346,4.746,1052.268),new VSC(234,5.189,1066.495),new VSC(196,6.186,7.114),new VSC(150,3.927,1589.073),new VSC(114,3.439,632.784),new VSC(97,2.91,949.18),new VSC(82,5.08,1162.47),new VSC(77,2.51,103.09),new VSC(77,0.61,419.48),new VSC(74,5.5,515.46),new VSC(61,5.45,213.3),new VSC(50,3.95,735.88),new VSC(46,0.54,110.21),new VSC(45,1.9,846.08),new VSC(37,4.7,543.92),new VSC(36,6.11,316.39),new VSC(32,4.92,1581.96)];GFX.g_B2JupiterCoefficients=[new VSC(8094,1.4632,529.691),new VSC(813,3.1416,0),new VSC(742,0.957,522.577),new VSC(399,2.899,536.805),new VSC(342,1.447,1059.382),new VSC(74,0.41,1052.27),new VSC(46,3.48,1066.5),new VSC(30,1.93,1589.07),new VSC(29,0.99,515.46),new VSC(23,4.27,7.11),new VSC(14,2.92,543.92),new VSC(12,5.22,632.78),new VSC(11,4.88,949.18),new VSC(6,6.21,1045.15)];GFX.g_B3JupiterCoefficients=[new VSC(252,3.381,529.691),new VSC(122,2.733,522.577),new VSC(49,1.04,536.8),new VSC(11,2.31,1052.27),new VSC(8,2.77,515.46),new VSC(7,4.25,1059.38),new VSC(6,1.78,1066.5),new VSC(4,1.13,543.92),new VSC(3,3.14,0)];GFX.g_B4JupiterCoefficients=[new VSC(15,4.53,522.58),new VSC(5,4.47,529.69),new VSC(4,5.44,536.8),new VSC(3,0,0),new VSC(2,4.52,515.46),new VSC(1,4.2,1052.27)];GFX.g_B5JupiterCoefficients=[new VSC(1,0.09,522.58)];GFX.g_R0JupiterCoefficients=[new VSC(520887429,0,0),new VSC(25209327,3.4910864,529.69096509),new VSC(610600,3.841154,1059.38193),new VSC(282029,2.574199,632.783739),new VSC(187647,2.075904,522.577418),new VSC(86793,0.71001,419.48464),new VSC(72063,0.21466,536.80451),new VSC(65517,5.97996,316.39187),new VSC(30135,2.16132,949.17561),new VSC(29135,1.67759,103.09277),new VSC(23947,0.27458,7.11355),new VSC(23453,3.54023,735.87651),new VSC(22284,4.19363,1589.0729),new VSC(13033,2.96043,1162.4747),new VSC(12749,2.7155,1052.26838),new VSC(9703,1.9067,206.1855),new VSC(9161,4.4135,213.2991),new VSC(7895,2.4791,426.5982),new VSC(7058,2.1818,1265.5675),new VSC(6138,6.2642,846.0828),new VSC(5477,5.6573,639.8973),new VSC(4170,2.0161,515.4639),new VSC(4137,2.7222,625.6702),new VSC(3503,0.5653,1066.4955),new VSC(2617,2.0099,1581.9593),new VSC(2500,4.5518,838.9693),new VSC(2128,6.1275,742.9901),new VSC(1912,0.8562,412.3711),new VSC(1611,3.0887,1368.6603),new VSC(1479,2.6803,1478.8666),new VSC(1231,1.8904,323.5054),new VSC(1217,1.8017,110.2063),new VSC(1015,1.3867,454.9094),new VSC(999,2.872,309.278),new VSC(961,4.549,2118.764),new VSC(886,4.148,533.623),new VSC(821,1.593,1898.351),new VSC(812,5.941,909.819),new VSC(777,3.677,728.763),new VSC(727,3.988,1155.361),new VSC(655,2.791,1685.052),new VSC(654,3.382,1692.166),new VSC(621,4.823,956.289),new VSC(615,2.276,942.062),new VSC(562,0.081,543.918),new VSC(542,0.284,525.759)];GFX.g_R1JupiterCoefficients=[new VSC(1271802,2.6493751,529.6909651),new VSC(61662,3.00076,1059.38193),new VSC(53444,3.89718,522.57742),new VSC(41390,0,0),new VSC(31185,4.88277,536.80451),new VSC(11847,2.4133,419.48464),new VSC(9166,4.7598,7.1135),new VSC(3404,3.3469,1589.0729),new VSC(3203,5.2108,735.8765),new VSC(3176,2.793,103.0928),new VSC(2806,3.7422,515.4639),new VSC(2677,4.3305,1052.2684),new VSC(2600,3.6344,206.1855),new VSC(2412,1.4695,426.5982),new VSC(2101,3.9276,639.8973),new VSC(1646,4.4163,1066.4955),new VSC(1641,4.4163,625.6702),new VSC(1050,3.1611,213.2991),new VSC(1025,2.5543,412.3711),new VSC(806,2.678,632.784),new VSC(741,2.171,1162.475),new VSC(677,6.25,838.969),new VSC(567,4.577,742.99),new VSC(485,2.469,949.176),new VSC(469,4.71,543.918),new VSC(445,0.403,323.505),new VSC(416,5.368,728.763),new VSC(402,4.605,309.278),new VSC(347,4.681,14.227),new VSC(338,3.168,956.289),new VSC(261,5.343,846.083),new VSC(247,3.923,942.062),new VSC(220,4.842,1368.66),new VSC(203,5.6,1155.361),new VSC(200,4.439,1045.155),new VSC(197,3.706,2118.764),new VSC(196,3.759,199.072),new VSC(184,4.265,95.979),new VSC(180,4.402,532.872),new VSC(170,4.846,526.51),new VSC(146,6.13,533.623),new VSC(133,1.322,110.206),new VSC(132,4.512,525.759)];GFX.g_R2JupiterCoefficients=[new VSC(79645,1.35866,529.69097),new VSC(8252,5.7777,522.5774),new VSC(7030,3.2748,536.8045),new VSC(5314,1.8384,1059.3819),new VSC(1861,2.9768,7.1135),new VSC(964,5.48,515.464),new VSC(836,4.199,419.485),new VSC(498,3.142,0),new VSC(427,2.228,639.897),new VSC(406,3.783,1066.495),new VSC(377,2.242,1589.073),new VSC(363,5.368,206.186),new VSC(342,6.099,1052.268),new VSC(339,6.127,625.67),new VSC(333,0.003,426.598),new VSC(280,4.262,412.371),new VSC(257,0.963,632.784),new VSC(230,0.705,735.877),new VSC(201,3.069,543.918),new VSC(200,4.429,103.093),new VSC(139,2.932,14.227),new VSC(114,0.787,728.763),new VSC(95,1.7,838.97),new VSC(86,5.14,323.51),new VSC(83,0.06,309.28),new VSC(80,2.98,742.99),new VSC(75,1.6,956.29),new VSC(70,1.51,213.3),new VSC(67,5.47,199.07),new VSC(62,6.1,1045.15),new VSC(56,0.96,1162.47),new VSC(52,5.58,942.06),new VSC(50,2.72,532.87),new VSC(45,5.52,508.35),new VSC(44,0.27,526.51),new VSC(40,5.95,95.98)];GFX.g_R3JupiterCoefficients=[new VSC(3519,6.058,529.691),new VSC(1073,1.6732,536.8045),new VSC(916,1.413,522.577),new VSC(342,0.523,1059.382),new VSC(255,1.196,7.114),new VSC(222,0.952,515.464),new VSC(90,3.14,0),new VSC(69,2.27,1066.5),new VSC(58,1.41,543.92),new VSC(58,0.53,639.9),new VSC(51,5.98,412.37),new VSC(47,1.58,625.67),new VSC(43,6.12,419.48),new VSC(37,1.18,14.23),new VSC(34,1.67,1052.27),new VSC(34,0.85,206.19),new VSC(31,1.04,1589.07),new VSC(30,4.63,426.6),new VSC(21,2.5,728.76),new VSC(15,0.89,199.07),new VSC(14,0.96,508.35),new VSC(13,1.5,1045.15),new VSC(12,2.61,735.88),new VSC(12,3.56,323.51),new VSC(11,1.79,309.28),new VSC(11,6.28,956.29),new VSC(10,6.26,103.09),new VSC(9,3.45,838.97)];GFX.g_R4JupiterCoefficients=[new VSC(129,0.084,536.805),new VSC(113,4.249,529.691),new VSC(83,3.3,522.58),new VSC(38,2.73,515.46),new VSC(27,5.69,7.11),new VSC(18,5.4,1059.38),new VSC(13,6.02,543.92),new VSC(9,0.77,1066.5),new VSC(8,5.68,14.23),new VSC(7,1.43,412.37),new VSC(6,5.12,639.9),new VSC(5,3.34,625.67),new VSC(3,3.4,1052.27),new VSC(3,4.16,728.76),new VSC(3,2.9,426.6)];GFX.g_R5JupiterCoefficients=[new VSC(11,4.75,536.8),new VSC(4,5.92,522.58),new VSC(2,5.57,515.46),new VSC(2,4.3,543.92),new VSC(2,3.69,7.11),new VSC(2,4.13,1059.38),new VSC(2,5.49,1066.5)];GFX.g_L0MarsCoefficients=[new VSC(620347712,0,0),new VSC(18656368,5.050371,3340.6124267),new VSC(1108217,5.4009984,6681.2248534),new VSC(91798,5.75479,10021.83728),new VSC(27745,5.9705,3.52312),new VSC(12316,0.84956,2810.92146),new VSC(10610,2.93959,2281.2305),new VSC(8927,4.157,0.0173),new VSC(8716,6.1101,13362.4497),new VSC(7775,3.3397,5621.8429),new VSC(6798,0.3646,398.149),new VSC(4161,0.2281,2942.4634),new VSC(3575,1.6619,2544.3144),new VSC(3075,0.857,191.4483),new VSC(2938,6.0789,0.0673),new VSC(2628,0.6481,3337.0893),new VSC(2580,0.03,3344.1355),new VSC(2389,5.039,796.298),new VSC(1799,0.6563,529.691),new VSC(1546,2.9158,1751.5395),new VSC(1528,1.1498,6151.5339),new VSC(1286,3.068,2146.1654),new VSC(1264,3.6228,5092.152),new VSC(1025,3.6933,8962.4553),new VSC(892,0.183,16703.062),new VSC(859,2.401,2914.014),new VSC(833,4.495,3340.63),new VSC(833,2.464,3340.595),new VSC(749,3.822,155.42),new VSC(724,0.675,3738.761),new VSC(713,3.663,1059.382),new VSC(655,0.489,3127.313),new VSC(636,2.922,8432.764),new VSC(553,4.475,1748.016),new VSC(550,3.81,0.98),new VSC(472,3.625,1194.447),new VSC(426,0.554,6283.076),new VSC(415,0.497,213.299),new VSC(312,0.999,6677.702),new VSC(307,0.381,6684.748),new VSC(302,4.486,3532.061),new VSC(299,2.783,6254.627),new VSC(293,4.221,20.775),new VSC(284,5.769,3149.164),new VSC(281,5.882,1349.867),new VSC(274,0.542,3340.545),new VSC(274,0.134,3340.68),new VSC(239,5.372,4136.91),new VSC(236,5.755,3333.499),new VSC(231,1.282,3870.303),new VSC(221,3.505,382.897),new VSC(204,2.821,1221.849),new VSC(193,3.357,3.59),new VSC(189,1.491,9492.146),new VSC(179,1.006,951.718),new VSC(174,2.414,553.569),new VSC(172,0.439,5486.778),new VSC(160,3.949,4562.461),new VSC(144,1.419,135.065),new VSC(140,3.326,2700.715),new VSC(138,4.301,7.114),new VSC(131,4.045,12303.068),new VSC(128,2.208,1592.596),new VSC(128,1.807,5088.629),new VSC(117,3.128,7903.073),new VSC(113,3.701,1589.073),new VSC(110,1.052,242.729),new VSC(105,0.785,8827.39),new VSC(100,3.243,11773.377)];GFX.g_L1MarsCoefficients=[new VSC(334085627474,0,0),new VSC(1458227,3.6042605,3340.6124267),new VSC(164901,3.926313,6681.224853),new VSC(19963,4.26594,10021.83728),new VSC(3452,4.7321,3.5231),new VSC(2485,4.6128,13362.4497),new VSC(842,4.459,2281.23),new VSC(538,5.016,398.149),new VSC(521,4.994,3344.136),new VSC(433,2.561,191.448),new VSC(430,5.316,155.42),new VSC(382,3.539,796.298),new VSC(314,4.963,16703.062),new VSC(283,3.16,2544.314),new VSC(206,4.569,2146.165),new VSC(169,1.329,3337.089),new VSC(158,4.185,1751.54),new VSC(134,2.233,0.98),new VSC(134,5.974,1748.016),new VSC(118,6.024,6151.534),new VSC(117,2.213,1059.382),new VSC(114,2.129,1194.447),new VSC(114,5.428,3738.761),new VSC(91,1.1,1349.87),new VSC(85,3.91,553.57),new VSC(83,5.3,6684.75),new VSC(81,4.43,529.69),new VSC(80,2.25,8962.46),new VSC(73,2.5,951.72),new VSC(73,5.84,242.73),new VSC(71,3.86,2914.01),new VSC(68,5.02,382.9),new VSC(65,1.02,3340.6),new VSC(65,3.05,3340.63),new VSC(62,4.15,3149.16),new VSC(57,3.89,4136.91),new VSC(48,4.87,213.3),new VSC(48,1.18,3333.5),new VSC(47,1.31,3185.19),new VSC(41,0.71,1592.6),new VSC(40,2.73,7.11),new VSC(40,5.32,20043.67),new VSC(33,5.41,6283.08),new VSC(28,0.05,9492.15),new VSC(27,3.89,1221.85),new VSC(27,5.11,2700.72)];GFX.g_L2MarsCoefficients=[new VSC(58016,2.04979,3340.61243),new VSC(54188,0,0),new VSC(13908,2.45742,6681.22485),new VSC(2465,2.8,10021.8373),new VSC(398,3.141,13362.45),new VSC(222,3.194,3.523),new VSC(121,0.543,155.42),new VSC(62,3.49,16703.06),new VSC(54,3.54,3344.14),new VSC(34,6,2281.23),new VSC(32,4.14,191.45),new VSC(30,2,796.3),new VSC(23,4.33,242.73),new VSC(22,3.45,398.15),new VSC(20,5.42,553.57),new VSC(16,0.66,0.98),new VSC(16,6.11,2146.17),new VSC(16,1.22,1748.02),new VSC(15,6.1,3185.19),new VSC(14,4.02,951.72),new VSC(14,2.62,1349.87),new VSC(13,0.6,1194.45),new VSC(12,3.86,6684.75),new VSC(11,4.72,2544.31),new VSC(10,0.25,382.9),new VSC(9,0.68,1059.38),new VSC(9,3.83,20043.67),new VSC(9,3.88,3738.76),new VSC(8,5.46,1751.54),new VSC(7,2.58,3149.16),new VSC(7,2.38,4136.91),new VSC(6,5.48,1592.6),new VSC(6,2.34,3097.88)];GFX.g_L3MarsCoefficients=[new VSC(1482,0.4443,3340.6124),new VSC(662,0.885,6681.225),new VSC(188,1.288,10021.837),new VSC(41,1.65,13362.45),new VSC(26,0,0),new VSC(23,2.05,155.42),new VSC(10,1.58,3.52),new VSC(8,2,16703.06),new VSC(5,2.82,242.73),new VSC(4,2.02,3344.14),new VSC(3,4.59,3185.19),new VSC(3,0.65,553.57)];GFX.g_L4MarsCoefficients=[new VSC(114,3.1416,0),new VSC(29,5.64,6681.22),new VSC(24,5.14,3340.61),new VSC(11,6.03,10021.84),new VSC(3,0.13,13362.45),new VSC(3,3.56,155.42),new VSC(1,0.49,16703.06),new VSC(1,1.32,242.73)];GFX.g_L5MarsCoefficients=[new VSC(1,3.14,0),new VSC(1,4.04,6681.22)];GFX.g_B0MarsCoefficients=[new VSC(3197135,3.7683204,3340.6124267),new VSC(298033,4.10617,6681.224853),new VSC(289105,0,0),new VSC(31366,4.44651,10021.83728),new VSC(3484,4.7881,13362.4497),new VSC(443,5.026,3344.136),new VSC(443,5.652,3337.089),new VSC(399,5.131,16703.062),new VSC(293,3.793,2281.23),new VSC(182,6.136,6151.534),new VSC(163,4.264,529.691),new VSC(160,2.232,1059.382),new VSC(149,2.165,5621.843),new VSC(143,1.182,3340.595),new VSC(143,3.213,3340.63),new VSC(139,2.418,8962.455)];GFX.g_B1MarsCoefficients=[new VSC(350069,5.368478,3340.612427),new VSC(14116,3.14159,0),new VSC(9671,5.4788,6681.2249),new VSC(1472,3.2021,10021.8373),new VSC(426,3.408,13362.45),new VSC(102,0.776,3337.089),new VSC(79,3.72,16703.06),new VSC(33,3.46,5621.84),new VSC(26,2.48,2281.23)];GFX.g_B2MarsCoefficients=[new VSC(16727,0.60221,3340.61243),new VSC(4987,4.1416,0),new VSC(302,3.559,6681.225),new VSC(26,1.9,13362.45),new VSC(21,0.92,10021.84),new VSC(12,2.24,3337.09),new VSC(8,2.25,16703.06)];GFX.g_B3MarsCoefficients=[new VSC(607,1.981,3340.612),new VSC(43,0,0),new VSC(14,1.8,6681.22),new VSC(3,3.45,10021.84)];GFX.g_B4MarsCoefficients=[new VSC(13,0,0),new VSC(11,3.46,3340.61),new VSC(1,0.5,6681.22)];GFX.g_R0MarsCoefficients=[new VSC(153033488,0,0),new VSC(14184953,3.47971284,3340.6124267),new VSC(660776,3.817834,6681.224853),new VSC(46179,4.15595,10021.83728),new VSC(8110,5.5596,2810.9215),new VSC(7485,1.7724,5621.8429),new VSC(5523,1.3644,2281.2305),new VSC(3825,4.4941,13362.4497),new VSC(2484,4.9255,2942.4634),new VSC(2307,0.0908,2544.3144),new VSC(1999,5.3606,3337.0893),new VSC(1960,4.7425,3344.1355),new VSC(1167,2.1126,5092.152),new VSC(1103,5.0091,398.149),new VSC(992,5.839,6151.534),new VSC(899,4.408,529.691),new VSC(807,2.102,1059.382),new VSC(798,3.448,796.298),new VSC(741,1.499,2146.165),new VSC(726,1.245,8432.764),new VSC(692,2.134,8962.455),new VSC(633,0.894,3340.595),new VSC(633,2.924,3340.63),new VSC(630,1.287,1751.54),new VSC(574,0.829,2914.014),new VSC(526,5.383,3738.761),new VSC(473,5.199,3127.313),new VSC(348,4.832,16703.062),new VSC(284,2.907,3532.061),new VSC(280,5.257,6283.076),new VSC(276,1.218,6254.627),new VSC(275,2.908,1748.016),new VSC(270,3.764,5884.927),new VSC(239,2.037,1194.447),new VSC(234,5.105,5486.778),new VSC(228,3.255,6872.673),new VSC(223,4.199,3149.164),new VSC(219,5.583,191.448),new VSC(208,5.255,3340.545),new VSC(208,4.846,3340.68),new VSC(186,5.699,6677.702),new VSC(183,5.081,6684.748),new VSC(179,4.184,3333.499),new VSC(176,5.953,3870.303),new VSC(164,3.799,4136.91)];GFX.g_R1MarsCoefficients=[new VSC(1107433,2.0325052,3340.6124267),new VSC(103176,2.370718,6681.224853),new VSC(12877,0,0),new VSC(10816,2.70888,10021.83728),new VSC(1195,3.047,13362.4497),new VSC(439,2.888,2281.23),new VSC(396,3.423,3344.136),new VSC(183,1.584,2544.314),new VSC(136,3.385,16703.062),new VSC(128,6.043,3337.089),new VSC(128,0.63,1059.382),new VSC(127,1.954,796.298),new VSC(118,2.998,2146.165),new VSC(88,3.42,398.15),new VSC(83,3.86,3738.76),new VSC(76,4.45,6151.53),new VSC(72,2.76,529.69),new VSC(67,2.55,1751.54),new VSC(66,4.41,1748.02),new VSC(58,0.54,1194.45),new VSC(54,0.68,8962.46),new VSC(51,3.73,6684.75),new VSC(49,5.73,3340.6),new VSC(49,1.48,3340.63),new VSC(48,2.58,3149.16),new VSC(48,2.29,2914.01),new VSC(39,2.32,4136.91)];GFX.g_R2MarsCoefficients=[new VSC(44242,0.47931,3340.61243),new VSC(8138,0.87,6681.2249),new VSC(1275,1.2259,10021.8373),new VSC(187,1.573,13362.45),new VSC(52,3.14,0),new VSC(41,1.97,3344.14),new VSC(27,1.92,16703.06),new VSC(18,4.43,2281.23),new VSC(12,4.53,3185.19),new VSC(10,5.39,1059.38),new VSC(10,0.42,796.3)];GFX.g_R3MarsCoefficients=[new VSC(1113,5.1499,3340.6124),new VSC(424,5.613,6681.225),new VSC(100,5.997,10021.837),new VSC(20,0.08,13362.45),new VSC(5,3.14,0),new VSC(3,0.43,16703.06)];GFX.g_R4MarsCoefficients=[new VSC(20,3.58,3340.61),new VSC(16,4.05,6681.22),new VSC(6,4.46,10021.84),new VSC(2,4.84,13362.45)];GFX.g_L0MercuryCoefficients=[new VSC(440250710,0,0),new VSC(40989415,1.48302034,26087.90314157),new VSC(5046294,4.47785449,52175.8062831),new VSC(855347,1.165203,78263.709425),new VSC(165590,4.119692,104351.612566),new VSC(34562,0.77931,130439.51571),new VSC(7583,3.7135,156527.4188),new VSC(3560,1.512,1109.3786),new VSC(1803,4.1033,5661.332),new VSC(1726,0.3583,182615.322),new VSC(1590,2.9951,25028.5212),new VSC(1365,4.5992,27197.2817),new VSC(1017,0.8803,31749.2352),new VSC(714,1.541,24978.525),new VSC(644,5.303,21535.95),new VSC(451,6.05,51116.424),new VSC(404,3.282,208703.225),new VSC(352,5.242,20426.571),new VSC(345,2.792,15874.618),new VSC(343,5.765,955.6),new VSC(339,5.863,25558.212),new VSC(325,1.337,53285.185),new VSC(273,2.495,529.691),new VSC(264,3.917,57837.138),new VSC(260,0.987,4551.953),new VSC(239,0.113,1059.382),new VSC(235,0.267,11322.664),new VSC(217,0.66,13521.751),new VSC(209,2.092,47623.853),new VSC(183,2.629,27043.503),new VSC(182,2.434,25661.305),new VSC(176,4.536,51066.428),new VSC(173,2.452,24498.83),new VSC(142,3.36,37410.567),new VSC(138,0.291,10213.286),new VSC(125,3.721,39609.655),new VSC(118,2.781,77204.327),new VSC(106,4.206,19804.827)];GFX.g_L1MercuryCoefficients=[new VSC(2608814706223,0,0),new VSC(1126008,6.2170397,26087.9031416),new VSC(303471,3.055655,52175.806283),new VSC(80538,6.10455,78263.70942),new VSC(21245,2.83532,104351.61257),new VSC(5592,5.8268,130439.5157),new VSC(1472,2.5185,156527.4188),new VSC(388,5.48,182615.322),new VSC(352,3.052,1109.379),new VSC(103,2.149,208703.225),new VSC(94,6.12,27197.28),new VSC(91,0,24978.52),new VSC(52,5.62,5661.33),new VSC(44,4.57,25028.52),new VSC(28,3.04,51066.43),new VSC(27,5.09,234791.13)];GFX.g_L2MercuryCoefficients=[new VSC(53050,0,0),new VSC(16904,4.69072,26087.90314),new VSC(7397,1.3474,52175.8063),new VSC(3018,4.4564,78263.7094),new VSC(1107,1.264,104351.6126),new VSC(378,4.32,130439.516),new VSC(123,1.069,156527.419),new VSC(39,4.08,182615.32),new VSC(15,4.63,1109.38),new VSC(12,0.79,208703.23)];GFX.g_L3MercuryCoefficients=[new VSC(188,0.035,52175.806),new VSC(142,3.125,26087.903),new VSC(97,3,78263.71),new VSC(44,6.02,104351.61),new VSC(35,0,0),new VSC(18,2.78,130439.52),new VSC(7,5.82,156527.42),new VSC(3,2.57,182615.32)];GFX.g_L4MercuryCoefficients=[new VSC(114,3.1416,0),new VSC(2,2.03,26087.9),new VSC(2,1.42,78263.71),new VSC(2,4.5,52175.81),new VSC(1,4.5,104351.61),new VSC(1,1.27,130439.52)];GFX.g_L5MercuryCoefficients=[new VSC(1,3.14,0)];GFX.g_B0MercuryCoefficients=[new VSC(11737529,1.98357499,26087.90314157),new VSC(2388077,5.0373896,52175.8062831),new VSC(1222840,3.1415927,0),new VSC(543252,1.796444,78263.709425),new VSC(129779,4.832325,104351.612566),new VSC(31867,1.58088,130439.51571),new VSC(7963,4.6097,156527.4188),new VSC(2014,1.3532,182615.322),new VSC(514,4.378,208703.325),new VSC(209,2.02,24978.525),new VSC(208,4.918,27197.282),new VSC(132,1.119,234791.128),new VSC(121,1.813,53285.185),new VSC(100,5.657,20426.571)];GFX.g_B1MercuryCoefficients=[new VSC(429151,3.501698,26087.903142),new VSC(146234,3.141593,0),new VSC(22675,0.01515,52175.80628),new VSC(10895,0.4854,78263.70942),new VSC(6353,3.4294,104351.6126),new VSC(2496,0.1605,130439.5157),new VSC(860,3.185,156527.419),new VSC(278,6.21,182615.322),new VSC(86,2.95,208703.23),new VSC(28,0.29,27197.28),new VSC(26,5.98,234791.13)];GFX.g_B2MercuryCoefficients=[new VSC(11831,4.79066,26087.90314),new VSC(1914,0,0),new VSC(1045,1.2122,52175.8063),new VSC(266,4.434,78263.709),new VSC(170,1.623,104351.613),new VSC(96,4.8,130439.52),new VSC(45,1.61,156527.42),new VSC(18,4.67,182615.32),new VSC(7,1.43,208703.23)];GFX.g_B3MercuryCoefficients=[new VSC(235,0.354,26087.903),new VSC(161,0,0),new VSC(19,4.36,52175.81),new VSC(6,2.51,78263.71),new VSC(5,6.14,104351.61),new VSC(3,3.12,130439.52),new VSC(2,6.27,156527.42)];GFX.g_B4MercuryCoefficients=[new VSC(4,1.75,26087.9),new VSC(1,3.14,0)];GFX.g_R0MercuryCoefficients=[new VSC(39528272,0,0),new VSC(7834132,6.1923372,26087.9031416),new VSC(795526,2.959897,52175.806283),new VSC(121282,6.010642,78263.709425),new VSC(21922,2.7782,104351.61257),new VSC(4354,5.8289,130439.5157),new VSC(918,2.597,156527.419),new VSC(290,1.424,25028.521),new VSC(260,3.028,27197.282),new VSC(202,5.647,182615.322),new VSC(201,5.592,31749.235),new VSC(142,6.253,24978.525),new VSC(100,3.734,21535.95)];GFX.g_R1MercuryCoefficients=[new VSC(217348,4.656172,26087.903142),new VSC(44142,1.42386,52175.80628),new VSC(10094,4.47466,78263.70942),new VSC(2433,1.2423,104351.6126),new VSC(1624,0,0),new VSC(604,4.293,130439.516),new VSC(153,1.061,156527.419),new VSC(39,4.11,182615.32)];GFX.g_R2MercuryCoefficients=[new VSC(3118,3.0823,26087.9031),new VSC(1245,6.1518,52175.8063),new VSC(425,2.926,78263.709),new VSC(136,5.98,104351.613),new VSC(42,2.75,130439.52),new VSC(22,3.14,0),new VSC(13,5.8,156527.42)];GFX.g_R3MercuryCoefficients=[new VSC(33,1.68,26087.9),new VSC(24,4.63,52175.81),new VSC(12,1.39,78263.71),new VSC(5,4.44,104351.61),new VSC(2,1.21,130439.52)];GFX.g_MoonCoefficients1=[new MoonCoefficient1(0,0,1,0),new MoonCoefficient1(2,0,-1,0),new MoonCoefficient1(2,0,0,0),new MoonCoefficient1(0,0,2,0),new MoonCoefficient1(0,1,0,0),new MoonCoefficient1(0,0,0,2),new MoonCoefficient1(2,0,-2,0),new MoonCoefficient1(2,-1,-1,0),new MoonCoefficient1(2,0,1,0),new MoonCoefficient1(2,-1,0,0),new MoonCoefficient1(0,1,-1,0),new MoonCoefficient1(1,0,0,0),new MoonCoefficient1(0,1,1,0),new MoonCoefficient1(2,0,0,-2),new MoonCoefficient1(0,0,1,2),new MoonCoefficient1(0,0,1,-2),new MoonCoefficient1(4,0,-1,0),new MoonCoefficient1(0,0,3,0),new MoonCoefficient1(4,0,-2,0),new MoonCoefficient1(2,1,-1,0),new MoonCoefficient1(2,1,0,0),new MoonCoefficient1(1,0,-1,0),new MoonCoefficient1(1,1,0,0),new MoonCoefficient1(2,-1,1,0),new MoonCoefficient1(2,0,2,0),new MoonCoefficient1(4,0,0,0),new MoonCoefficient1(2,0,-3,0),new MoonCoefficient1(0,1,-2,0),new MoonCoefficient1(2,0,-1,2),new MoonCoefficient1(2,-1,-2,0),new MoonCoefficient1(1,0,1,0),new MoonCoefficient1(2,-2,0,0),new MoonCoefficient1(0,1,2,0),new MoonCoefficient1(0,2,0,0),new MoonCoefficient1(2,-2,-1,0),new MoonCoefficient1(2,0,1,-2),new MoonCoefficient1(2,0,0,2),new MoonCoefficient1(4,-1,-1,0),new MoonCoefficient1(0,0,2,2),new MoonCoefficient1(3,0,-1,0),new MoonCoefficient1(2,1,1,0),new MoonCoefficient1(4,-1,-2,0),new MoonCoefficient1(0,2,-1,0),new MoonCoefficient1(2,2,-1,0),new MoonCoefficient1(2,1,-2,0),new MoonCoefficient1(2,-1,0,-2),new MoonCoefficient1(4,0,1,0),new MoonCoefficient1(0,0,4,0),new MoonCoefficient1(4,-1,0,0),new MoonCoefficient1(1,0,-2,0),new MoonCoefficient1(2,1,0,-2),new MoonCoefficient1(0,0,2,-2),new MoonCoefficient1(1,1,1,0),new MoonCoefficient1(3,0,-2,0),new MoonCoefficient1(4,0,-3,0),new MoonCoefficient1(2,-1,2,0),new MoonCoefficient1(0,2,1,0),new MoonCoefficient1(1,1,-1,0),new MoonCoefficient1(2,0,3,0),new MoonCoefficient1(2,0,-1,-2)];GFX.g_MoonCoefficients2=[new MoonCoefficient2(6288774,-20905355),new MoonCoefficient2(1274027,-3699111),new MoonCoefficient2(658314,-2955968),new MoonCoefficient2(213618,-569925),new MoonCoefficient2(-185116,48888),new MoonCoefficient2(-114332,-3149),new MoonCoefficient2(58793,246158),new MoonCoefficient2(57066,-152138),new MoonCoefficient2(53322,-170733),new MoonCoefficient2(45758,-204586),new MoonCoefficient2(-40923,-129620),new MoonCoefficient2(-34720,108743),new MoonCoefficient2(-30383,104755),new MoonCoefficient2(15327,10321),new MoonCoefficient2(-12528,0),new MoonCoefficient2(10980,79661),new MoonCoefficient2(10675,-34782),new MoonCoefficient2(10034,-23210),new MoonCoefficient2(8548,-21636),new MoonCoefficient2(-7888,24208),new MoonCoefficient2(-6766,30824),new MoonCoefficient2(-5163,-8379),new MoonCoefficient2(4987,-16675),new MoonCoefficient2(4036,-12831),new MoonCoefficient2(3994,-10445),new MoonCoefficient2(3861,-11650),new MoonCoefficient2(3665,14403),new MoonCoefficient2(-2689,-7003),new MoonCoefficient2(-2602,0),new MoonCoefficient2(2390,10056),new MoonCoefficient2(-2348,6322),new MoonCoefficient2(2236,-9884),new MoonCoefficient2(-2120,5751),new MoonCoefficient2(-2069,0),new MoonCoefficient2(2048,-4950),new MoonCoefficient2(-1773,4130),new MoonCoefficient2(-1595,0),new MoonCoefficient2(1215,-3958),new MoonCoefficient2(-1110,0),new MoonCoefficient2(-892,3258),new MoonCoefficient2(-810,2616),new MoonCoefficient2(759,-1897),new MoonCoefficient2(-713,-2117),new MoonCoefficient2(-700,2354),new MoonCoefficient2(691,0),new MoonCoefficient2(596,0),new MoonCoefficient2(549,-1423),new MoonCoefficient2(537,-1117),new MoonCoefficient2(520,-1571),new MoonCoefficient2(-487,-1739),new MoonCoefficient2(-399,0),new MoonCoefficient2(-381,-4421),new MoonCoefficient2(351,0),new MoonCoefficient2(-340,0),new MoonCoefficient2(330,0),new MoonCoefficient2(327,0),new MoonCoefficient2(-323,1165),new MoonCoefficient2(299,0),new MoonCoefficient2(294,0),new MoonCoefficient2(0,8752)];GFX.g_MoonCoefficients3=[new MoonCoefficient1(0,0,0,1),new MoonCoefficient1(0,0,1,1),new MoonCoefficient1(0,0,1,-1),new MoonCoefficient1(2,0,0,-1),new MoonCoefficient1(2,0,-1,1),new MoonCoefficient1(2,0,-1,-1),new MoonCoefficient1(2,0,0,1),new MoonCoefficient1(0,0,2,1),new MoonCoefficient1(2,0,1,-1),new MoonCoefficient1(0,0,2,-1),new MoonCoefficient1(2,-1,0,-1),new MoonCoefficient1(2,0,-2,-1),new MoonCoefficient1(2,0,1,1),new MoonCoefficient1(2,1,0,-1),new MoonCoefficient1(2,-1,-1,1),new MoonCoefficient1(2,-1,0,1),new MoonCoefficient1(2,-1,-1,-1),new MoonCoefficient1(0,1,-1,-1),new MoonCoefficient1(4,0,-1,-1),new MoonCoefficient1(0,1,0,1),new MoonCoefficient1(0,0,0,3),new MoonCoefficient1(0,1,-1,1),new MoonCoefficient1(1,0,0,1),new MoonCoefficient1(0,1,1,1),new MoonCoefficient1(0,1,1,-1),new MoonCoefficient1(0,1,0,-1),new MoonCoefficient1(1,0,0,-1),new MoonCoefficient1(0,0,3,1),new MoonCoefficient1(4,0,0,-1),new MoonCoefficient1(4,0,-1,1),new MoonCoefficient1(0,0,1,-3),new MoonCoefficient1(4,0,-2,1),new MoonCoefficient1(2,0,0,-3),new MoonCoefficient1(2,0,2,-1),new MoonCoefficient1(2,-1,1,-1),new MoonCoefficient1(2,0,-2,1),new MoonCoefficient1(0,0,3,-1),new MoonCoefficient1(2,0,2,1),new MoonCoefficient1(2,0,-3,-1),new MoonCoefficient1(2,1,-1,1),new MoonCoefficient1(2,1,0,1),new MoonCoefficient1(4,0,0,1),new MoonCoefficient1(2,-1,1,1),new MoonCoefficient1(2,-2,0,-1),new MoonCoefficient1(0,0,1,3),new MoonCoefficient1(2,1,1,-1),new MoonCoefficient1(1,1,0,-1),new MoonCoefficient1(1,1,0,1),new MoonCoefficient1(0,1,-2,-1),new MoonCoefficient1(2,1,-1,-1),new MoonCoefficient1(1,0,1,1),new MoonCoefficient1(2,-1,-2,-1),new MoonCoefficient1(0,1,2,1),new MoonCoefficient1(4,0,-2,-1),new MoonCoefficient1(4,-1,-1,-1),new MoonCoefficient1(1,0,1,-1),new MoonCoefficient1(4,0,1,-1),new MoonCoefficient1(1,0,-1,-1),new MoonCoefficient1(4,-1,0,-1),new MoonCoefficient1(2,-2,0,1)];GFX.g_MoonCoefficients4=[5128122,280602,277693,173237,55413,46271,32573,17198,9266,8822,8216,4324,4200,-3359,2463,2211,2065,-1870,1828,-1794,-1749,-1565,-1491,-1475,-1410,-1344,-1335,1107,1021,833,777,671,607,596,491,-451,439,422,421,-366,-351,331,315,302,-283,-229,223,223,-220,-220,-185,181,-177,176,166,-164,132,-119,115,107];GFX.g_MoonPerigeeApogeeCoefficients1=[new MPAC(2,0,0,-1.6769,0),new MPAC(4,0,0,0.4589,0),new MPAC(6,0,0,-0.1856,0),new MPAC(8,0,0,0.0883,0),new MPAC(2,-1,0,-0.0773,0.00019),new MPAC(0,1,0,0.0502,-0.00013),new MPAC(10,0,0,-0.046,0),new MPAC(4,-1,0,0.0422,-0.00011),new MPAC(6,-1,0,-0.0256,0),new MPAC(12,0,0,0.0253,0),new MPAC(1,0,0,0.0237,0),new MPAC(8,-1,0,0.0162,0),new MPAC(14,0,0,-0.0145,0),new MPAC(0,0,2,0.0129,0),new MPAC(3,0,0,-0.0112,0),new MPAC(10,-1,0,-0.0104,0),new MPAC(16,0,0,0.0086,0),new MPAC(12,-1,0,0.0069,0),new MPAC(5,0,0,0.0066,0),new MPAC(2,0,2,-0.0053,0),new MPAC(18,0,0,-0.0052,0),new MPAC(14,-1,0,-0.0046,0),new MPAC(7,0,0,-0.0041,0),new MPAC(2,1,0,0.004,0),new MPAC(20,0,0,0.0032,0),new MPAC(1,1,0,-0.0032,0),new MPAC(16,-1,0,0.0031,0),new MPAC(4,1,0,-0.0029,0),new MPAC(9,0,0,0.0027,0),new MPAC(4,0,2,0.0027,0),new MPAC(2,-2,0,-0.0027,0),new MPAC(4,-2,0,0.0024,0),new MPAC(6,-2,0,-0.0021,0),new MPAC(22,0,0,-0.0021,0),new MPAC(18,-1,0,-0.0021,0),new MPAC(6,1,0,0.0019,0),new MPAC(11,0,0,-0.0018,0),new MPAC(8,1,0,-0.0014,0),new MPAC(4,0,-2,-0.0014,0),new MPAC(6,0,2,-0.0014,0),new MPAC(3,1,0,0.0014,0),new MPAC(5,1,0,-0.0014,0),new MPAC(13,0,0,0.0013,0),new MPAC(20,-1,0,0.0013,0),new MPAC(3,2,0,0.0011,0),new MPAC(4,-2,2,-0.0011,0),new MPAC(1,2,0,-0.0011,0),new MPAC(22,-1,0,-0.0009,0),new MPAC(0,0,4,-0.0008,0),new MPAC(6,0,-2,0.0008,0),new MPAC(2,1,-2,0.0008,0),new MPAC(0,2,0,0.0007,0),new MPAC(0,-1,2,0.0007,0),new MPAC(2,0,4,0.0007,0),new MPAC(0,-2,2,-0.0006,0),new MPAC(2,2,-2,-0.0006,0),new MPAC(24,0,0,0.0006,0),new MPAC(4,0,-4,0.0005,0),new MPAC(2,2,0,0.0005,0),new MPAC(1,-1,0,-0.0004,0)];GFX.g_MoonPerigeeApogeeCoefficients2=[new MPAC(2,0,0,0.4392,0),new MPAC(4,0,0,0.0684,0),new MPAC(0,1,0,0.0456,-0.00011),new MPAC(2,-1,0,0.0426,-0.00011),new MPAC(0,0,2,0.0212,0),new MPAC(1,0,0,-0.0189,0),new MPAC(6,0,0,0.0144,0),new MPAC(4,-1,0,0.0113,0),new MPAC(2,0,2,0.0047,0),new MPAC(1,1,0,0.0036,0),new MPAC(8,0,0,0.0035,0),new MPAC(6,-1,0,0.0034,0),new MPAC(2,0,-2,-0.0034,0),new MPAC(2,-2,0,0.0022,0),new MPAC(3,0,0,-0.0017,0),new MPAC(4,0,2,0.0013,0),new MPAC(8,-1,0,0.0011,0),new MPAC(4,-2,0,0.001,0),new MPAC(10,0,0,0.0009,0),new MPAC(3,1,0,0.0007,0),new MPAC(0,2,0,0.0006,0),new MPAC(2,1,0,0.0005,0),new MPAC(2,2,0,0.0005,0),new MPAC(6,0,2,0.0004,0),new MPAC(6,-2,0,0.0004,0),new MPAC(10,-1,0,0.0004,0),new MPAC(5,0,0,-0.0004,0),new MPAC(4,0,-2,-0.0004,0),new MPAC(0,1,2,0.0003,0),new MPAC(12,0,0,0.0003,0),new MPAC(2,-1,2,0.0003,0),new MPAC(1,-1,0,-0.0003,0)];GFX.g_MoonPerigeeApogeeCoefficients3=[new MPAC(2,0,0,63.224,0),new MPAC(4,0,0,-6.99,0),new MPAC(2,-1,0,2.834,0),new MPAC(2,-1,0,0,-0.0071),new MPAC(6,0,0,1.927,0),new MPAC(1,0,0,-1.263,0),new MPAC(8,0,0,-0.702,0),new MPAC(0,1,0,0.696,0),new MPAC(0,1,0,0,-0.0017),new MPAC(0,0,2,-0.69,0),new MPAC(4,-1,0,-0.629,0),new MPAC(4,-1,0,0,0.0016),new MPAC(2,0,-2,-0.392,0),new MPAC(10,0,0,0.297,0),new MPAC(6,-1,0,0.26,0),new MPAC(3,0,0,0.201,0),new MPAC(2,1,0,-0.161,0),new MPAC(1,1,0,0.157,0),new MPAC(12,0,0,-0.138,0),new MPAC(8,-1,0,-0.127,0),new MPAC(2,0,2,0.104,0),new MPAC(2,-2,0,0.104,0),new MPAC(5,0,0,-0.079,0),new MPAC(14,0,0,0.068,0),new MPAC(10,-1,0,0.067,0),new MPAC(4,1,0,0.054,0),new MPAC(12,-1,0,-0.038,0),new MPAC(4,-2,0,-0.038,0),new MPAC(7,0,0,0.037,0),new MPAC(4,0,2,-0.037,0),new MPAC(16,0,0,-0.035,0),new MPAC(3,1,0,-0.03,0),new MPAC(1,-1,0,0.029,0),new MPAC(6,1,0,-0.025,0),new MPAC(0,2,0,0.023,0),new MPAC(14,-1,0,0.023,0),new MPAC(2,2,0,-0.023,0),new MPAC(6,-2,0,0.022,0),new MPAC(2,-1,-2,-0.021,0),new MPAC(9,0,0,-0.02,0),new MPAC(18,0,0,0.019,0),new MPAC(6,0,2,0.017,0),new MPAC(0,-1,2,0.014,0),new MPAC(16,-1,0,-0.014,0),new MPAC(4,0,-20,0.013,0),new MPAC(8,1,0,0.012,0),new MPAC(11,0,0,0.011,0),new MPAC(5,1,0,0.01,0),new MPAC(20,0,0,-0.01,0)];GFX.g_MoonPerigeeApogeeCoefficients4=[new MPAC(2,0,0,-9.147,0),new MPAC(1,0,0,-0.841,0),new MPAC(0,0,2,0.697,0),new MPAC(0,1,0,-0.656,0.0016),new MPAC(4,0,0,0.355,0),new MPAC(2,-1,0,0.159,0),new MPAC(1,1,0,0.127,0),new MPAC(4,-1,0,0.065,0),new MPAC(6,0,0,0.052,0),new MPAC(2,1,0,0.043,0),new MPAC(2,0,2,0.031,0),new MPAC(2,0,-2,-0.023,0),new MPAC(2,-2,0,0.022,0),new MPAC(2,2,0,0.019,0),new MPAC(0,2,0,-0.016,0),new MPAC(6,-1,0,0.014,0),new MPAC(8,0,0,0.01,0)];GFX.g_L0NC=[new VSC(531188633,0,0),new VSC(1798476,2.9010127,38.1330356),new VSC(1019728,0.4858092,1.4844727),new VSC(124532,4.830081,36.648563),new VSC(42064,5.41055,2.96895),new VSC(37715,6.09222,35.16409),new VSC(33785,1.24489,76.26607),new VSC(16483,8E-05,491.55793),new VSC(9199,4.9375,39.6175),new VSC(8994,0.2746,175.1661),new VSC(4216,1.9871,73.2971),new VSC(3365,1.0359,33.6796),new VSC(2285,4.2061,4.4534),new VSC(1434,2.7834,74.7816),new VSC(900,2.076,109.946),new VSC(745,3.19,71.813),new VSC(506,5.748,114.399),new VSC(400,0.35,1021.249),new VSC(345,3.462,41.102),new VSC(340,3.304,77.751),new VSC(323,2.248,32.195),new VSC(306,0.497,0.521),new VSC(287,4.505,0.048),new VSC(282,2.246,146.594),new VSC(267,4.889,0.963),new VSC(252,5.782,388.465),new VSC(245,1.247,9.561),new VSC(233,2.505,137.033),new VSC(227,1.797,453.425),new VSC(170,3.324,108.461),new VSC(151,2.192,33.94),new VSC(150,2.997,5.938),new VSC(148,0.859,111.43),new VSC(119,3.677,2.448),new VSC(109,2.416,183.243),new VSC(103,0.041,0.261),new VSC(103,4.404,70.328),new VSC(102,5.705,0.112)];GFX.g_L1NC=[new VSC(3837687717,0,0),new VSC(16604,4.86319,1.48447),new VSC(15807,2.27923,38.13304),new VSC(3335,3.682,76.2661),new VSC(1306,3.6732,2.9689),new VSC(605,1.505,35.164),new VSC(179,3.453,39.618),new VSC(107,2.451,4.453),new VSC(106,2.755,33.68),new VSC(73,5.49,36.65),new VSC(57,1.86,114.4),new VSC(57,5.22,0.52),new VSC(35,4.52,74.78),new VSC(32,5.9,77.75),new VSC(30,3.67,388.47),new VSC(29,5.17,9.56),new VSC(29,5.17,2.45),new VSC(26,5.25,168.05)];GFX.g_L2NC=[new VSC(53893,0,0),new VSC(296,1.855,1.484),new VSC(281,1.191,38.133),new VSC(270,5.721,76.266),new VSC(23,1.21,2.97),new VSC(9,4.43,35.16),new VSC(7,0.54,2.45)];GFX.g_L3NC=[new VSC(31,0,0),new VSC(15,1.35,76.27),new VSC(12,6.04,1.48),new VSC(12,6.11,38.13)];GFX.g_L4NC=[new VSC(114,3.142,0)];GFX.g_B0NC=[new VSC(3088623,1.4410437,38.1330356),new VSC(27789,5.91272,76.26607),new VSC(27624,0,0),new VSC(15448,3.50877,39.61751),new VSC(15355,2.52124,36.64856),new VSC(2000,1.51,74.7816),new VSC(1968,4.3778,1.4845),new VSC(1015,3.2156,35.1641),new VSC(606,2.802,73.297),new VSC(595,2.129,41.102),new VSC(589,3.187,2.969),new VSC(402,4.169,114.399),new VSC(280,1.682,77.751),new VSC(262,3.767,213.299),new VSC(254,3.271,453.425),new VSC(206,4.257,529.691),new VSC(140,3.53,137.033)];GFX.g_B1NC=[new VSC(227279,3.807931,38.133036),new VSC(1803,1.9758,76.2661),new VSC(1433,3.1416,0),new VSC(1386,4.8256,36.6486),new VSC(1073,6.0805,39.6175),new VSC(148,3.858,74.782),new VSC(136,0.478,1.484),new VSC(70,6.19,35.16),new VSC(52,5.05,73.3),new VSC(43,0.31,114.4),new VSC(37,4.89,41.1),new VSC(37,5.76,2.97),new VSC(26,5.22,213.3)];GFX.g_B2NC=[new VSC(9691,5.5712,38.133),new VSC(79,3.63,76.27),new VSC(72,0.45,36.65),new VSC(59,3.14,0),new VSC(30,1.61,39.62),new VSC(6,5.61,74.78)];GFX.g_B3NC=[new VSC(273,1.017,38.133),new VSC(2,0,0),new VSC(2,2.37,36.65),new VSC(2,5.33,76.27)];GFX.g_B4NC=[new VSC(6,2.67,38.13)];GFX.g_R0NC=[new VSC(3007013206,0,0),new VSC(27062259,1.32999459,38.13303564),new VSC(1691764,3.2518614,36.6485629),new VSC(807831,5.185928,1.484473),new VSC(537761,4.521139,35.16409),new VSC(495726,1.571057,491.557929),new VSC(274572,1.845523,175.16606),new VSC(135134,3.372206,39.617508),new VSC(121802,5.797544,76.266071),new VSC(100895,0.377027,73.297126),new VSC(69792,3.79617,2.96895),new VSC(46688,5.74938,33.67962),new VSC(24594,0.50802,109.94569),new VSC(16939,1.59422,71.81265),new VSC(14230,1.07786,74.7816),new VSC(12012,1.92062,1021.24889),new VSC(8395,0.6782,146.5943),new VSC(7572,1.0715,388.4652),new VSC(5721,2.5906,4.4534),new VSC(4840,1.9069,41.102),new VSC(4483,2.9057,529.691),new VSC(4421,1.7499,108.4612),new VSC(4354,0.6799,32.1951),new VSC(4270,3.4134,453.4249),new VSC(3381,0.8481,183.2428),new VSC(2881,1.986,137.033),new VSC(2879,3.6742,350.3321),new VSC(2636,3.0976,213.2991),new VSC(2530,5.7984,490.0735),new VSC(2523,0.4863,493.0424),new VSC(2306,2.8096,70.3282),new VSC(2087,0.6186,33.9402)];GFX.g_R1NC=[new VSC(236339,0.70498,38.133036),new VSC(13220,3.32015,1.48447),new VSC(8622,6.2163,35.1641),new VSC(2702,1.8814,39.6175),new VSC(2155,2.0943,2.9689),new VSC(2153,5.1687,76.2661),new VSC(1603,0,0),new VSC(1464,1.1842,33.6796),new VSC(1136,3.9189,36.6486),new VSC(898,5.241,388.465),new VSC(790,0.533,168.053),new VSC(760,0.021,182.28),new VSC(607,1.077,1021.249),new VSC(572,3.401,484.444),new VSC(561,2.887,498.671)];GFX.g_R2NC=[new VSC(4247,5.8991,38.133),new VSC(218,0.346,1.484),new VSC(163,2.239,168.053),new VSC(156,4.594,182.28),new VSC(127,2.848,35.164)];GFX.g_R3NC=[new VSC(166,4.552,38.133)];GFX.g_NuC=[new NUC(0,0,0,0,1,-171996,-174.2,92025,8.9),new NUC(-2,0,0,2,2,-13187,-1.6,5736,-3.1),new NUC(0,0,0,2,2,-2274,-0.2,977,-0.5),new NUC(0,0,0,0,2,2062,0.2,-895,0.5),new NUC(0,1,0,0,0,1426,-3.4,54,-0.1),new NUC(0,0,1,0,0,712,0.1,-7,0),new NUC(-2,1,0,2,2,-517,1.2,224,-0.6),new NUC(0,0,0,2,1,-386,-0.4,200,0),new NUC(0,0,1,2,2,-301,0,129,-0.1),new NUC(-2,-1,0,2,2,217,-0.5,-95,0.3),new NUC(-2,0,1,0,0,-158,0,0,0),new NUC(-2,0,0,2,1,129,0.1,-70,0),new NUC(0,0,-1,2,2,123,0,-53,0),new NUC(2,0,0,0,0,63,0,0,0),new NUC(0,0,1,0,1,63,0.1,-33,0),new NUC(2,0,-1,2,2,-59,0,26,0),new NUC(0,0,-1,0,1,-58,-0.1,32,0),new NUC(0,0,1,2,1,-51,0,27,0),new NUC(-2,0,2,0,0,48,0,0,0),new NUC(0,0,-2,2,1,46,0,-24,0),new NUC(2,0,0,2,2,-38,0,16,0),new NUC(0,0,2,2,2,-31,0,13,0),new NUC(0,0,2,0,0,29,0,0,0),new NUC(-2,0,1,2,2,29,0,-12,0),new NUC(0,0,0,2,0,26,0,0,0),new NUC(-2,0,0,2,0,-22,0,0,0),new NUC(0,0,-1,2,1,21,0,-10,0),new NUC(0,2,0,0,0,17,-0.1,0,0),new NUC(2,0,-1,0,1,16,0,-8,0),new NUC(-2,2,0,2,2,-16,0.1,7,0),new NUC(0,1,0,0,1,-15,0,9,0),new NUC(-2,0,1,0,1,-13,0,7,0),new NUC(0,-1,0,0,1,-12,0,6,0),new NUC(0,0,2,-2,0,11,0,0,0),new NUC(2,0,-1,2,1,-10,0,5,0),new NUC(2,0,1,2,2,-8,0,3,0),new NUC(0,1,0,2,2,7,0,-3,0),new NUC(-2,1,1,0,0,-7,0,0,0),new NUC(0,-1,0,2,2,-7,0,3,0),new NUC(2,0,0,2,1,-7,0,3,0),new NUC(2,0,1,0,0,6,0,0,0),new NUC(-2,0,2,2,2,6,0,-3,0),new NUC(-2,0,1,2,1,6,0,-3,0),new NUC(2,0,-2,0,1,-6,0,3,0),new NUC(2,0,0,0,1,-6,0,3,0),new NUC(0,-1,1,0,0,5,0,0,0),new NUC(-2,-1,0,2,1,-5,0,3,0),new NUC(-2,0,0,0,1,-5,0,3,0),new NUC(0,0,2,2,1,-5,0,3,0),new NUC(-2,0,2,0,1,4,0,0,0),new NUC(-2,1,0,2,1,4,0,0,0),new NUC(0,0,1,-2,0,4,0,0,0),new NUC(-1,0,1,0,0,-4,0,0,0),new NUC(-2,1,0,0,0,-4,0,0,0),new NUC(1,0,0,0,0,-4,0,0,0),new NUC(0,0,1,2,0,3,0,0,0),new NUC(0,0,-2,2,2,-3,0,0,0),new NUC(-1,-1,1,0,0,-3,0,0,0),new NUC(0,1,1,0,0,-3,0,0,0),new NUC(0,-1,1,2,2,-3,0,0,0),new NUC(2,-1,-1,2,2,-3,0,0,0),new NUC(0,0,3,2,2,-3,0,0,0),new NUC(2,-1,0,2,2,-3,0,0,0)];GFX.g_AAParallax_C1=Math.sin(CT.d2R(CT.dmS2D(0,0,8.794)));GFX.g_PlutoArgumentCoefficients=[new PlutoCoefficient1(0,0,1),new PlutoCoefficient1(0,0,2),new PlutoCoefficient1(0,0,3),new PlutoCoefficient1(0,0,4),new PlutoCoefficient1(0,0,5),new PlutoCoefficient1(0,0,6),new PlutoCoefficient1(0,1,-1),new PlutoCoefficient1(0,1,0),new PlutoCoefficient1(0,1,1),new PlutoCoefficient1(0,1,2),new PlutoCoefficient1(0,1,3),new PlutoCoefficient1(0,2,-2),new PlutoCoefficient1(0,2,-1),new PlutoCoefficient1(0,2,0),new PlutoCoefficient1(1,-1,0),new PlutoCoefficient1(1,-1,1),new PlutoCoefficient1(1,0,-3),new PlutoCoefficient1(1,0,-2),new PlutoCoefficient1(1,0,-1),new PlutoCoefficient1(1,0,0),new PlutoCoefficient1(1,0,1),new PlutoCoefficient1(1,0,2),new PlutoCoefficient1(1,0,3),new PlutoCoefficient1(1,0,4),new PlutoCoefficient1(1,1,-3),new PlutoCoefficient1(1,1,-2),new PlutoCoefficient1(1,1,-1),new PlutoCoefficient1(1,1,0),new PlutoCoefficient1(1,1,1),new PlutoCoefficient1(1,1,3),new PlutoCoefficient1(2,0,-6),new PlutoCoefficient1(2,0,-5),new PlutoCoefficient1(2,0,-4),new PlutoCoefficient1(2,0,-3),new PlutoCoefficient1(2,0,-2),new PlutoCoefficient1(2,0,-1),new PlutoCoefficient1(2,0,0),new PlutoCoefficient1(2,0,1),new PlutoCoefficient1(2,0,2),new PlutoCoefficient1(2,0,3),new PlutoCoefficient1(3,0,-2),new PlutoCoefficient1(3,0,-1),new PlutoCoefficient1(3,0,0)];GFX.g_PlutoLongitudeCoefficients=[new PlutoCoefficient2(-19799805,19850055),new PlutoCoefficient2(897144,-4954829),new PlutoCoefficient2(611149,1211027),new PlutoCoefficient2(-341243,-189585),new PlutoCoefficient2(129287,-34992),new PlutoCoefficient2(-38164,30893),new PlutoCoefficient2(20442,-9987),new PlutoCoefficient2(-4063,-5071),new PlutoCoefficient2(-6016,-3336),new PlutoCoefficient2(-3956,3039),new PlutoCoefficient2(-667,3572),new PlutoCoefficient2(1276,501),new PlutoCoefficient2(1152,-917),new PlutoCoefficient2(630,-1277),new PlutoCoefficient2(2571,-459),new PlutoCoefficient2(899,-1449),new PlutoCoefficient2(-1016,1043),new PlutoCoefficient2(-2343,-1012),new PlutoCoefficient2(7042,788),new PlutoCoefficient2(1199,-338),new PlutoCoefficient2(418,-67),new PlutoCoefficient2(120,-274),new PlutoCoefficient2(-60,-159),new PlutoCoefficient2(-82,-29),new PlutoCoefficient2(-36,-29),new PlutoCoefficient2(-40,7),new PlutoCoefficient2(-14,22),new PlutoCoefficient2(4,13),new PlutoCoefficient2(5,2),new PlutoCoefficient2(-1,0),new PlutoCoefficient2(2,0),new PlutoCoefficient2(-4,5),new PlutoCoefficient2(4,-7),new PlutoCoefficient2(14,24),new PlutoCoefficient2(-49,-34),new PlutoCoefficient2(163,-48),new PlutoCoefficient2(9,-24),new PlutoCoefficient2(-4,1),new PlutoCoefficient2(-3,1),new PlutoCoefficient2(1,3),new PlutoCoefficient2(-3,-1),new PlutoCoefficient2(5,-3),new PlutoCoefficient2(0,0)];GFX.g_PlutoLatitudeCoefficients=[new PlutoCoefficient2(-5452852,-14974862),new PlutoCoefficient2(3527812,1672790),new PlutoCoefficient2(-1050748,327647),new PlutoCoefficient2(178690,-292153),new PlutoCoefficient2(18650,100340),new PlutoCoefficient2(-30697,-25823),new PlutoCoefficient2(4878,11248),new PlutoCoefficient2(226,-64),new PlutoCoefficient2(2030,-836),new PlutoCoefficient2(69,-604),new PlutoCoefficient2(-247,-567),new PlutoCoefficient2(-57,1),new PlutoCoefficient2(-122,175),new PlutoCoefficient2(-49,-164),new PlutoCoefficient2(-197,199),new PlutoCoefficient2(-25,217),new PlutoCoefficient2(589,-248),new PlutoCoefficient2(-269,711),new PlutoCoefficient2(185,193),new PlutoCoefficient2(315,807),new PlutoCoefficient2(-130,-43),new PlutoCoefficient2(5,3),new PlutoCoefficient2(2,17),new PlutoCoefficient2(2,5),new PlutoCoefficient2(2,3),new PlutoCoefficient2(3,1),new PlutoCoefficient2(2,-1),new PlutoCoefficient2(1,-1),new PlutoCoefficient2(0,-1),new PlutoCoefficient2(0,0),new PlutoCoefficient2(0,-2),new PlutoCoefficient2(2,2),new PlutoCoefficient2(-7,0),new PlutoCoefficient2(10,-8),new PlutoCoefficient2(-3,20),new PlutoCoefficient2(6,5),new PlutoCoefficient2(14,17),new PlutoCoefficient2(-2,0),new PlutoCoefficient2(0,0),new PlutoCoefficient2(0,0),new PlutoCoefficient2(0,1),new PlutoCoefficient2(0,0),new PlutoCoefficient2(1,0)];GFX.g_PlutoRadiusCoefficients=[new PlutoCoefficient2(66865439,68951812),new PlutoCoefficient2(-11827535,-332538),new PlutoCoefficient2(1593179,-1438890),new PlutoCoefficient2(-18444,483220),new PlutoCoefficient2(-65977,-85431),new PlutoCoefficient2(31174,-6032),new PlutoCoefficient2(-5794,22161),new PlutoCoefficient2(4601,4032),new PlutoCoefficient2(-1729,234),new PlutoCoefficient2(-415,702),new PlutoCoefficient2(239,723),new PlutoCoefficient2(67,-67),new PlutoCoefficient2(1034,-451),new PlutoCoefficient2(-129,504),new PlutoCoefficient2(480,-231),new PlutoCoefficient2(2,-441),new PlutoCoefficient2(-3359,265),new PlutoCoefficient2(7856,-7832),new PlutoCoefficient2(36,45763),new PlutoCoefficient2(8663,8547),new PlutoCoefficient2(-809,-769),new PlutoCoefficient2(263,-144),new PlutoCoefficient2(-126,32),new PlutoCoefficient2(-35,-16),new PlutoCoefficient2(-19,-4),new PlutoCoefficient2(-15,8),new PlutoCoefficient2(-4,12),new PlutoCoefficient2(5,6),new PlutoCoefficient2(3,1),new PlutoCoefficient2(6,-2),new PlutoCoefficient2(2,2),new PlutoCoefficient2(-2,-2),new PlutoCoefficient2(14,13),new PlutoCoefficient2(-63,13),new PlutoCoefficient2(136,-236),new PlutoCoefficient2(273,1065),new PlutoCoefficient2(251,149),new PlutoCoefficient2(-25,-9),new PlutoCoefficient2(9,-2),new PlutoCoefficient2(-8,7),new PlutoCoefficient2(2,-10),new PlutoCoefficient2(19,35),new PlutoCoefficient2(10,3)];GFX.g_L0SaturnCoefficients=[new VSC(87401354,0,0),new VSC(11107660,3.9620509,213.29909544),new VSC(1414151,4.5858152,7.113547),new VSC(398379,0.52112,206.185548),new VSC(350769,3.303299,426.598191),new VSC(206816,0.246584,103.092774),new VSC(79271,3.84007,220.41264),new VSC(23990,4.66977,110.20632),new VSC(16574,0.43719,419.48464),new VSC(15820,0.93809,632.78374),new VSC(15054,2.7167,639.89729),new VSC(14907,5.76903,316.39187),new VSC(14610,1.56519,3.93215),new VSC(13160,4.44891,14.22709),new VSC(13005,5.98119,11.0457),new VSC(10725,3.1294,202.2534),new VSC(6126,1.7633,277.035),new VSC(5863,0.2366,529.691),new VSC(5228,4.2078,3.1814),new VSC(5020,3.1779,433.7117),new VSC(4593,0.6198,199.072),new VSC(4006,2.2448,63.7359),new VSC(3874,3.2228,138.5175),new VSC(3269,0.7749,949.1756),new VSC(2954,0.9828,95.9792),new VSC(2461,2.0316,735.8765),new VSC(1758,3.2658,522.5774),new VSC(1640,5.505,846.0828),new VSC(1581,4.3727,309.2783),new VSC(1391,4.0233,323.5054),new VSC(1124,2.8373,415.5525),new VSC(1087,4.1834,2.4477),new VSC(1017,3.717,227.5262),new VSC(957,0.507,1265.567),new VSC(853,3.421,175.166),new VSC(849,3.191,209.367),new VSC(789,5.007,0.963),new VSC(749,2.144,853.196),new VSC(744,5.253,224.345),new VSC(687,1.747,1052.268),new VSC(654,1.599,0.048),new VSC(634,2.299,412.371),new VSC(625,0.97,210.118),new VSC(580,3.093,74.782),new VSC(546,2.127,350.332),new VSC(543,1.518,9.561),new VSC(530,4.449,117.32),new VSC(478,2.965,137.033),new VSC(474,5.475,742.99),new VSC(452,1.044,490.334),new VSC(449,1.29,127.472),new VSC(372,2.278,217.231),new VSC(355,3.013,838.969),new VSC(347,1.539,340.771),new VSC(343,0.246,0.521),new VSC(330,0.247,1581.959),new VSC(322,0.961,203.738),new VSC(322,2.572,647.011),new VSC(309,3.495,216.48),new VSC(287,2.37,351.817),new VSC(278,0.4,211.815),new VSC(249,1.47,1368.66),new VSC(227,4.91,12.53),new VSC(220,4.204,200.769),new VSC(209,1.345,625.67),new VSC(208,0.483,1162.475),new VSC(208,1.283,39.357),new VSC(204,6.011,265.989),new VSC(185,3.503,149.563),new VSC(184,0.973,4.193),new VSC(182,5.491,2.921),new VSC(174,1.863,0.751),new VSC(165,0.44,5.417),new VSC(149,5.736,52.69),new VSC(148,1.535,5.629),new VSC(146,6.231,195.14),new VSC(140,4.295,21.341),new VSC(131,4.068,10.295),new VSC(125,6.277,1898.351),new VSC(122,1.976,4.666),new VSC(118,5.341,554.07),new VSC(117,2.679,1155.361),new VSC(114,5.594,1059.382),new VSC(112,1.105,191.208),new VSC(110,0.166,1.484),new VSC(109,3.438,536.805),new VSC(107,4.012,956.289),new VSC(104,2.192,88.866),new VSC(103,1.197,1685.052),new VSC(101,4.965,269.921)];GFX.g_L1SaturnCoefficients=[new VSC(21354295596,0,0),new VSC(1296855,1.8282054,213.2990954),new VSC(564348,2.885001,7.113547),new VSC(107679,2.277699,206.185548),new VSC(98323,1.0807,426.59819),new VSC(40255,2.04128,220.41264),new VSC(19942,1.27955,103.09277),new VSC(10512,2.7488,14.22709),new VSC(6939,0.4049,639.8973),new VSC(4803,2.4419,419.4846),new VSC(4056,2.9217,110.2063),new VSC(3769,3.6497,3.9322),new VSC(3385,2.4169,3.1814),new VSC(3302,1.2626,433.7117),new VSC(3071,2.3274,199.072),new VSC(1953,3.5639,11.0457),new VSC(1249,2.628,95.9792),new VSC(922,1.961,227.526),new VSC(706,4.417,529.691),new VSC(650,6.174,202.253),new VSC(628,6.111,309.278),new VSC(487,6.04,853.196),new VSC(479,4.988,522.577),new VSC(468,4.617,63.736),new VSC(417,2.117,323.505),new VSC(408,1.299,209.367),new VSC(352,2.317,632.784),new VSC(344,3.959,412.371),new VSC(340,3.634,316.392),new VSC(336,3.772,735.877),new VSC(332,2.861,210.118),new VSC(289,2.733,117.32),new VSC(281,5.744,2.448),new VSC(266,0.543,647.011),new VSC(230,1.644,216.48),new VSC(192,2.965,224.345),new VSC(173,4.077,846.083),new VSC(167,2.597,21.341),new VSC(136,2.286,10.295),new VSC(131,3.441,742.99),new VSC(128,4.095,217.231),new VSC(109,6.161,415.552),new VSC(98,4.73,838.97),new VSC(94,3.48,1052.27),new VSC(92,3.95,88.87),new VSC(87,1.22,440.83),new VSC(83,3.11,625.67),new VSC(78,6.24,302.16),new VSC(67,0.29,4.67),new VSC(66,5.65,9.56),new VSC(62,4.29,127.47),new VSC(62,1.83,195.14),new VSC(58,2.48,191.96),new VSC(57,5.02,137.03),new VSC(55,0.28,74.78),new VSC(54,5.13,490.33),new VSC(51,1.46,536.8),new VSC(47,1.18,149.56),new VSC(47,5.15,515.46),new VSC(46,2.23,956.29),new VSC(44,2.71,5.42),new VSC(40,0.41,269.92),new VSC(40,3.89,728.76),new VSC(38,0.65,422.67),new VSC(38,2.53,12.53),new VSC(37,3.78,2.92),new VSC(35,6.08,5.63),new VSC(34,3.21,1368.66),new VSC(33,4.64,277.03),new VSC(33,5.43,1066.5),new VSC(33,0.3,351.82),new VSC(32,4.39,1155.36),new VSC(31,2.43,52.69),new VSC(30,2.84,203),new VSC(30,6.19,284.15),new VSC(30,3.39,1059.38),new VSC(29,2.03,330.62),new VSC(28,2.74,265.99),new VSC(26,4.51,340.77)];GFX.g_L2SaturnCoefficients=[new VSC(116441,1.179879,7.113547),new VSC(91921,0.07425,213.2991),new VSC(90592,0,0),new VSC(15277,4.06492,206.18555),new VSC(10631,0.25778,220.41264),new VSC(10605,5.40964,426.59819),new VSC(4265,1.046,14.2271),new VSC(1216,2.9186,103.0928),new VSC(1165,4.6094,639.8973),new VSC(1082,5.6913,433.7117),new VSC(1045,4.0421,199.072),new VSC(1020,0.6337,3.1814),new VSC(634,4.388,419.485),new VSC(549,5.573,3.932),new VSC(457,1.268,110.206),new VSC(425,0.209,227.526),new VSC(274,4.288,95.979),new VSC(162,1.381,11.046),new VSC(129,1.566,309.278),new VSC(117,3.881,853.196),new VSC(105,4.9,647.011),new VSC(101,0.893,21.341),new VSC(96,2.91,316.39),new VSC(95,5.63,412.37),new VSC(85,5.73,209.37),new VSC(83,6.05,216.48),new VSC(82,1.02,117.32),new VSC(75,4.76,210.12),new VSC(67,0.46,522.58),new VSC(66,0.48,10.29),new VSC(64,0.35,323.51),new VSC(61,4.88,632.78),new VSC(53,2.75,529.69),new VSC(46,5.69,440.83),new VSC(45,1.67,202.25),new VSC(42,5.71,88.87),new VSC(32,0.07,63.74),new VSC(32,1.67,302.16),new VSC(31,4.16,191.96),new VSC(27,0.83,224.34),new VSC(25,5.66,735.88),new VSC(20,5.94,217.23),new VSC(18,4.9,625.67),new VSC(17,1.63,742.99),new VSC(16,0.58,515.46),new VSC(14,0.21,838.97),new VSC(14,3.76,195.14),new VSC(12,4.72,203),new VSC(12,0.13,234.64),new VSC(12,3.12,846.08),new VSC(11,5.92,536.8),new VSC(11,5.6,728.76),new VSC(11,3.2,1066.5),new VSC(10,4.99,422.67),new VSC(10,0.26,330.62),new VSC(10,4.15,860.31),new VSC(9,0.46,956.29),new VSC(8,2.14,269.92),new VSC(8,5.25,429.78),new VSC(8,4.03,9.56),new VSC(7,5.4,1052.27),new VSC(6,4.46,284.15),new VSC(6,5.93,405.26)];GFX.g_L3SaturnCoefficients=[new VSC(16039,5.73945,7.11355),new VSC(4250,4.5854,213.2991),new VSC(1907,4.7608,220.4126),new VSC(1466,5.9133,206.1855),new VSC(1162,5.6197,14.2271),new VSC(1067,3.6082,426.5982),new VSC(239,3.861,433.712),new VSC(237,5.768,199.072),new VSC(166,5.116,3.181),new VSC(151,2.736,639.897),new VSC(131,4.743,227.526),new VSC(63,0.23,419.48),new VSC(62,4.74,103.09),new VSC(40,5.47,21.34),new VSC(40,5.96,95.98),new VSC(39,5.83,110.21),new VSC(28,3.01,647.01),new VSC(25,0.99,3.93),new VSC(19,1.92,853.2),new VSC(18,4.97,10.29),new VSC(18,1.03,412.37),new VSC(18,4.2,216.48),new VSC(18,3.32,309.28),new VSC(16,3.9,440.83),new VSC(16,5.62,117.32),new VSC(13,1.18,88.87),new VSC(11,5.58,11.05),new VSC(11,5.93,191.96),new VSC(10,3.95,209.37),new VSC(9,3.39,302.16),new VSC(8,4.88,323.51),new VSC(7,0.38,632.78),new VSC(6,2.25,522.58),new VSC(6,1.06,210.12),new VSC(5,4.64,234.64),new VSC(4,3.14,0),new VSC(4,2.31,515.46),new VSC(3,2.2,860.31),new VSC(3,0.59,529.69),new VSC(3,4.93,224.34),new VSC(3,0.42,625.67),new VSC(2,4.77,330.62),new VSC(2,3.35,429.78),new VSC(2,3.2,202.25),new VSC(2,1.19,1066.5),new VSC(2,1.35,405.26),new VSC(2,4.16,223.59),new VSC(2,3.07,654.12)];GFX.g_L4SaturnCoefficients=[new VSC(1662,3.9983,7.1135),new VSC(257,2.984,220.413),new VSC(236,3.902,14.227),new VSC(149,2.741,213.299),new VSC(114,3.142,0),new VSC(110,1.515,206.186),new VSC(68,1.72,426.6),new VSC(40,2.05,433.71),new VSC(38,1.24,199.07),new VSC(31,3.01,227.53),new VSC(15,0.83,639.9),new VSC(9,3.71,21.34),new VSC(6,2.42,419.48),new VSC(6,1.16,647.01),new VSC(4,1.45,95.98),new VSC(4,2.12,440.83),new VSC(3,4.09,110.21),new VSC(3,2.77,412.37),new VSC(3,3.01,88.87),new VSC(3,0,853.2),new VSC(3,0.39,103.09),new VSC(2,3.78,117.32),new VSC(2,2.83,234.64),new VSC(2,5.08,309.28),new VSC(2,2.24,216.48),new VSC(2,5.19,302.16),new VSC(1,1.55,191.96)];GFX.g_L5SaturnCoefficients=[new VSC(124,2.259,7.114),new VSC(34,2.16,14.23),new VSC(28,1.2,220.41),new VSC(6,1.22,227.53),new VSC(5,0.24,433.71),new VSC(4,6.23,426.6),new VSC(3,2.97,199.07),new VSC(3,4.29,206.19),new VSC(2,6.25,213.3),new VSC(1,5.28,639.9),new VSC(1,0.24,440.83),new VSC(1,3.14,0)];GFX.g_B0SaturnCoefficients=[new VSC(4330678,3.6028443,213.2990954),new VSC(240348,2.852385,426.598191),new VSC(84746,0,0),new VSC(34116,0.57297,206.18555),new VSC(30863,3.48442,220.41264),new VSC(14734,2.11847,639.89729),new VSC(9917,5.79,419.4846),new VSC(6994,4.736,7.1135),new VSC(4808,5.4331,316.3919),new VSC(4788,4.9651,110.2063),new VSC(3432,2.7326,433.7117),new VSC(1506,6.013,103.0928),new VSC(1060,5.631,529.691),new VSC(969,5.204,632.784),new VSC(942,1.396,853.196),new VSC(708,3.803,323.505),new VSC(552,5.131,202.253),new VSC(400,3.359,227.526),new VSC(319,3.626,209.367),new VSC(316,1.997,647.011),new VSC(314,0.465,217.231),new VSC(284,4.886,224.345),new VSC(236,2.139,11.046),new VSC(215,5.95,846.083),new VSC(209,2.12,415.552),new VSC(207,0.73,199.072),new VSC(179,2.954,63.736),new VSC(141,0.644,490.334),new VSC(139,4.595,14.227),new VSC(139,1.998,735.877),new VSC(135,5.245,742.99),new VSC(122,3.115,522.577),new VSC(116,3.109,216.48),new VSC(114,0.963,210.118)];GFX.g_B1SaturnCoefficients=[new VSC(397555,5.3329,213.299095),new VSC(49479,3.14159,0),new VSC(18572,6.09919,426.59819),new VSC(14801,2.30586,206.18555),new VSC(9644,1.6967,220.4126),new VSC(3757,1.2543,419.4846),new VSC(2717,5.9117,639.8973),new VSC(1455,0.8516,433.7117),new VSC(1291,2.9177,7.1135),new VSC(853,0.436,316.392),new VSC(298,0.919,632.784),new VSC(292,5.316,853.196),new VSC(284,1.619,227.526),new VSC(275,3.889,103.093),new VSC(172,0.052,647.011),new VSC(166,2.444,199.072),new VSC(158,5.209,110.206),new VSC(128,1.207,529.691),new VSC(110,2.457,217.231),new VSC(82,2.76,210.12),new VSC(81,2.86,14.23),new VSC(69,1.66,202.25),new VSC(65,1.26,216.48),new VSC(61,1.25,209.37),new VSC(59,1.82,323.51),new VSC(46,0.82,440.83),new VSC(36,1.82,224.34),new VSC(34,2.84,117.32),new VSC(33,1.31,412.37),new VSC(32,1.19,846.08),new VSC(27,4.65,1066.5),new VSC(27,4.44,11.05)];GFX.g_B2SaturnCoefficients=[new VSC(20630,0.50482,213.2991),new VSC(3720,3.9983,206.1855),new VSC(1627,6.1819,220.4126),new VSC(1346,0,0),new VSC(706,3.039,419.485),new VSC(365,5.099,426.598),new VSC(330,5.279,433.712),new VSC(219,3.828,639.897),new VSC(139,1.043,7.114),new VSC(104,6.157,227.526),new VSC(93,1.98,316.39),new VSC(71,4.15,199.07),new VSC(52,2.88,632.78),new VSC(49,4.43,647.01),new VSC(41,3.16,853.2),new VSC(29,4.53,210.12),new VSC(24,1.12,14.23),new VSC(21,4.35,217.23),new VSC(20,5.31,440.83),new VSC(18,0.85,110.21),new VSC(17,5.68,216.48),new VSC(16,4.26,103.09),new VSC(14,3,412.37),new VSC(12,2.53,529.69),new VSC(8,3.32,202.25),new VSC(7,5.56,209.37),new VSC(7,0.29,323.51),new VSC(6,1.16,117.32),new VSC(6,3.61,869.31)];GFX.g_B3SaturnCoefficients=[new VSC(666,1.99,213.299),new VSC(632,5.698,206.186),new VSC(398,0,0),new VSC(188,4.338,220.413),new VSC(92,4.84,419.48),new VSC(52,3.42,433.71),new VSC(42,2.38,426.6),new VSC(26,4.4,227.53),new VSC(21,5.85,199.07),new VSC(18,1.99,639.9),new VSC(11,5.37,7.11),new VSC(10,2.55,647.01),new VSC(7,3.46,316.39),new VSC(6,4.8,632.78),new VSC(6,0.02,210.12),new VSC(6,3.52,440.83),new VSC(5,5.64,14.23),new VSC(5,1.22,853.2),new VSC(4,4.71,412.37),new VSC(3,0.63,103.09),new VSC(2,3.72,216.48)];GFX.g_B4SaturnCoefficients=[new VSC(80,1.12,206.19),new VSC(32,3.12,213.3),new VSC(17,2.48,220.41),new VSC(12,3.14,0),new VSC(9,0.38,419.48),new VSC(6,1.56,433.71),new VSC(5,2.63,227.53),new VSC(5,1.28,199.07),new VSC(1,1.43,426.6),new VSC(1,0.67,647.01),new VSC(1,1.72,440.83),new VSC(1,6.18,639.9)];GFX.g_B5SaturnCoefficients=[new VSC(8,2.82,206.19),new VSC(1,0.51,220.41)];GFX.g_R0SaturnCoefficients=[new VSC(955758136,0,0),new VSC(52921382,2.3922622,213.29909544),new VSC(1873680,5.2354961,206.1855484),new VSC(1464664,1.6476305,426.5981909),new VSC(821891,5.9352,316.39187),new VSC(547507,5.015326,103.092774),new VSC(371684,2.271148,220.412642),new VSC(361778,3.139043,7.113547),new VSC(140618,5.704067,632.783739),new VSC(108975,3.293136,110.206321),new VSC(69007,5.941,419.48464),new VSC(61053,0.94038,639.89729),new VSC(48913,1.55733,202.2534),new VSC(34144,0.19519,277.03499),new VSC(32402,5.47085,949.17561),new VSC(20937,0.46349,735.87651),new VSC(20839,1.52103,433.71174),new VSC(20747,5.33256,199.072),new VSC(15298,3.05944,529.69097),new VSC(14296,2.60434,323.50542),new VSC(12884,1.64892,138.5175),new VSC(11993,5.98051,846.08283),new VSC(11380,1.73106,522.57742),new VSC(9796,5.2048,1265.5675),new VSC(7753,5.8519,95.9792),new VSC(6771,3.0043,14.2271),new VSC(6466,0.1773,1052.2684),new VSC(5850,1.4552,415.5525),new VSC(5307,0.5974,63.7359),new VSC(4696,2.1492,227.5262),new VSC(4044,1.6401,209.3669),new VSC(3688,0.7802,412.3711),new VSC(3461,1.8509,175.1661),new VSC(3420,4.9455,1581.9593),new VSC(3401,0.5539,350.3321),new VSC(3376,3.6953,224.3448),new VSC(2976,5.6847,210.1177),new VSC(2885,1.3876,838.9693),new VSC(2881,0.1796,853.1964),new VSC(2508,3.5385,742.9901),new VSC(2448,6.1841,1368.6603),new VSC(2406,2.9656,117.3199),new VSC(2174,0.0151,340.7709),new VSC(2024,5.0541,11.0457)];GFX.g_R1SaturnCoefficients=[new VSC(6182981,0.2584352,213.2990954),new VSC(506578,0.711147,206.185548),new VSC(341394,5.796358,426.598191),new VSC(188491,0.472157,220.412642),new VSC(186262,3.141593,0),new VSC(143891,1.407449,7.113547),new VSC(49621,6.01744,103.09277),new VSC(20928,5.09246,639.89729),new VSC(19953,1.1756,419.48464),new VSC(18840,1.6082,110.20632),new VSC(13877,0.75886,199.072),new VSC(12893,5.9433,433.71174),new VSC(5397,1.2885,14.2271),new VSC(4869,0.8679,323.5054),new VSC(4247,0.393,227.5262),new VSC(3252,1.2585,95.9792),new VSC(3081,3.4366,522.5774),new VSC(2909,4.6068,202.2534),new VSC(2856,2.1673,735.8765),new VSC(1988,2.4505,412.3711),new VSC(1941,6.0239,209.3669),new VSC(1581,1.2919,210.1177),new VSC(1340,4.308,853.1964),new VSC(1316,1.253,117.3199),new VSC(1203,1.8665,316.3919),new VSC(1091,0.0753,216.4805),new VSC(966,0.48,632.784),new VSC(954,5.152,647.011),new VSC(898,0.983,529.691),new VSC(882,1.885,1052.268),new VSC(874,1.402,224.345),new VSC(785,3.064,838.969),new VSC(740,1.382,625.67),new VSC(658,4.144,309.278),new VSC(650,1.725,742.99),new VSC(613,3.033,63.736),new VSC(599,2.549,217.231),new VSC(503,2.13,3.932)];GFX.g_R2SaturnCoefficients=[new VSC(436902,4.786717,213.299095),new VSC(71923,2.5007,206.18555),new VSC(49767,4.97168,220.41264),new VSC(43221,3.8694,426.59819),new VSC(29646,5.9631,7.11355),new VSC(4721,2.4753,199.072),new VSC(4142,4.1067,433.7117),new VSC(3789,3.0977,639.8973),new VSC(2964,1.3721,103.0928),new VSC(2556,2.8507,419.4846),new VSC(2327,0,0),new VSC(2208,6.2759,110.2063),new VSC(2188,5.8555,14.2271),new VSC(1957,4.9245,227.5262),new VSC(924,5.464,323.505),new VSC(706,2.971,95.979),new VSC(546,4.129,412.371),new VSC(431,5.178,522.577),new VSC(405,4.173,209.367),new VSC(391,4.481,216.48),new VSC(374,5.834,117.32),new VSC(361,3.277,647.011),new VSC(356,3.192,210.118),new VSC(326,2.269,853.196),new VSC(207,4.022,735.877),new VSC(204,0.088,202.253),new VSC(180,3.597,632.784),new VSC(178,4.097,440.825),new VSC(154,3.135,625.67),new VSC(148,0.136,302.165),new VSC(133,2.594,191.958),new VSC(132,5.933,309.278)];GFX.g_R3SaturnCoefficients=[new VSC(20315,3.02187,213.2991),new VSC(8924,3.1914,220.4126),new VSC(6909,4.3517,206.1855),new VSC(4087,4.2241,7.1135),new VSC(3879,2.0106,426.5982),new VSC(1071,4.2036,199.072),new VSC(907,2.283,433.712),new VSC(606,3.175,227.526),new VSC(597,4.135,14.227),new VSC(483,1.173,639.897),new VSC(393,0,0),new VSC(229,4.698,419.485),new VSC(188,4.59,110.206),new VSC(150,3.202,103.093),new VSC(121,3.768,323.505),new VSC(102,4.71,95.979),new VSC(101,5.819,412.371),new VSC(93,1.44,647.01),new VSC(84,2.63,216.48),new VSC(73,4.15,117.32),new VSC(62,2.31,440.83),new VSC(55,0.31,853.2),new VSC(50,2.39,209.37),new VSC(45,4.37,191.96),new VSC(41,0.69,522.58),new VSC(40,1.84,302.16),new VSC(38,5.94,88.87),new VSC(32,4.01,21.34)];GFX.g_R4SaturnCoefficients=[new VSC(1202,1.415,220.4126),new VSC(708,1.162,213.299),new VSC(516,6.24,206.186),new VSC(427,2.469,7.114),new VSC(268,0.187,426.598),new VSC(170,5.959,199.072),new VSC(150,0.48,433.712),new VSC(145,1.442,227.526),new VSC(121,2.405,14.227),new VSC(47,5.57,639.9),new VSC(19,5.86,647.01),new VSC(17,0.53,440.83),new VSC(16,2.9,110.21),new VSC(15,0.3,419.48),new VSC(14,1.3,412.37),new VSC(13,2.09,323.51),new VSC(11,0.22,95.98),new VSC(11,2.46,117.32),new VSC(10,3.14,0),new VSC(9,1.56,88.87),new VSC(9,2.28,21.34),new VSC(9,0.68,216.48),new VSC(8,1.27,234.64)];GFX.g_R5SaturnCoefficients=[new VSC(129,5.913,220.413),new VSC(32,0.69,7.11),new VSC(27,5.91,227.53),new VSC(20,4.95,433.71),new VSC(20,0.67,14.23),new VSC(14,2.67,206.19),new VSC(14,1.46,199.07),new VSC(13,4.59,426.6),new VSC(7,4.63,213.3),new VSC(5,3.61,639.9),new VSC(4,4.9,440.83),new VSC(3,4.07,647.01),new VSC(3,4.66,191.96),new VSC(3,0.49,323.51),new VSC(3,3.18,419.48),new VSC(2,3.7,88.87),new VSC(2,3.32,95.98),new VSC(2,0.56,117.32)];GFX.g_L0UranusCoefficients=[new VSC(548129294,0,0),new VSC(9260408,0.8910642,74.7815986),new VSC(1504248,3.6271926,1.4844727),new VSC(365982,1.899622,73.297126),new VSC(272328,3.358237,149.563197),new VSC(70328,5.39254,63.7359),new VSC(68893,6.09292,76.26607),new VSC(61999,2.26952,2.96895),new VSC(61951,2.85099,11.0457),new VSC(26469,3.14152,71.81265),new VSC(25711,6.1138,454.90937),new VSC(21079,4.36059,148.07872),new VSC(17819,1.74437,36.64856),new VSC(14613,4.73732,3.93215),new VSC(11163,5.82682,224.3448),new VSC(10998,0.48865,138.5175),new VSC(9527,2.9552,35.1641),new VSC(7546,5.2363,109.9457),new VSC(4220,3.2333,70.8494),new VSC(4052,2.2775,151.0477),new VSC(3490,5.4831,146.5943),new VSC(3355,1.0655,4.4534),new VSC(3144,4.752,77.7505),new VSC(2927,4.629,9.5612),new VSC(2922,5.3524,85.8273),new VSC(2273,4.366,70.3282),new VSC(2149,0.6075,38.133),new VSC(2051,1.5177,0.1119),new VSC(1992,4.9244,277.035),new VSC(1667,3.6274,380.1278),new VSC(1533,2.5859,52.6902),new VSC(1376,2.0428,65.2204),new VSC(1372,4.1964,111.4302),new VSC(1284,3.1135,202.2534),new VSC(1282,0.5427,222.8603),new VSC(1244,0.9161,2.4477),new VSC(1221,0.199,108.4612),new VSC(1151,4.179,33.6796),new VSC(1150,0.9334,3.1814),new VSC(1090,1.775,12.5302),new VSC(1072,0.2356,62.2514),new VSC(946,1.192,127.472),new VSC(708,5.183,213.299),new VSC(653,0.966,78.714),new VSC(628,0.182,984.6),new VSC(607,5.432,529.691),new VSC(559,3.358,0.521),new VSC(524,2.013,299.126),new VSC(483,2.106,0.963),new VSC(471,1.407,184.727),new VSC(467,0.415,145.11),new VSC(434,5.521,183.243),new VSC(405,5.987,8.077),new VSC(399,0.338,415.552),new VSC(396,5.87,351.817),new VSC(379,2.35,56.622),new VSC(310,5.833,145.631),new VSC(300,5.644,22.091),new VSC(294,5.839,39.618),new VSC(252,1.637,221.376),new VSC(249,4.746,225.829),new VSC(239,2.35,137.033),new VSC(224,0.516,84.343),new VSC(223,2.843,0.261),new VSC(220,1.922,67.668),new VSC(217,6.142,5.938),new VSC(216,4.778,340.771),new VSC(208,5.58,68.844),new VSC(202,1.297,0.048),new VSC(199,0.956,152.532),new VSC(194,1.888,456.394),new VSC(193,0.916,453.425),new VSC(187,1.319,0.16),new VSC(182,3.536,79.235),new VSC(173,1.539,160.609),new VSC(172,5.68,219.891),new VSC(170,3.677,5.417),new VSC(169,5.879,18.159),new VSC(165,1.424,106.977),new VSC(163,3.05,112.915),new VSC(158,0.738,54.175),new VSC(147,1.263,59.804),new VSC(143,1.3,35.425),new VSC(139,5.386,32.195),new VSC(139,4.26,909.819),new VSC(124,1.374,7.114),new VSC(110,2.027,554.07),new VSC(109,5.706,77.963),new VSC(104,5.028,0.751),new VSC(104,1.458,24.379),new VSC(103,0.681,14.978)];GFX.g_L1UranusCoefficients=[new VSC(7502543122,0,0),new VSC(154458,5.242017,74.781599),new VSC(24456,1.71256,1.48447),new VSC(9258,0.4284,11.0457),new VSC(8266,1.5022,63.7359),new VSC(7842,1.3198,149.5632),new VSC(3899,0.4648,3.9322),new VSC(2284,4.1737,76.2661),new VSC(1927,0.5301,2.9689),new VSC(1233,1.5863,70.8494),new VSC(791,5.436,3.181),new VSC(767,1.996,73.297),new VSC(482,2.984,85.827),new VSC(450,4.138,138.517),new VSC(446,3.723,224.345),new VSC(427,4.731,71.813),new VSC(354,2.583,148.079),new VSC(348,2.454,9.561),new VSC(317,5.579,52.69),new VSC(206,2.363,2.448),new VSC(189,4.202,56.622),new VSC(184,0.284,151.048),new VSC(180,5.684,12.53),new VSC(171,3.001,78.714),new VSC(158,2.909,0.963),new VSC(155,5.591,4.453),new VSC(154,4.652,35.164),new VSC(152,2.942,77.751),new VSC(143,2.59,62.251),new VSC(121,4.148,127.472),new VSC(116,3.732,65.22),new VSC(102,4.188,145.631),new VSC(102,6.034,0.112),new VSC(88,3.99,18.16),new VSC(88,6.16,202.25),new VSC(81,2.64,22.09),new VSC(72,6.05,70.33),new VSC(69,4.05,77.96),new VSC(59,3.7,67.67),new VSC(47,3.54,351.82),new VSC(44,5.91,7.11),new VSC(43,5.72,5.42),new VSC(39,4.92,222.86),new VSC(36,5.9,33.68),new VSC(36,3.29,8.08),new VSC(36,3.33,71.6),new VSC(35,5.08,38.13),new VSC(31,5.62,984.6),new VSC(31,5.5,59.8),new VSC(31,5.46,160.61),new VSC(30,1.66,447.8),new VSC(29,1.15,462.02),new VSC(29,4.52,84.34),new VSC(27,5.54,131.4),new VSC(27,6.15,299.13),new VSC(26,4.99,137.03),new VSC(25,5.74,380.13)];GFX.g_L2UranusCoefficients=[new VSC(53033,0,0),new VSC(2358,2.2601,74.7816),new VSC(769,4.526,11.046),new VSC(552,3.258,63.736),new VSC(542,2.276,3.932),new VSC(529,4.923,1.484),new VSC(258,3.691,3.181),new VSC(239,5.858,149.563),new VSC(182,6.218,70.849),new VSC(54,1.44,76.27),new VSC(49,6.03,56.62),new VSC(45,3.91,2.45),new VSC(45,0.81,85.83),new VSC(38,1.78,52.69),new VSC(37,4.46,2.97),new VSC(33,0.86,9.56),new VSC(29,5.1,73.3),new VSC(24,2.11,18.16),new VSC(22,5.99,138.52),new VSC(22,4.82,78.71),new VSC(21,2.4,77.96),new VSC(21,2.17,224.34),new VSC(17,2.54,145.63),new VSC(17,3.47,12.53),new VSC(12,0.02,22.09),new VSC(11,0.08,127.47),new VSC(10,5.16,71.6),new VSC(10,4.46,62.25),new VSC(9,4.26,7.11),new VSC(8,5.5,67.67),new VSC(7,1.25,5.42),new VSC(6,3.36,447.8),new VSC(6,5.45,65.22),new VSC(6,4.52,151.05),new VSC(6,5.73,462.02)];GFX.g_L3UranusCoefficients=[new VSC(121,0.024,74.782),new VSC(68,4.12,3.93),new VSC(53,2.39,11.05),new VSC(46,0,0),new VSC(45,2.04,3.18),new VSC(44,2.96,1.48),new VSC(25,4.89,63.74),new VSC(21,4.55,70.85),new VSC(20,2.31,149.56),new VSC(9,1.58,56.62),new VSC(4,0.23,18.16),new VSC(4,5.39,76.27),new VSC(4,0.95,77.96),new VSC(3,4.98,85.83),new VSC(3,4.13,52.69),new VSC(3,0.37,78.71),new VSC(2,0.86,145.63),new VSC(2,5.66,9.56)];GFX.g_L4UranusCoefficients=[new VSC(114,3.142,0),new VSC(6,4.58,74.78),new VSC(3,0.35,11.05),new VSC(1,3.42,56.62)];GFX.g_B0UranusCoefficients=[new VSC(1346278,2.6187781,74.7815986),new VSC(62341,5.08111,149.5632),new VSC(61601,3.14159,0),new VSC(9964,1.616,76.2661),new VSC(9926,0.5763,73.2971),new VSC(3259,1.2612,224.3448),new VSC(2972,2.2437,1.4845),new VSC(2010,6.0555,148.0787),new VSC(1522,0.2796,63.7359),new VSC(924,4.038,151.048),new VSC(761,6.14,71.813),new VSC(522,3.321,138.517),new VSC(463,0.743,85.827),new VSC(437,3.381,529.691),new VSC(435,0.341,77.751),new VSC(431,3.554,213.299),new VSC(420,5.213,11.046),new VSC(245,0.788,2.969),new VSC(233,2.257,222.86),new VSC(216,1.591,38.133),new VSC(180,3.725,299.126),new VSC(175,1.236,146.594),new VSC(174,1.937,380.128),new VSC(160,5.336,111.43),new VSC(144,5.962,35.164),new VSC(116,5.739,70.849),new VSC(106,0.941,70.328),new VSC(102,2.619,78.714)];GFX.g_B1UranusCoefficients=[new VSC(206366,4.123943,74.781599),new VSC(8563,0.3382,149.5632),new VSC(1726,2.1219,73.2971),new VSC(1374,0,0),new VSC(1369,3.0686,76.2661),new VSC(451,3.777,1.484),new VSC(400,2.848,224.345),new VSC(307,1.255,148.079),new VSC(154,3.786,63.736),new VSC(112,5.573,151.048),new VSC(111,5.329,138.517),new VSC(83,3.59,71.81),new VSC(56,3.4,85.83),new VSC(54,1.7,77.75),new VSC(42,1.21,11.05),new VSC(41,4.45,78.71),new VSC(32,3.77,222.86),new VSC(30,2.56,2.97),new VSC(27,5.34,213.3),new VSC(26,0.42,380.13)];GFX.g_B2UranusCoefficients=[new VSC(9212,5.8004,74.7816),new VSC(557,0,0),new VSC(286,2.177,149.563),new VSC(95,3.84,73.3),new VSC(45,4.88,76.27),new VSC(20,5.46,1.48),new VSC(15,0.88,138.52),new VSC(14,2.85,148.08),new VSC(14,5.07,63.74),new VSC(10,5,224.34),new VSC(8,6.27,78.71)];GFX.g_B3UranusCoefficients=[new VSC(268,1.251,74.782),new VSC(11,3.14,0),new VSC(6,4.01,149.56),new VSC(3,5.78,73.3)];GFX.g_B4UranusCoefficients=[new VSC(6,2.85,74.78)];GFX.g_R0UranusCoefficients=[new VSC(1921264848,0,0),new VSC(88784984,5.60377527,74.78159857),new VSC(3440836,0.328361,73.2971259),new VSC(2055653,1.7829517,149.5631971),new VSC(649322,4.522473,76.266071),new VSC(602248,3.860038,63.735898),new VSC(496404,1.401399,454.909367),new VSC(338526,1.580027,138.517497),new VSC(243508,1.570866,71.812653),new VSC(190522,1.998094,1.484473),new VSC(161858,2.791379,148.078724),new VSC(143706,1.383686,11.0457),new VSC(93192,0.17437,36.64856),new VSC(89806,3.66105,109.94569),new VSC(71424,4.24509,224.3448),new VSC(46677,1.39977,35.16409),new VSC(39026,3.36235,277.03499),new VSC(39010,1.66971,70.84945),new VSC(36755,3.88649,146.59425),new VSC(30349,0.701,151.04767),new VSC(29156,3.18056,77.75054),new VSC(25786,3.78538,85.8273),new VSC(25620,5.25656,380.12777),new VSC(22637,0.72519,529.69097),new VSC(20473,2.7964,70.32818),new VSC(20472,1.55589,202.2534),new VSC(17901,0.55455,2.96895),new VSC(15503,5.35405,38.13304),new VSC(14702,4.90434,108.46122),new VSC(12897,2.62154,111.43016),new VSC(12328,5.96039,127.4718),new VSC(11959,1.75044,984.60033),new VSC(11853,0.99343,52.6902),new VSC(11696,3.29826,3.93215),new VSC(11495,0.43774,65.22037),new VSC(10793,1.42105,213.2991),new VSC(9111,4.9964,62.2514),new VSC(8421,5.2535,222.8603),new VSC(8402,5.0388,415.5525),new VSC(7449,0.7949,351.8166),new VSC(7329,3.9728,183.2428),new VSC(6046,5.6796,78.7138),new VSC(5524,3.115,9.5612),new VSC(5445,5.1058,145.1098),new VSC(5238,2.6296,33.6796),new VSC(4079,3.2206,340.7709),new VSC(3919,4.2502,39.6175),new VSC(3802,6.1099,184.7273),new VSC(3781,3.4584,456.3938),new VSC(3687,2.4872,453.4249),new VSC(3102,4.1403,219.8914),new VSC(2963,0.8298,56.6224),new VSC(2942,0.4239,299.1264),new VSC(2940,2.1464,137.033),new VSC(2938,3.6766,140.002),new VSC(2865,0.31,12.5302),new VSC(2538,4.8546,131.4039),new VSC(2364,0.4425,554.07),new VSC(2183,2.9404,305.3462)];GFX.g_R1UranusCoefficients=[new VSC(1479896,3.6720571,74.7815986),new VSC(71212,6.22601,63.7359),new VSC(68627,6.13411,149.5632),new VSC(24060,3.14159,0),new VSC(21468,2.60177,76.26607),new VSC(20857,5.24625,11.0457),new VSC(11405,0.01848,70.84945),new VSC(7497,0.4236,73.2971),new VSC(4244,1.4169,85.8273),new VSC(3927,3.1551,71.8127),new VSC(3578,2.3116,224.3448),new VSC(3506,2.5835,138.5175),new VSC(3229,5.255,3.9322),new VSC(3060,0.1532,1.4845),new VSC(2564,0.9808,148.0787),new VSC(2429,3.9944,52.6902),new VSC(1645,2.6535,127.4718),new VSC(1584,1.4305,78.7138),new VSC(1508,5.06,151.0477),new VSC(1490,2.6756,56.6224),new VSC(1413,4.5746,202.2534),new VSC(1403,1.3699,77.7505),new VSC(1228,1.047,62.2514),new VSC(1033,0.2646,131.4039),new VSC(992,2.172,65.22),new VSC(862,5.055,351.817),new VSC(744,3.076,35.164),new VSC(687,2.499,77.963),new VSC(647,4.473,70.328),new VSC(624,0.863,9.561),new VSC(604,0.907,984.6),new VSC(575,3.231,447.796),new VSC(562,2.718,462.023),new VSC(530,5.917,213.299),new VSC(528,5.151,2.969)];GFX.g_R2UranusCoefficients=[new VSC(22440,0.69953,74.7816),new VSC(4727,1.699,63.7359),new VSC(1682,4.6483,70.8494),new VSC(1650,3.0966,11.0457),new VSC(1434,3.5212,149.5632),new VSC(770,0,0),new VSC(500,6.172,76.266),new VSC(461,0.767,3.932),new VSC(390,4.496,56.622),new VSC(390,5.527,85.827),new VSC(292,0.204,52.69),new VSC(287,3.534,73.297),new VSC(273,3.847,138.517),new VSC(220,1.964,131.404),new VSC(216,0.848,77.963),new VSC(205,3.248,78.714),new VSC(149,4.898,127.472),new VSC(129,2.081,3.181)];GFX.g_R3UranusCoefficients=[new VSC(1164,4.7345,74.7816),new VSC(212,3.343,63.736),new VSC(196,2.98,70.849),new VSC(105,0.958,11.046),new VSC(73,1,149.56),new VSC(72,0.03,56.62),new VSC(55,2.59,3.93),new VSC(36,5.65,77.96),new VSC(34,3.82,76.27),new VSC(32,3.6,131.4)];GFX.g_R4UranusCoefficients=[new VSC(53,3.01,74.78),new VSC(10,1.91,56.62)];GFX.g_L0VenusCoefficients=[new VSC(317614667,0,0),new VSC(1353968,5.5931332,10213.2855462),new VSC(89892,5.3065,20426.57109),new VSC(5477,4.4163,7860.4194),new VSC(3456,2.6996,11790.6291),new VSC(2372,2.9938,3930.2097),new VSC(1664,4.2502,1577.3435),new VSC(1438,4.1575,9683.5946),new VSC(1317,5.1867,26.2983),new VSC(1201,6.1536,30639.8566),new VSC(769,0.816,9437.763),new VSC(761,1.95,529.691),new VSC(708,1.065,775.523),new VSC(585,3.998,191.448),new VSC(500,4.123,15720.839),new VSC(429,3.586,19367.189),new VSC(327,5.677,5507.553),new VSC(326,4.591,10404.734),new VSC(232,3.163,9153.904),new VSC(180,4.653,1109.379),new VSC(155,5.57,19651.048),new VSC(128,4.226,20.775),new VSC(128,0.962,5661.332),new VSC(106,1.537,801.821)];GFX.g_L1VenusCoefficients=[new VSC(1021352943053,0,0),new VSC(95708,2.46424,10213.28555),new VSC(14445,0.51625,20426.57109),new VSC(213,1.795,30639.857),new VSC(174,2.655,26.298),new VSC(152,6.106,1577.344),new VSC(82,5.7,191.45),new VSC(70,2.68,9437.76),new VSC(52,3.6,775.52),new VSC(38,1.03,529.69),new VSC(30,1.25,5507.55),new VSC(25,6.11,10404.73)];GFX.g_L2VenusCoefficients=[new VSC(54127,0,0),new VSC(3891,0.3451,10213.2855),new VSC(1338,2.0201,20426.5711),new VSC(24,2.05,26.3),new VSC(19,3.54,30639.86),new VSC(10,3.97,775.52),new VSC(7,1.52,1577.34),new VSC(6,1,191.45)];GFX.g_L3VenusCoefficients=[new VSC(136,4.804,10213.286),new VSC(78,3.67,20426.57),new VSC(26,0,0)];GFX.g_L4VenusCoefficients=[new VSC(114,3.1416,0),new VSC(3,5.21,20426.57),new VSC(2,2.51,10213.29)];GFX.g_L5VenusCoefficients=[new VSC(1,3.14,0)];GFX.g_B0VenusCoefficients=[new VSC(5923638,0.2670278,10213.2855462),new VSC(40108,1.14737,20426.57109),new VSC(32815,3.14737,0),new VSC(1011,1.0895,30639.8566),new VSC(149,6.254,18073.705),new VSC(138,0.86,1577.344),new VSC(130,3.672,9437.763),new VSC(120,3.705,2352.866),new VSC(108,4.539,22003.915)];GFX.g_B1VenusCoefficients=[new VSC(513348,1.803643,10213.285546),new VSC(4380,3.3862,20426.5711),new VSC(199,0,0),new VSC(197,2.53,30639.857)];GFX.g_B2VenusCoefficients=[new VSC(22378,3.38509,10213.28555),new VSC(282,0,0),new VSC(173,5.256,20426.571),new VSC(27,3.87,30639.86)];GFX.g_B3VenusCoefficients=[new VSC(647,4.992,10213.286),new VSC(20,3.14,0),new VSC(6,0.77,20426.57),new VSC(3,5.44,30639.86)];GFX.g_B4VenusCoefficients=[new VSC(14,0.32,10213.29)];GFX.g_R0VenusCoefficients=[new VSC(72334821,0,0),new VSC(489824,4.021518,10213.285546),new VSC(1658,4.9021,20426.5711),new VSC(1632,2.8455,7860.4194),new VSC(1378,1.1285,11790.6291),new VSC(498,2.587,9683.595),new VSC(374,1.423,3930.21),new VSC(264,5.529,9437.763),new VSC(237,2.551,15720.839),new VSC(222,2.013,19367.189),new VSC(126,2.728,1577.344),new VSC(119,3.02,10404.734)];GFX.g_R1VenusCoefficients=[new VSC(34551,0.89199,10213.28555),new VSC(234,1.772,20426.571),new VSC(234,3.142,0)];GFX.g_R2VenusCoefficients=[new VSC(1407,5.0637,10213.2855),new VSC(16,5.47,20426.57),new VSC(13,0,0)];GFX.g_R3VenusCoefficients=[new VSC(50,3.22,10213.29)];GFX.g_R4VenusCoefficients=[new VSC(1,0.92,10213.29)];wwtlib.AstroCalc.$0=new GMDS();wwtlib.AstroCalc.$1=new EPD();wwtlib.AstroCalc.$2=new CAAPhysicalJupiterDetails();wwtlib.AstroCalc.$3=0;wwtlib.SimpleLineShader.$0=null;wwtlib.SimpleLineShader.$1=null;wwtlib.SimpleLineShader.vertLoc=0;wwtlib.SimpleLineShader.lineColorLoc=null;wwtlib.SimpleLineShader.projMatLoc=null;wwtlib.SimpleLineShader.mvMatLoc=null;wwtlib.SimpleLineShader.initialized=false;wwtlib.SimpleLineShader.$2=null;wwtlib.LineShaderNormalDates.$0=null;wwtlib.LineShaderNormalDates.$1=null;wwtlib.LineShaderNormalDates.vertLoc=0;wwtlib.LineShaderNormalDates.colorLoc=0;wwtlib.LineShaderNormalDates.timeLoc=0;wwtlib.LineShaderNormalDates.lineColorLoc=null;wwtlib.LineShaderNormalDates.projMatLoc=null;wwtlib.LineShaderNormalDates.mvMatLoc=null;wwtlib.LineShaderNormalDates.jNowLoc=null;wwtlib.LineShaderNormalDates.decayLoc=null;wwtlib.LineShaderNormalDates.initialized=false;wwtlib.LineShaderNormalDates.$2=null;wwtlib.TimeSeriesPointSpriteShader.$0=null;wwtlib.TimeSeriesPointSpriteShader.$1=null;wwtlib.TimeSeriesPointSpriteShader.vertLoc=0;wwtlib.TimeSeriesPointSpriteShader.colorLoc=0;wwtlib.TimeSeriesPointSpriteShader.pointSizeLoc=0;wwtlib.TimeSeriesPointSpriteShader.timeLoc=0;wwtlib.TimeSeriesPointSpriteShader.projMatLoc=null;wwtlib.TimeSeriesPointSpriteShader.mvMatLoc=null;wwtlib.TimeSeriesPointSpriteShader.sampLoc=null;wwtlib.TimeSeriesPointSpriteShader.jNowLoc=null;wwtlib.TimeSeriesPointSpriteShader.decayLoc=null;wwtlib.TimeSeriesPointSpriteShader.lineColorLoc=null;wwtlib.TimeSeriesPointSpriteShader.initialized=false;wwtlib.TimeSeriesPointSpriteShader.$2=null;wwtlib.TileShader.$0=null;wwtlib.TileShader.$1=null;wwtlib.TileShader.vertLoc=0;wwtlib.TileShader.textureLoc=0;wwtlib.TileShader.projMatLoc=null;wwtlib.TileShader.mvMatLoc=null;wwtlib.TileShader.sampLoc=null;wwtlib.TileShader.initialized=false;wwtlib.TileShader.$2=null;wwtlib.TextShader.$0=null;wwtlib.TextShader.$1=null;wwtlib.TextShader.vertLoc=0;wwtlib.TextShader.textureLoc=0;wwtlib.TextShader.projMatLoc=null;wwtlib.TextShader.mvMatLoc=null;wwtlib.TextShader.sampLoc=null;wwtlib.TextShader.initialized=false;wwtlib.TextShader.$2=null;wwtlib.Grids.$0=null;wwtlib.Grids.$1=null;wwtlib.Grids.$3=0;wwtlib.Grids.$4=0;wwtlib.Grids.$5=[31,28.2421,31,30,31,30,31,31,30,31,30,31];wwtlib.Grids.$6=['January','February','March','April','May','June','July','August','September','October','November','December'];wwtlib.Grids.$7=null;wwtlib.Grids.$8=0;wwtlib.Grids.$9=null;wwtlib.Grids.$B=null;wwtlib.Grids.$C=null;wwtlib.Grids.$E=null;wwtlib.Grids.$F=null;wwtlib.Grids.$11=null;wwtlib.Grids.$12=null;wwtlib.Grids.$14=null;wwtlib.Grids.$15=null;wwtlib.LayerManager.$0=0;wwtlib.LayerManager.$1=false;wwtlib.LayerManager.$2={};wwtlib.LayerManager.$3={};wwtlib.LayerManager.$4={};wwtlib.LayerManager.$5={};wwtlib.LayerManager.$6='Earth';wwtlib.LayerManager.$7={};wwtlib.LayerManager.$8={};(function(){wwtlib.LayerManager.initLayers();})();
wwtlib.LayerUI.$0=null;wwtlib.Orbit.$3=false;wwtlib.TimeSeriesLayer.$27=null;wwtlib.Planets.$0=null;wwtlib.Planets.$1=null;wwtlib.Planets.$2=null;wwtlib.Planets.$3=null;wwtlib.Planets.$4=null;wwtlib.Planets.$5=null;wwtlib.Planets.highPercision=true;wwtlib.Planets.showActualSize=wwtlib.Settings.get_active().get_actualPlanetScale();wwtlib.Planets.RC=(Math.PI/180);wwtlib.Planets.planetOrbitalYears=null;wwtlib.Planets.$6=null;wwtlib.Planets.planetRotations=null;wwtlib.Planets.planetColors=null;wwtlib.Planets.planetRotationPeriod=null;wwtlib.Planets.$7=0;wwtlib.Planets.$8=null;wwtlib.Planets.$9=-2;wwtlib.Planets.$A=256;wwtlib.Planets.$B=23.5*wwtlib.Planets.RC;wwtlib.Planets.$D={};wwtlib.Planets.$F=new Date();wwtlib.Planets.$12=new Array(2);wwtlib.Planets.$13=null;wwtlib.Planets.$14=null;wwtlib.RenderContext.back=0;wwtlib.RenderTriangle.width=1024;wwtlib.RenderTriangle.height=768;wwtlib.RenderTriangle.$1=-0.5;wwtlib.RenderTriangle.trianglesRendered=0;wwtlib.RenderTriangle.trianglesCulled=0;wwtlib.RenderTriangle.renderingOn=true;wwtlib.RenderTriangle.$5=1;wwtlib.RenderTriangle.cullInside=true;wwtlib.RenderTriangle.hw=0;wwtlib.RenderTriangle.qw=0;wwtlib.RenderTriangle.hh=0;wwtlib.RenderTriangle.qh=0;wwtlib.Settings.$0=null;wwtlib.Settings.tourSettings=null;wwtlib.GlyphCache.$0={};wwtlib.GlyphCache.$E='';wwtlib.SpaceTimeController.last=Date.get_now();wwtlib.SpaceTimeController.$0=0;wwtlib.SpaceTimeController.$1=Date.get_now();wwtlib.SpaceTimeController.$2=true;wwtlib.SpaceTimeController.$3=1;wwtlib.SpaceTimeController.$4=null;wwtlib.SpaceTimeController.$5=0;wwtlib.Tile.currentRenderGeneration=0;wwtlib.Tile.tileTargetX=-1;wwtlib.Tile.tileTargetY=-1;wwtlib.Tile.tileTargetLevel=-1;wwtlib.Tile.tilesInView=0;wwtlib.Tile.trianglesRendered=0;wwtlib.Tile.tilesTouched=0;wwtlib.Tile.frustumList=null;wwtlib.Tile.prepDevice=null;wwtlib.Tile.uvMultiple=256;wwtlib.Tile.callCount=0;wwtlib.Tile.useAccomidation=true;wwtlib.Tile.demEnabled=false;wwtlib.Tile.maxLevel=20;wwtlib.Tile.meshComplexity=50;wwtlib.Tile.imageQuality=50;wwtlib.Tile.lastDeepestLevel=0;wwtlib.Tile.deepestLevel=0;wwtlib.Tile.RC=(3.1415927/180);wwtlib.wwtlib$3.$0={};wwtlib.wwtlib$3.$1={};wwtlib.wwtlib$3.$6=8;wwtlib.wwtlib$3.$C=0;wwtlib.wwtlib$3.$D=800;wwtlib.wwtlib$3.$E=200;wwtlib.wwtlib$3.$F=0;wwtlib.wwtlib$3.$10=0;wwtlib.ToastTile.slashIndexBuffer=new Array(64);wwtlib.ToastTile.backSlashIndexBuffer=new Array(64);wwtlib.ToastTile.rootIndexBuffer=new Array(4);wwtlib.ToastTile.$1A=null;wwtlib.ToastTile.$1B=null;wwtlib.ToastTile.$1C=null;wwtlib.ToastTile.$1D=null;wwtlib.Overlay.clipboardFormat='WorldWideTelescope.Overlay';wwtlib.Overlay.nextId=11231;wwtlib.Overlay.RC=3.1415927/180;wwtlib.TourPlayer.$24=false;wwtlib.TourPlayer.$29=null;wwtlib.TourPlayer.$2A=false;wwtlib.TourPlayer.noRestoreUIOnStop=false;wwtlib.TourStop.clipboardFormat='WorldWideTelescope.Slide';wwtlib.UiTools.kilometersPerAu=149598000;wwtlib.UiTools.auPerParsec=206264.806;wwtlib.UiTools.auPerLightYear=63239.6717;wwtlib.UiTools.ssmUnitConversion=370;wwtlib.Guid.$0=11232;wwtlib.VizLayer.earthRadius=6371000;wwtlib.WWTControl.singleton=null;wwtlib.WWTControl.imageSets=[];wwtlib.WWTControl.exploreRoot=new wwtlib.Folder();wwtlib.WWTControl.startLat=0;wwtlib.WWTControl.startLng=0;wwtlib.WWTControl.startZoom=360;wwtlib.WWTControl.startMode='Sky';wwtlib.WWTControl.imageSetName='';wwtlib.WWTControl.showDataLayers=false;wwtlib.WWTControl.$B=false;wwtlib.WWTControl.constellationsFigures=null;wwtlib.WWTControl.constellationsBoundries=null;wwtlib.WWTControl.scriptInterface=null;(function(){wwtlib.WWTControl.singleton=new wwtlib.WWTControl();wwtlib.WWTControl.singleton.renderContext=new wwtlib.RenderContext();wwtlib.SpaceTimeController.last=Date.get_now();wwtlib.SpaceTimeController.updateClock();})();
wwtlib.Constellations.$1=null;wwtlib.Constellations.RC=0.017453292519943;wwtlib.Constellations.$9=0.745;wwtlib.Constellations.containment=wwtlib.Constellations.create('Constellations','http://www.worldwidetelescope.org/data/constellations.txt',true,true,true);wwtlib.Constellations.$D='';wwtlib.Constellations.selectedSegment=null;wwtlib.Constellations.$E=null;wwtlib.Constellations.$F=null;wwtlib.Constellations.artwork=null;wwtlib.Constellations.boundries=null;wwtlib.Constellations.fullNames=null;wwtlib.Constellations.abbreviations=null;wwtlib.Constellations.constellationCentroids=null;wwtlib.Constellations.bitIDs=null;(function(){var $0='http://www.worldwidetelescope.org/wwtweb/catalog.aspx?q=ConstellationNamePositions_EN';wwtlib.Constellations.$1=new wwtlib.WebFile($0);wwtlib.Constellations.$1.onStateChange=wwtlib.Constellations.$12;wwtlib.Constellations.$1.send();})();
wwtlib.ConstellationFilter.families={};wwtlib.Coordinates.RC=(3.1415927/180);wwtlib.Coordinates.RCRA=(3.1415927/12);wwtlib.Coordinates.radius=1;wwtlib.Coordinates.$4=null;wwtlib.Matrix3d.$11=null;(function(){wwtlib.Matrix3d.$11=wwtlib.Matrix3d.$1A();})();
wwtlib.FolderBrowser.$7=false;wwtlib.FolderBrowser.$8=false;wwtlib.FolderBrowser.$9=0;wwtlib.FolderBrowser.$A=null;wwtlib.FolderBrowser.$B=null;wwtlib.FolderBrowser.$C=null;wwtlib.FolderBrowser.$D=null;wwtlib.FolderBrowser.$E=null;(function(){var $0=document.getElementById('canvas');})();
})();// This script was generated using Script# v0.7.4.0
